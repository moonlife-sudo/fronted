{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"leave-approval\"\n};\nvar _hoisted_2 = {\n  \"class\": \"page-header\"\n};\nvar _hoisted_3 = {\n  \"class\": \"card\"\n};\nvar _hoisted_4 = {\n  key: 0,\n  \"class\": \"empty\"\n};\nvar _hoisted_5 = {\n  key: 1,\n  \"class\": \"request-list\"\n};\nvar _hoisted_6 = {\n  \"class\": \"req-info\"\n};\nvar _hoisted_7 = {\n  \"class\": \"student\"\n};\nvar _hoisted_8 = {\n  \"class\": \"name\"\n};\nvar _hoisted_9 = {\n  \"class\": \"id\"\n};\nvar _hoisted_10 = {\n  \"class\": \"reason-box\"\n};\nvar _hoisted_11 = {\n  \"class\": \"reason\"\n};\nvar _hoisted_12 = {\n  \"class\": \"time\"\n};\nvar _hoisted_13 = {\n  \"class\": \"req-actions\"\n};\nvar _hoisted_14 = [\"onClick\"];\nvar _hoisted_15 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[0] || (_cache[0] = _createElementVNode(\"h1\", null, \"ËØ∑ÂÅáÂÆ°Êâπ\", -1 /* CACHED */)), _createElementVNode(\"p\", null, \"ÂΩìÂâçËØæÁ®ãÔºö\" + _toDisplayString($setup.courseName) + \" (ÂæÖÂ§ÑÁêÜ: \" + _toDisplayString($setup.requests.length) + \")\", 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_3, [$setup.requests.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, \"üéâ ÊâÄÊúâÁî≥ËØ∑ÈÉΩÂ∑≤Â§ÑÁêÜÂÆåÊØïÔºÅ\")) : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.requests, function (req) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: req.id,\n      \"class\": \"req-item\"\n    }, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"span\", _hoisted_8, _toDisplayString(req.studentName), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_9, _toDisplayString(req.studentId), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"span\", {\n      \"class\": _normalizeClass([\"type-tag\", req.type])\n    }, _toDisplayString(req.typeText), 3 /* TEXT, CLASS */), _createElementVNode(\"p\", _hoisted_11, _toDisplayString(req.reason), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_12, \" üïí \" + _toDisplayString(req.startDate) + \" Ëá≥ \" + _toDisplayString(req.endDate) + \" (ÂÖ±\" + _toDisplayString(req.days) + \"Â§©) \", 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"button\", {\n      \"class\": \"btn-approve\",\n      onClick: function onClick($event) {\n        return $setup.handleAction(req.id, 'approve');\n      }\n    }, \"ÊâπÂáÜ\", 8 /* PROPS */, _hoisted_14), _createElementVNode(\"button\", {\n      \"class\": \"btn-reject\",\n      onClick: function onClick($event) {\n        return $setup.handleAction(req.id, 'reject');\n      }\n    }, \"È©≥Âõû\", 8 /* PROPS */, _hoisted_15)])]);\n  }), 128 /* KEYED_FRAGMENT */))]))])]);\n}","map":{"version":3,"names":["_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_toDisplayString","$setup","courseName","requests","length","_hoisted_3","_hoisted_4","_hoisted_5","_Fragment","_renderList","req","key","id","_hoisted_6","_hoisted_7","_hoisted_8","studentName","_hoisted_9","studentId","_hoisted_10","_normalizeClass","type","typeText","_hoisted_11","reason","_hoisted_12","startDate","endDate","days","_hoisted_13","onClick","$event","handleAction","_hoisted_14","_hoisted_15"],"sources":["D:\\vvvvvvvvvscode_workspace\\fronted\\883Fronted_Final\\src\\views\\Teacher\\Teaching\\course\\leave\\Approval.vue"],"sourcesContent":["<template>\r\n  <div class=\"leave-approval\">\r\n    <div class=\"page-header\">\r\n      <h1>ËØ∑ÂÅáÂÆ°Êâπ</h1>\r\n      <p>ÂΩìÂâçËØæÁ®ãÔºö{{ courseName }} (ÂæÖÂ§ÑÁêÜ: {{ requests.length }})</p>\r\n    </div>\r\n\r\n    <div class=\"card\">\r\n      <div v-if=\"requests.length === 0\" class=\"empty\">üéâ ÊâÄÊúâÁî≥ËØ∑ÈÉΩÂ∑≤Â§ÑÁêÜÂÆåÊØïÔºÅ</div>\r\n\r\n      <div v-else class=\"request-list\">\r\n        <div v-for=\"req in requests\" :key=\"req.id\" class=\"req-item\">\r\n          <div class=\"req-info\">\r\n            <div class=\"student\">\r\n              <span class=\"name\">{{ req.studentName }}</span>\r\n              <span class=\"id\">{{ req.studentId }}</span>\r\n            </div>\r\n            <div class=\"reason-box\">\r\n              <span class=\"type-tag\" :class=\"req.type\">{{ req.typeText }}</span>\r\n              <p class=\"reason\">{{ req.reason }}</p>\r\n            </div>\r\n            <div class=\"time\">\r\n              üïí {{ req.startDate }} Ëá≥ {{ req.endDate }} (ÂÖ±{{ req.days }}Â§©)\r\n            </div>\r\n          </div>\r\n          <div class=\"req-actions\">\r\n            <button class=\"btn-approve\" @click=\"handleAction(req.id, 'approve')\">ÊâπÂáÜ</button>\r\n            <button class=\"btn-reject\" @click=\"handleAction(req.id, 'reject')\">È©≥Âõû</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\n\r\nconst courseName = ref('')\r\nconst requests = ref([])\r\n\r\n// ÂÅáÊï∞ÊçÆ\r\nconst mockRequests = [\r\n  { id: 101, studentName: 'ÊùéÊòé', studentId: '2023001', type: 'sick', typeText: 'ÁóÖÂÅá', reason: 'Êò®ÊôöÂèëÁÉß39Â∫¶ÔºåÁé∞Âú®ËøòÂú®ÂåªÈô¢ËæìÊ∂≤ÔºåÈôÑÂåªÈô¢ËØÅÊòé„ÄÇ', startDate: '2025-11-29', endDate: '2025-11-30', days: 2 },\r\n  { id: 102, studentName: 'ÁéãËä≥', studentId: '2023003', type: 'event', typeText: '‰∫ãÂÅá', reason: 'ÂÆ∂‰∏≠ÂßêÂßêÁªìÂ©öÔºåÈúÄË¶ÅÂõûÂéªÂ∏ÆÂøô„ÄÇ', startDate: '2025-12-01', endDate: '2025-12-03', days: 3 },\r\n  { id: 103, studentName: 'ËµµÂº∫', studentId: '2023004', type: 'sick', typeText: 'ÁóÖÂÅá', reason: 'ÊÄ•ÊÄßËÇ†ËÉÉÁÇé„ÄÇ', startDate: '2025-11-29', endDate: '2025-11-29', days: 1 },\r\n]\r\n\r\nonMounted(async () => {\r\n  courseName.value = sessionStorage.getItem('selectedCourseName') || 'Modern Cryptography'\r\n  // ÂêåÊ†∑Â∞ùËØïË∞ÉÊé•Âè£ÔºåÂ§±Ë¥•Áî®ÂÅáÊï∞ÊçÆ\r\n  try {\r\n    const res = await fetch('http://127.0.0.1:8081/teacher/leave-requests/pending', {\r\n      headers: { 'token': localStorage.getItem('token') }\r\n    })\r\n    const data = await res.json()\r\n    if (data.code === 1 && data.data.rows.length > 0) {\r\n      // ËøôÈáåÂ¶ÇÊûúÁúüÊúâÊï∞ÊçÆÔºåÈúÄË¶ÅÈÄÇÈÖçÂ≠óÊÆµÔºå‰∏∫‰∫Ü‰øùÈô©ÔºåÊºîÁ§∫Êó∂ËøòÊòØÊ∑∑ÂÖ•ÂÅáÊï∞ÊçÆÊØîËæÉÁ®≥\r\n      // ÁúüÂÆûÊÉÖÂÜµÔºöÂèØ‰ª•ÊääÂêéÁ´ØÊï∞ÊçÆ map ‰∏Ä‰∏ãÂä†ËøõÂéª\r\n    }\r\n    requests.value = mockRequests\r\n  } catch (e) {\r\n    requests.value = mockRequests\r\n  }\r\n})\r\n\r\nconst handleAction = (id, type) => {\r\n  const actionText = type === 'approve' ? 'Â∑≤ÊâπÂáÜ' : 'Â∑≤È©≥Âõû'\r\n  if (confirm(`Á°ÆÂÆöË¶Å${type === 'approve'?'ÊâπÂáÜ':'È©≥Âõû'}ËØ•Áî≥ËØ∑ÂêóÔºü`)) {\r\n    // ËßÜËßâ‰∏äÁßªÈô§ËØ•Êù°ÁõÆ\r\n    requests.value = requests.value.filter(r => r.id !== id)\r\n    alert(`${actionText}ÔºÅ`)\r\n    // ÂèØ‰ª•Âú®ËøôÈáåÂèë‰∏™ÂºÇÊ≠•ËØ∑Ê±ÇÁªôÂêéÁ´ØÔºå‰∏çÁÆ°ÁªìÊûú\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.leave-approval { padding: 24px; }\r\n.card { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }\r\n.empty { text-align: center; color: #999; padding: 40px; }\r\n\r\n.req-item { display: flex; justify-content: space-between; align-items: center; padding: 20px; border-bottom: 1px solid #eee; }\r\n.req-info { flex: 1; }\r\n\r\n.student { margin-bottom: 8px; font-weight: bold; }\r\n.student .id { color: #999; font-weight: normal; margin-left: 8px; font-size: 13px; }\r\n\r\n.reason-box { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; }\r\n.type-tag { padding: 2px 8px; font-size: 12px; border-radius: 4px; }\r\n.type-tag.sick { background: #fff1f0; color: #ff4d4f; border: 1px solid #ffccc7; }\r\n.type-tag.event { background: #fff7e6; color: #fa8c16; border: 1px solid #ffd591; }\r\n.reason { margin: 0; color: #555; }\r\n\r\n.time { font-size: 13px; color: #888; }\r\n\r\n.req-actions { display: flex; gap: 10px; }\r\n.btn-approve { background: #2A5CAA; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; }\r\n.btn-reject { background: white; border: 1px solid #ff4d4f; color: #ff4d4f; padding: 8px 16px; border-radius: 4px; cursor: pointer; }\r\n.btn-approve:hover { background: #1e4b8b; }\r\n.btn-reject:hover { background: #fff1f0; }\r\n</style>"],"mappings":";;EACO,SAAM;AAAgB;;EACpB,SAAM;AAAa;;EAKnB,SAAM;AAAM;;;EACmB,SAAM;;;;EAE5B,SAAM;;;EAET,SAAM;AAAU;;EACd,SAAM;AAAS;;EACZ,SAAM;AAAM;;EACZ,SAAM;AAAI;;EAEb,SAAM;AAAY;;EAElB,SAAM;AAAQ;;EAEd,SAAM;AAAM;;EAId,SAAM;AAAa;;;;uBAxBhCA,mBAAA,CA+BM,OA/BNC,UA+BM,GA9BJC,mBAAA,CAGM,OAHNC,UAGM,G,0BAFJD,mBAAA,CAAa,YAAT,MAAI,qBACRA,mBAAA,CAAyD,WAAtD,OAAK,GAAAE,gBAAA,CAAGC,MAAA,CAAAC,UAAU,IAAG,SAAO,GAAAF,gBAAA,CAAGC,MAAA,CAAAE,QAAQ,CAACC,MAAM,IAAG,GAAC,gB,GAGvDN,mBAAA,CAwBM,OAxBNO,UAwBM,GAvBOJ,MAAA,CAAAE,QAAQ,CAACC,MAAM,U,cAA1BR,mBAAA,CAAoE,OAApEU,UAAoE,EAApB,gBAAc,M,cAE9DV,mBAAA,CAoBM,OApBNW,UAoBM,I,kBAnBJX,mBAAA,CAkBMY,SAAA,QAAAC,WAAA,CAlBaR,MAAA,CAAAE,QAAQ,YAAfO,GAAG;yBAAfd,mBAAA,CAkBM;MAlBwBe,GAAG,EAAED,GAAG,CAACE,EAAE;MAAE,SAAM;QAC/Cd,mBAAA,CAYM,OAZNe,UAYM,GAXJf,mBAAA,CAGM,OAHNgB,UAGM,GAFJhB,mBAAA,CAA+C,QAA/CiB,UAA+C,EAAAf,gBAAA,CAAzBU,GAAG,CAACM,WAAW,kBACrClB,mBAAA,CAA2C,QAA3CmB,UAA2C,EAAAjB,gBAAA,CAAvBU,GAAG,CAACQ,SAAS,iB,GAEnCpB,mBAAA,CAGM,OAHNqB,WAGM,GAFJrB,mBAAA,CAAkE;MAA5D,SAAKsB,eAAA,EAAC,UAAU,EAASV,GAAG,CAACW,IAAI;wBAAKX,GAAG,CAACY,QAAQ,yBACxDxB,mBAAA,CAAsC,KAAtCyB,WAAsC,EAAAvB,gBAAA,CAAjBU,GAAG,CAACc,MAAM,iB,GAEjC1B,mBAAA,CAEM,OAFN2B,WAEM,EAFY,MACb,GAAAzB,gBAAA,CAAGU,GAAG,CAACgB,SAAS,IAAG,KAAG,GAAA1B,gBAAA,CAAGU,GAAG,CAACiB,OAAO,IAAG,KAAG,GAAA3B,gBAAA,CAAGU,GAAG,CAACkB,IAAI,IAAG,KAC7D,gB,GAEF9B,mBAAA,CAGM,OAHN+B,WAGM,GAFJ/B,mBAAA,CAAgF;MAAxE,SAAM,aAAa;MAAEgC,OAAK,WAALA,OAAKA,CAAAC,MAAA;QAAA,OAAE9B,MAAA,CAAA+B,YAAY,CAACtB,GAAG,CAACE,EAAE;MAAA;OAAc,IAAE,iBAAAqB,WAAA,GACvEnC,mBAAA,CAA8E;MAAtE,SAAM,YAAY;MAAEgC,OAAK,WAALA,OAAKA,CAAAC,MAAA;QAAA,OAAE9B,MAAA,CAAA+B,YAAY,CAACtB,GAAG,CAACE,EAAE;MAAA;OAAa,IAAE,iBAAAsB,WAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}