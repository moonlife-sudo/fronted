{"ast":null,"code":"import _regenerator from \"D:/883vue1/fronted-merge_fronted/883Fronted_Final/node_modules/@babel/runtime/helpers/esm/regenerator.js\";\nimport _objectSpread from \"D:/883vue1/fronted-merge_fronted/883Fronted_Final/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _asyncToGenerator from \"D:/883vue1/fronted-merge_fronted/883Fronted_Final/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.parse-int.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport { getTeachers, addTeacher, updateTeacher, deleteTeachers as deleteTeachersApi, getTeacherById } from '@/api/admin';\nexport default {\n  name: 'TeacherManage',\n  data: function data() {\n    return {\n      teachers: [],\n      loading: false,\n      currentPage: 1,\n      pageSize: 10,\n      total: 0,\n      selectedIds: [],\n      searchForm: {\n        full_name: '',\n        teacher_id_number: '',\n        department: '',\n        title: '',\n        status: ''\n      },\n      showDialog: false,\n      dialogMode: 'add',\n      formData: {\n        user_id: null,\n        username: '',\n        password: '',\n        full_name: '',\n        email: '',\n        phone_number: '',\n        gender: '',\n        department: '',\n        title: '',\n        office_location: '',\n        status: 1\n      }\n    };\n  },\n  computed: {\n    totalPages: function totalPages() {\n      return Math.ceil(this.total / this.pageSize);\n    },\n    selectAll: {\n      get: function get() {\n        return this.teachers.length > 0 && this.selectedIds.length === this.teachers.length;\n      },\n      set: function set(value) {\n        if (value) {\n          this.selectedIds = this.teachers.map(function (t) {\n            return t.user_id;\n          });\n        } else {\n          this.selectedIds = [];\n        }\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.loadTeachers();\n  },\n  methods: {\n    loadTeachers: function loadTeachers() {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {\n        var params, result, _t;\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.p = _context.n) {\n            case 0:\n              _this.loading = true;\n              _context.p = 1;\n              params = _objectSpread({\n                page: _this.currentPage,\n                pageSize: _this.pageSize\n              }, _this.searchForm);\n              _context.n = 2;\n              return getTeachers(params);\n            case 2:\n              result = _context.v;\n              if (result.code === 1) {\n                // 后端返回的是驼峰命名，需要转换为前端使用的格式\n                _this.teachers = (result.data.rows || []).map(function (teacher) {\n                  return {\n                    user_id: teacher.userId || teacher.user_id,\n                    username: teacher.username,\n                    full_name: teacher.fullName || teacher.full_name,\n                    email: teacher.email,\n                    phone_number: teacher.phoneNumber || teacher.phone_number,\n                    avatar_url: teacher.avatarUrl || teacher.avatar_url,\n                    status: teacher.status,\n                    teacher_id_number: teacher.teacherIdNumber || teacher.teacher_id_number,\n                    gender: teacher.gender,\n                    department: teacher.department,\n                    title: teacher.title,\n                    office_location: teacher.officeLocation || teacher.office_location\n                  };\n                });\n                _this.total = result.data.total || 0;\n              } else {\n                alert(result.msg || '加载失败');\n              }\n              _context.n = 4;\n              break;\n            case 3:\n              _context.p = 3;\n              _t = _context.v;\n              console.error('加载教师列表失败:', _t);\n              alert('加载失败，请稍后重试');\n            case 4:\n              _context.p = 4;\n              _this.loading = false;\n              return _context.f(4);\n            case 5:\n              return _context.a(2);\n          }\n        }, _callee, null, [[1, 3, 4, 5]]);\n      }))();\n    },\n    showAddModal: function showAddModal() {\n      this.dialogMode = 'add';\n      this.formData = {\n        user_id: null,\n        username: '',\n        password: '',\n        full_name: '',\n        email: '',\n        phone_number: '',\n        gender: '',\n        department: '',\n        title: '',\n        office_location: '',\n        status: 1\n      };\n      this.showDialog = true;\n    },\n    editTeacher: function editTeacher(teacher) {\n      var _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2() {\n        var userId, result, _data$gender, data, _t2;\n        return _regenerator().w(function (_context2) {\n          while (1) switch (_context2.p = _context2.n) {\n            case 0:\n              _this2.dialogMode = 'edit';\n\n              // 确保有有效的user_id\n              userId = teacher.user_id || teacher.userId;\n              if (userId) {\n                _context2.n = 1;\n                break;\n              }\n              alert('教师ID不能为空，无法编辑');\n              console.error('教师对象:', teacher);\n              return _context2.a(2);\n            case 1:\n              _context2.p = 1;\n              console.log('编辑教师，ID:', userId);\n              _context2.n = 2;\n              return getTeacherById(userId);\n            case 2:\n              result = _context2.v;\n              if (result.code === 1 && result.data) {\n                data = result.data; // 后端返回驼峰命名，需要处理\n                _this2.formData = {\n                  user_id: data.userId || data.user_id,\n                  username: data.username,\n                  password: '',\n                  full_name: data.fullName || data.full_name,\n                  email: data.email || '',\n                  phone_number: data.phoneNumber || data.phone_number || '',\n                  gender: ((_data$gender = data.gender) === null || _data$gender === void 0 ? void 0 : _data$gender.toString()) || '',\n                  department: data.department || '',\n                  title: data.title || '',\n                  office_location: data.officeLocation || data.office_location || '',\n                  status: data.status || 1\n                };\n                _this2.showDialog = true;\n              } else {\n                alert(result.msg || '加载教师信息失败');\n              }\n              _context2.n = 4;\n              break;\n            case 3:\n              _context2.p = 3;\n              _t2 = _context2.v;\n              console.error('加载教师信息失败:', _t2);\n              alert(_t2.message || '加载失败，请稍后重试');\n            case 4:\n              return _context2.a(2);\n          }\n        }, _callee2, null, [[1, 3]]);\n      }))();\n    },\n    saveTeacher: function saveTeacher() {\n      var _this3 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee3() {\n        var data, result, _t3;\n        return _regenerator().w(function (_context3) {\n          while (1) switch (_context3.p = _context3.n) {\n            case 0:\n              if (!_this3.loading) {\n                _context3.n = 1;\n                break;\n              }\n              return _context3.a(2);\n            case 1:\n              if (!(_this3.dialogMode === 'edit' && !_this3.formData.user_id)) {\n                _context3.n = 2;\n                break;\n              }\n              alert('教师ID不能为空，无法保存');\n              console.error('formData:', _this3.formData);\n              return _context3.a(2);\n            case 2:\n              _this3.loading = true;\n              _context3.p = 3;\n              data = _objectSpread({}, _this3.formData);\n              if (_this3.dialogMode === 'edit' && !data.password) {\n                delete data.password;\n              }\n\n              // 确保user_id是数字类型（编辑模式）\n              if (!(_this3.dialogMode === 'edit' && data.user_id)) {\n                _context3.n = 4;\n                break;\n              }\n              data.user_id = typeof data.user_id === 'number' ? data.user_id : parseInt(data.user_id);\n              if (!isNaN(data.user_id)) {\n                _context3.n = 4;\n                break;\n              }\n              alert('教师ID格式错误');\n              return _context3.a(2);\n            case 4:\n              console.log('保存教师数据:', _this3.dialogMode, data);\n              if (!(_this3.dialogMode === 'add')) {\n                _context3.n = 6;\n                break;\n              }\n              _context3.n = 5;\n              return addTeacher(data);\n            case 5:\n              result = _context3.v;\n              _context3.n = 8;\n              break;\n            case 6:\n              _context3.n = 7;\n              return updateTeacher(data);\n            case 7:\n              result = _context3.v;\n            case 8:\n              if (result.code === 1) {\n                alert(_this3.dialogMode === 'add' ? '添加成功' : '修改成功');\n                _this3.closeDialog();\n                _this3.loadTeachers();\n              } else {\n                alert(result.msg || '操作失败');\n              }\n              _context3.n = 10;\n              break;\n            case 9:\n              _context3.p = 9;\n              _t3 = _context3.v;\n              console.error('保存失败:', _t3);\n              alert(_t3.message || '保存失败，请稍后重试');\n            case 10:\n              _context3.p = 10;\n              _this3.loading = false;\n              return _context3.f(10);\n            case 11:\n              return _context3.a(2);\n          }\n        }, _callee3, null, [[3, 9, 10, 11]]);\n      }))();\n    },\n    deleteTeacher: function deleteTeacher(userId) {\n      var _this4 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee4() {\n        var id;\n        return _regenerator().w(function (_context4) {\n          while (1) switch (_context4.n) {\n            case 0:\n              if (userId) {\n                _context4.n = 1;\n                break;\n              }\n              alert('教师ID不能为空');\n              return _context4.a(2);\n            case 1:\n              // 确保userId是数字\n              id = typeof userId === 'number' ? userId : parseInt(userId);\n              if (!(isNaN(id) || id <= 0)) {\n                _context4.n = 2;\n                break;\n              }\n              alert('教师ID格式错误: ' + userId);\n              console.error('无效的教师ID:', userId);\n              return _context4.a(2);\n            case 2:\n              if (confirm('确定要删除该教师吗？')) {\n                _context4.n = 3;\n                break;\n              }\n              return _context4.a(2);\n            case 3:\n              _context4.n = 4;\n              return _this4.batchDelete([id]);\n            case 4:\n              return _context4.a(2);\n          }\n        }, _callee4);\n      }))();\n    },\n    batchDelete: function batchDelete() {\n      var _arguments = arguments,\n        _this5 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee5() {\n        var userIds, ids, validIds, idsString, result, _t4;\n        return _regenerator().w(function (_context5) {\n          while (1) switch (_context5.p = _context5.n) {\n            case 0:\n              userIds = _arguments.length > 0 && _arguments[0] !== undefined ? _arguments[0] : null;\n              ids = userIds || _this5.selectedIds;\n              if (!(ids.length === 0)) {\n                _context5.n = 1;\n                break;\n              }\n              alert('请选择要删除的教师');\n              return _context5.a(2);\n            case 1:\n              // 过滤掉无效的ID\n              validIds = ids.filter(function (id) {\n                return id != null && id !== '';\n              });\n              if (!(validIds.length === 0)) {\n                _context5.n = 2;\n                break;\n              }\n              alert('请选择有效的教师');\n              return _context5.a(2);\n            case 2:\n              if (confirm(\"\\u786E\\u5B9A\\u8981\\u5220\\u9664\\u9009\\u4E2D\\u7684 \".concat(validIds.length, \" \\u4E2A\\u6559\\u5E08\\u5417\\uFF1F\"))) {\n                _context5.n = 3;\n                break;\n              }\n              return _context5.a(2);\n            case 3:\n              _context5.p = 3;\n              // 确保ID都是数字字符串\n              idsString = validIds.map(function (id) {\n                return String(id);\n              }).join(',');\n              console.log('删除教师ID:', idsString);\n              _context5.n = 4;\n              return deleteTeachersApi(idsString);\n            case 4:\n              result = _context5.v;\n              if (result.code === 1) {\n                alert('删除成功');\n                _this5.selectedIds = [];\n                _this5.loadTeachers();\n              } else {\n                alert(result.msg || '删除失败');\n              }\n              _context5.n = 6;\n              break;\n            case 5:\n              _context5.p = 5;\n              _t4 = _context5.v;\n              console.error('删除失败:', _t4);\n              alert(_t4.message || '删除失败，请稍后重试');\n            case 6:\n              return _context5.a(2);\n          }\n        }, _callee5, null, [[3, 5]]);\n      }))();\n    },\n    toggleSelectAll: function toggleSelectAll() {\n      // handled by computed setter\n    },\n    closeDialog: function closeDialog() {\n      this.showDialog = false;\n    },\n    resetSearch: function resetSearch() {\n      this.searchForm = {\n        full_name: '',\n        teacher_id_number: '',\n        department: '',\n        title: '',\n        status: ''\n      };\n      this.currentPage = 1;\n      this.loadTeachers();\n    },\n    changePage: function changePage(delta) {\n      var newPage = this.currentPage + delta;\n      if (newPage >= 1 && newPage <= this.totalPages) {\n        this.currentPage = newPage;\n        this.loadTeachers();\n      }\n    }\n  }\n};","map":{"version":3,"names":["getTeachers","addTeacher","updateTeacher","deleteTeachers","deleteTeachersApi","getTeacherById","name","data","teachers","loading","currentPage","pageSize","total","selectedIds","searchForm","full_name","teacher_id_number","department","title","status","showDialog","dialogMode","formData","user_id","username","password","email","phone_number","gender","office_location","computed","totalPages","Math","ceil","selectAll","get","length","set","value","map","t","mounted","loadTeachers","methods","_this","_asyncToGenerator","_regenerator","m","_callee","params","result","_t","w","_context","p","n","_objectSpread","page","v","code","rows","teacher","userId","fullName","phoneNumber","avatar_url","avatarUrl","teacherIdNumber","officeLocation","alert","msg","console","error","f","a","showAddModal","editTeacher","_this2","_callee2","_data$gender","_t2","_context2","log","toString","message","saveTeacher","_this3","_callee3","_t3","_context3","parseInt","isNaN","closeDialog","deleteTeacher","_this4","_callee4","id","_context4","confirm","batchDelete","_arguments","arguments","_this5","_callee5","userIds","ids","validIds","idsString","_t4","_context5","undefined","filter","concat","String","join","toggleSelectAll","resetSearch","changePage","delta","newPage"],"sources":["D:\\883vue1\\fronted-merge_fronted\\883Fronted_Final\\src\\views\\Admin\\UserManage\\TeacherManage.vue"],"sourcesContent":["<template>\r\n  <div class=\"teacher-manage\">\r\n    <div class=\"page-header\">\r\n      <h1>教师管理</h1>\r\n      <button class=\"btn-primary\" @click=\"showAddModal\">\r\n        <i class=\"bi bi-plus-lg\"></i> 添加教师\r\n      </button>\r\n    </div>\r\n\r\n    <div class=\"search-bar\">\r\n      <input type=\"text\" v-model=\"searchForm.full_name\" placeholder=\"搜索教师姓名...\" class=\"search-input\">\r\n      <input type=\"text\" v-model=\"searchForm.teacher_id_number\" placeholder=\"工号\" class=\"search-input\">\r\n      <input type=\"text\" v-model=\"searchForm.department\" placeholder=\"院系\" class=\"search-input\">\r\n      <input type=\"text\" v-model=\"searchForm.title\" placeholder=\"职称\" class=\"search-input\">\r\n      <select v-model=\"searchForm.status\" class=\"search-select\">\r\n        <option value=\"\">全部状态</option>\r\n        <option value=\"1\">激活</option>\r\n        <option value=\"2\">禁用</option>\r\n      </select>\r\n      <button class=\"btn-search\" @click=\"loadTeachers\">搜索</button>\r\n      <button class=\"btn-reset\" @click=\"resetSearch\">重置</button>\r\n    </div>\r\n\r\n    <div class=\"table-container\">\r\n      <table class=\"data-table\">\r\n        <thead>\r\n          <tr>\r\n            <th><input type=\"checkbox\" v-model=\"selectAll\" @change=\"toggleSelectAll\"></th>\r\n            <th>工号</th>\r\n            <th>姓名</th>\r\n            <th>院系</th>\r\n            <th>职称</th>\r\n            <th>办公室</th>\r\n            <th>邮箱</th>\r\n            <th>手机</th>\r\n            <th>状态</th>\r\n            <th>操作</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"teacher in teachers\" :key=\"teacher.user_id\">\r\n            <td><input type=\"checkbox\" :value=\"teacher.user_id\" v-model=\"selectedIds\"></td>\r\n            <td>{{ teacher.teacher_id_number || teacher.username }}</td>\r\n            <td>{{ teacher.full_name }}</td>\r\n            <td>{{ teacher.department || '-' }}</td>\r\n            <td>{{ teacher.title || '-' }}</td>\r\n            <td>{{ teacher.office_location || '-' }}</td>\r\n            <td>{{ teacher.email || '-' }}</td>\r\n            <td>{{ teacher.phone_number || '-' }}</td>\r\n            <td>\r\n              <span :class=\"teacher.status === 1 ? 'status-active' : 'status-inactive'\">\r\n                {{ teacher.status === 1 ? '激活' : '禁用' }}\r\n              </span>\r\n            </td>\r\n            <td>\r\n              <button class=\"btn-edit\" @click=\"editTeacher(teacher)\">编辑</button>\r\n              <button class=\"btn-delete\" @click=\"deleteTeacher(teacher.user_id)\">删除</button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <div class=\"toolbar\">\r\n      <button class=\"btn-delete\" @click=\"batchDelete\" :disabled=\"selectedIds.length === 0\">\r\n        批量删除\r\n      </button>\r\n      <div class=\"pagination\">\r\n        <button @click=\"changePage(-1)\" :disabled=\"currentPage <= 1\">上一页</button>\r\n        <span>第 {{ currentPage }} 页，共 {{ totalPages }} 页，共 {{ total }} 条</span>\r\n        <button @click=\"changePage(1)\" :disabled=\"currentPage >= totalPages\">下一页</button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 添加/编辑对话框 -->\r\n    <div v-if=\"showDialog\" class=\"dialog-overlay\" @click.self=\"closeDialog\">\r\n      <div class=\"dialog\">\r\n        <h3>{{ dialogMode === 'add' ? '添加教师' : '编辑教师' }}</h3>\r\n        <form @submit.prevent=\"saveTeacher\">\r\n          <div class=\"form-row\">\r\n            <div class=\"form-group\">\r\n              <label>工号 *</label>\r\n              <input type=\"text\" v-model=\"formData.username\" required :readonly=\"dialogMode === 'edit'\">\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label>姓名 *</label>\r\n              <input type=\"text\" v-model=\"formData.full_name\" required>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-row\">\r\n            <div class=\"form-group\">\r\n              <label>密码 {{ dialogMode === 'add' ? '*' : '' }}</label>\r\n              <input type=\"password\" v-model=\"formData.password\" :required=\"dialogMode === 'add'\">\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label>性别</label>\r\n              <select v-model=\"formData.gender\">\r\n                <option value=\"\">请选择</option>\r\n                <option value=\"0\">未知</option>\r\n                <option value=\"1\">男</option>\r\n                <option value=\"2\">女</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-row\">\r\n            <div class=\"form-group\">\r\n              <label>院系</label>\r\n              <input type=\"text\" v-model=\"formData.department\">\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label>职称</label>\r\n              <input type=\"text\" v-model=\"formData.title\">\r\n            </div>\r\n          </div>\r\n          <div class=\"form-row\">\r\n            <div class=\"form-group\">\r\n              <label>办公室</label>\r\n              <input type=\"text\" v-model=\"formData.office_location\">\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label>邮箱</label>\r\n              <input type=\"email\" v-model=\"formData.email\">\r\n            </div>\r\n          </div>\r\n          <div class=\"form-row\">\r\n            <div class=\"form-group\">\r\n              <label>手机</label>\r\n              <input type=\"tel\" v-model=\"formData.phone_number\">\r\n            </div>\r\n            <div class=\"form-group\" v-if=\"dialogMode === 'edit'\">\r\n              <label>状态</label>\r\n              <select v-model=\"formData.status\">\r\n                <option value=\"1\">激活</option>\r\n                <option value=\"2\">禁用</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-actions\">\r\n            <button type=\"button\" class=\"btn-cancel\" @click=\"closeDialog\">取消</button>\r\n            <button type=\"submit\" class=\"btn-submit\" :disabled=\"loading\">保存</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getTeachers, addTeacher, updateTeacher, deleteTeachers as deleteTeachersApi, getTeacherById } from '@/api/admin'\r\n\r\nexport default {\r\n  name: 'TeacherManage',\r\n  data() {\r\n    return {\r\n      teachers: [],\r\n      loading: false,\r\n      currentPage: 1,\r\n      pageSize: 10,\r\n      total: 0,\r\n      selectedIds: [],\r\n      searchForm: {\r\n        full_name: '',\r\n        teacher_id_number: '',\r\n        department: '',\r\n        title: '',\r\n        status: ''\r\n      },\r\n      showDialog: false,\r\n      dialogMode: 'add',\r\n      formData: {\r\n        user_id: null,\r\n        username: '',\r\n        password: '',\r\n        full_name: '',\r\n        email: '',\r\n        phone_number: '',\r\n        gender: '',\r\n        department: '',\r\n        title: '',\r\n        office_location: '',\r\n        status: 1\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    totalPages() {\r\n      return Math.ceil(this.total / this.pageSize)\r\n    },\r\n    selectAll: {\r\n      get() {\r\n        return this.teachers.length > 0 && this.selectedIds.length === this.teachers.length\r\n      },\r\n      set(value) {\r\n        if (value) {\r\n          this.selectedIds = this.teachers.map(t => t.user_id)\r\n        } else {\r\n          this.selectedIds = []\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadTeachers()\r\n  },\r\n  methods: {\r\n    async loadTeachers() {\r\n      this.loading = true\r\n      try {\r\n        const params = {\r\n          page: this.currentPage,\r\n          pageSize: this.pageSize,\r\n          ...this.searchForm\r\n        }\r\n        const result = await getTeachers(params)\r\n        if (result.code === 1) {\r\n          // 后端返回的是驼峰命名，需要转换为前端使用的格式\r\n          this.teachers = (result.data.rows || []).map(teacher => ({\r\n            user_id: teacher.userId || teacher.user_id,\r\n            username: teacher.username,\r\n            full_name: teacher.fullName || teacher.full_name,\r\n            email: teacher.email,\r\n            phone_number: teacher.phoneNumber || teacher.phone_number,\r\n            avatar_url: teacher.avatarUrl || teacher.avatar_url,\r\n            status: teacher.status,\r\n            teacher_id_number: teacher.teacherIdNumber || teacher.teacher_id_number,\r\n            gender: teacher.gender,\r\n            department: teacher.department,\r\n            title: teacher.title,\r\n            office_location: teacher.officeLocation || teacher.office_location\r\n          }))\r\n          this.total = result.data.total || 0\r\n        } else {\r\n          alert(result.msg || '加载失败')\r\n        }\r\n      } catch (error) {\r\n        console.error('加载教师列表失败:', error)\r\n        alert('加载失败，请稍后重试')\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    showAddModal() {\r\n      this.dialogMode = 'add'\r\n      this.formData = {\r\n        user_id: null,\r\n        username: '',\r\n        password: '',\r\n        full_name: '',\r\n        email: '',\r\n        phone_number: '',\r\n        gender: '',\r\n        department: '',\r\n        title: '',\r\n        office_location: '',\r\n        status: 1\r\n      }\r\n      this.showDialog = true\r\n    },\r\n    async editTeacher(teacher) {\r\n      this.dialogMode = 'edit'\r\n      \r\n      // 确保有有效的user_id\r\n      const userId = teacher.user_id || teacher.userId\r\n      if (!userId) {\r\n        alert('教师ID不能为空，无法编辑')\r\n        console.error('教师对象:', teacher)\r\n        return\r\n      }\r\n      \r\n      try {\r\n        console.log('编辑教师，ID:', userId)\r\n        const result = await getTeacherById(userId)\r\n        if (result.code === 1 && result.data) {\r\n          const data = result.data\r\n          // 后端返回驼峰命名，需要处理\r\n          this.formData = {\r\n            user_id: data.userId || data.user_id,\r\n            username: data.username,\r\n            password: '',\r\n            full_name: data.fullName || data.full_name,\r\n            email: data.email || '',\r\n            phone_number: data.phoneNumber || data.phone_number || '',\r\n            gender: data.gender?.toString() || '',\r\n            department: data.department || '',\r\n            title: data.title || '',\r\n            office_location: data.officeLocation || data.office_location || '',\r\n            status: data.status || 1\r\n          }\r\n          this.showDialog = true\r\n        } else {\r\n          alert(result.msg || '加载教师信息失败')\r\n        }\r\n      } catch (error) {\r\n        console.error('加载教师信息失败:', error)\r\n        alert(error.message || '加载失败，请稍后重试')\r\n      }\r\n    },\r\n    async saveTeacher() {\r\n      if (this.loading) return\r\n      \r\n      // 编辑模式下必须要有user_id\r\n      if (this.dialogMode === 'edit' && !this.formData.user_id) {\r\n        alert('教师ID不能为空，无法保存')\r\n        console.error('formData:', this.formData)\r\n        return\r\n      }\r\n      \r\n      this.loading = true\r\n      try {\r\n        const data = { ...this.formData }\r\n        if (this.dialogMode === 'edit' && !data.password) {\r\n          delete data.password\r\n        }\r\n        \r\n        // 确保user_id是数字类型（编辑模式）\r\n        if (this.dialogMode === 'edit' && data.user_id) {\r\n          data.user_id = typeof data.user_id === 'number' ? data.user_id : parseInt(data.user_id)\r\n          if (isNaN(data.user_id)) {\r\n            alert('教师ID格式错误')\r\n            return\r\n          }\r\n        }\r\n        \r\n        console.log('保存教师数据:', this.dialogMode, data)\r\n        \r\n        let result\r\n        if (this.dialogMode === 'add') {\r\n          result = await addTeacher(data)\r\n        } else {\r\n          result = await updateTeacher(data)\r\n        }\r\n        \r\n        if (result.code === 1) {\r\n          alert(this.dialogMode === 'add' ? '添加成功' : '修改成功')\r\n          this.closeDialog()\r\n          this.loadTeachers()\r\n        } else {\r\n          alert(result.msg || '操作失败')\r\n        }\r\n      } catch (error) {\r\n        console.error('保存失败:', error)\r\n        alert(error.message || '保存失败，请稍后重试')\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    async deleteTeacher(userId) {\r\n      if (!userId) {\r\n        alert('教师ID不能为空')\r\n        return\r\n      }\r\n      // 确保userId是数字\r\n      const id = typeof userId === 'number' ? userId : parseInt(userId)\r\n      if (isNaN(id) || id <= 0) {\r\n        alert('教师ID格式错误: ' + userId)\r\n        console.error('无效的教师ID:', userId)\r\n        return\r\n      }\r\n      if (!confirm('确定要删除该教师吗？')) return\r\n      await this.batchDelete([id])\r\n    },\r\n    async batchDelete(userIds = null) {\r\n      const ids = userIds || this.selectedIds\r\n      if (ids.length === 0) {\r\n        alert('请选择要删除的教师')\r\n        return\r\n      }\r\n      \r\n      // 过滤掉无效的ID\r\n      const validIds = ids.filter(id => id != null && id !== '')\r\n      if (validIds.length === 0) {\r\n        alert('请选择有效的教师')\r\n        return\r\n      }\r\n      \r\n      if (!confirm(`确定要删除选中的 ${validIds.length} 个教师吗？`)) return\r\n      \r\n      try {\r\n        // 确保ID都是数字字符串\r\n        const idsString = validIds.map(id => String(id)).join(',')\r\n        console.log('删除教师ID:', idsString)\r\n        \r\n        const result = await deleteTeachersApi(idsString)\r\n        if (result.code === 1) {\r\n          alert('删除成功')\r\n          this.selectedIds = []\r\n          this.loadTeachers()\r\n        } else {\r\n          alert(result.msg || '删除失败')\r\n        }\r\n      } catch (error) {\r\n        console.error('删除失败:', error)\r\n        alert(error.message || '删除失败，请稍后重试')\r\n      }\r\n    },\r\n    toggleSelectAll() {\r\n      // handled by computed setter\r\n    },\r\n    closeDialog() {\r\n      this.showDialog = false\r\n    },\r\n    resetSearch() {\r\n      this.searchForm = {\r\n        full_name: '',\r\n        teacher_id_number: '',\r\n        department: '',\r\n        title: '',\r\n        status: ''\r\n      }\r\n      this.currentPage = 1\r\n      this.loadTeachers()\r\n    },\r\n    changePage(delta) {\r\n      const newPage = this.currentPage + delta\r\n      if (newPage >= 1 && newPage <= this.totalPages) {\r\n        this.currentPage = newPage\r\n        this.loadTeachers()\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.teacher-manage {\r\n  padding: 24px;\r\n}\r\n\r\n.page-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.page-header h1 {\r\n  font-size: 24px;\r\n  color: #333;\r\n}\r\n\r\n.btn-primary {\r\n  padding: 10px 20px;\r\n  background: #2A5CAA;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n}\r\n\r\n.search-bar {\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-bottom: 20px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.search-input, .search-select {\r\n  padding: 10px 15px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n}\r\n\r\n.search-input {\r\n  flex: 1;\r\n  min-width: 150px;\r\n}\r\n\r\n.search-select {\r\n  width: 120px;\r\n}\r\n\r\n.btn-search, .btn-reset {\r\n  padding: 10px 20px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  background: white;\r\n}\r\n\r\n.table-container {\r\n  background: white;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\r\n}\r\n\r\n.data-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.data-table th,\r\n.data-table td {\r\n  padding: 12px;\r\n  text-align: left;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\n.data-table th {\r\n  background: #f5f7fa;\r\n  font-weight: 600;\r\n}\r\n\r\n.status-active {\r\n  color: #4CAF50;\r\n}\r\n\r\n.status-inactive {\r\n  color: #f44336;\r\n}\r\n\r\n.btn-edit, .btn-delete {\r\n  padding: 6px 12px;\r\n  margin-right: 8px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n}\r\n\r\n.btn-edit {\r\n  background: #2A5CAA;\r\n  color: white;\r\n}\r\n\r\n.btn-delete {\r\n  background: #f44336;\r\n  color: white;\r\n}\r\n\r\n.toolbar {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-top: 20px;\r\n}\r\n\r\n.pagination {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20px;\r\n}\r\n\r\n.pagination button {\r\n  padding: 8px 16px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  background: white;\r\n}\r\n\r\n.pagination button:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.dialog-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.dialog {\r\n  background: white;\r\n  border-radius: 12px;\r\n  padding: 30px;\r\n  width: 90%;\r\n  max-width: 800px;\r\n  max-height: 90vh;\r\n  overflow-y: auto;\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.dialog h3 {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.form-row {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 20px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.form-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.form-group label {\r\n  margin-bottom: 8px;\r\n  color: #666;\r\n  font-weight: 500;\r\n}\r\n\r\n.form-group input,\r\n.form-group select {\r\n  padding: 10px 15px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n}\r\n\r\n.form-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 10px;\r\n  margin-top: 20px;\r\n}\r\n\r\n.btn-cancel, .btn-submit {\r\n  padding: 10px 20px;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n}\r\n\r\n.btn-cancel {\r\n  background: #f5f5f5;\r\n  color: #666;\r\n  border: 1px solid #ddd;\r\n}\r\n\r\n.btn-submit {\r\n  background: #2A5CAA;\r\n  color: white;\r\n  border: none;\r\n}\r\n\r\n.btn-submit:disabled {\r\n  background: #ccc;\r\n  cursor: not-allowed;\r\n}\r\n</style>\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}