{"ast":null,"code":"import _regenerator from \"D:/883vue1/fronted-merge_fronted/883Fronted_Final/node_modules/@babel/runtime/helpers/esm/regenerator.js\";\nimport _asyncToGenerator from \"D:/883vue1/fronted-merge_fronted/883Fronted_Final/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.date.now.js\";\nimport \"core-js/modules/es.date.to-json.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport \"core-js/modules/web.timers.js\";\nimport { ref, reactive } from 'vue';\nimport { useRouter } from 'vue-router';\n// import { useStore } from 'vuex' // æš‚æ—¶æ³¨é‡Šæ‰ï¼Œå¦‚æœä½ æ²¡é… Vuex å°±ä¸éœ€è¦å®ƒ\n\nexport default {\n  name: 'Login',\n  setup: function setup() {\n    var router = useRouter();\n    // const store = useStore()\n    var loading = ref(false);\n\n    // ç™»å½•è¡¨å•æ•°æ®\n    var loginForm = reactive({\n      username: '',\n      password: '',\n      rememberMe: false\n    });\n\n    // ç™»å½•å¤„ç†é€»è¾‘\n    var handleLogin = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {\n        var role, name, userData, _t;\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.p = _context.n) {\n            case 0:\n              if (!(!loginForm.username || !loginForm.password)) {\n                _context.n = 1;\n                break;\n              }\n              alert('è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ');\n              return _context.a(2);\n            case 1:\n              loading.value = true;\n\n              // === æ¨¡æ‹Ÿç™»å½•é€»è¾‘ (ä¸ºäº†è®©ä½ å…ˆè·‘é€š) ===\n              _context.p = 2;\n              _context.n = 3;\n              return new Promise(function (resolve) {\n                return setTimeout(resolve, 800);\n              });\n            case 3:\n              // 1. æ„é€ æ¨¡æ‹Ÿçš„ç”¨æˆ·æ•°æ®\n              role = 'student';\n              name = 'åŒå­¦'; // æ ¹æ®ç”¨æˆ·åç®€å•åˆ¤æ–­è§’è‰²ï¼ˆå®é™…å¼€å‘ä¸­ç”±åç«¯è¿”å›ï¼‰\n              if (loginForm.username === 'admin') {\n                role = 'admin';\n                name = 'ç®¡ç†å‘˜';\n              } else if (loginForm.username.toLowerCase().startsWith('t')) {\n                role = 'teacher';\n                name = 'è€å¸ˆ';\n              }\n              userData = {\n                username: loginForm.username,\n                name: loginForm.username + name,\n                role: role,\n                token: 'mock-token-' + Date.now()\n              }; // 2. ä¿å­˜çŠ¶æ€ (å…³é”®ï¼šè¿™ä¼šè®©è·¯ç”±å®ˆå«æ”¾è¡Œ)\n              localStorage.setItem('token', userData.token);\n              localStorage.setItem('userInfo', JSON.stringify(userData));\n\n              // å¦‚æœä½ æœ‰ Vuexï¼Œå¯ä»¥å–æ¶ˆæ³¨é‡Šä¸‹é¢è¿™è¡Œ\n              // store.commit('SET_USER', userData)\n\n              // 3. æ ¹æ®è§’è‰²è·³è½¬åˆ°ä¸åŒé¦–é¡µ\n              if (role === 'admin') {\n                router.push('/admin/home'); // æ³¨æ„è·¯å¾„è¦å¯¹é½ä½ çš„ router/index.js\n              } else if (role === 'teacher') {\n                router.push('/teacher/home');\n              } else {\n                router.push('/student/home');\n              }\n              _context.n = 5;\n              break;\n            case 4:\n              _context.p = 4;\n              _t = _context.v;\n              console.error('ç™»å½•é”™è¯¯:', _t);\n              alert('ç™»å½•å¤±è´¥ï¼Œè¯·é‡è¯•');\n            case 5:\n              _context.p = 5;\n              loading.value = false;\n              return _context.f(5);\n            case 6:\n              return _context.a(2);\n          }\n        }, _callee, null, [[2, 4, 5, 6]]);\n      }));\n      return function handleLogin() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var handleForgotPassword = function handleForgotPassword() {\n      alert('è¯·è”ç³»ç®¡ç†å‘˜é‡ç½®å¯†ç ');\n    };\n    return {\n      loginForm: loginForm,\n      loading: loading,\n      handleLogin: handleLogin,\n      handleForgotPassword: handleForgotPassword\n    };\n  }\n};","map":{"version":3,"names":["ref","reactive","useRouter","name","setup","router","loading","loginForm","username","password","rememberMe","handleLogin","_ref","_asyncToGenerator","_regenerator","m","_callee","role","userData","_t","w","_context","p","n","alert","a","value","Promise","resolve","setTimeout","toLowerCase","startsWith","token","Date","now","localStorage","setItem","JSON","stringify","push","v","console","error","f","apply","arguments","handleForgotPassword"],"sources":["D:\\883vue1\\fronted-merge_fronted\\883Fronted_Final\\src\\views\\Login.vue"],"sourcesContent":["<template>\n    <div class=\"login-container\">\n        <div class=\"login-content\">\n            <div class=\"login-left\">\n                <div class=\"campus-image\">\n                    <img src=\"@/assets/images/login_left_image.jpg\" alt=\"æ ¡å›­å›¾ç‰‡\" class=\"cover-img\">\n                </div>\n            </div>\n\n            <div class=\"login-right\">\n                <div class=\"login-form-wrapper\">\n                    <div class=\"login-header\">\n                        <h1>æ¬¢è¿ç™»å½• æ™ºæ…§æ ¡å›­</h1>\n                        <p>Smart Campus Management System</p>\n                    </div>\n\n                    <form @submit.prevent=\"handleLogin\">\n                        <div class=\"form-group\">\n                            <label for=\"username\">å­¦å·/å·¥å·</label>\n                            <input type=\"text\" id=\"username\" v-model=\"loginForm.username\" placeholder=\"è¯·è¾“å…¥å­¦å·æˆ–å·¥å·\"\n                                class=\"form-input\" required>\n                        </div>\n\n                        <div class=\"form-group\">\n                            <label for=\"password\">å¯†ç </label>\n                            <input type=\"password\" id=\"password\" v-model=\"loginForm.password\" placeholder=\"è¯·è¾“å…¥å¯†ç \"\n                                class=\"form-input\" required>\n                        </div>\n\n                        <div class=\"form-options\">\n                            <label class=\"checkbox-label\">\n                                <input type=\"checkbox\" v-model=\"loginForm.rememberMe\">\n                                è®°ä½æˆ‘\n                            </label>\n                            <a href=\"#\" class=\"forgot-password\" @click.prevent=\"handleForgotPassword\">å¿˜è®°å¯†ç ï¼Ÿ</a>\n                        </div>\n\n                        <button type=\"submit\" class=\"login-btn\" :disabled=\"loading\">\n                            {{ loading ? 'ç™»å½•ä¸­...' : 'ç™»å½•' }}\n                        </button>\n                    </form>\n\n                    <div class=\"account-help\">\n                        <p>ğŸ“‹ <strong>è´¦å·è¯´æ˜</strong></p>\n                        <p>â€¢ å­¦ç”Ÿè´¦å·ï¼šå­¦å·ï¼ˆå¦‚ï¼š2021001001ï¼‰</p>\n                        <p>â€¢ æ•™å¸ˆè´¦å·ï¼šå·¥å·ï¼ˆä»¥Tå¼€å¤´ï¼Œå¦‚ï¼šT2025001ï¼‰</p>\n                        <p>â€¢ ç®¡ç†å‘˜è´¦å·ï¼šadmin</p>\n                        <p>â€¢ åˆå§‹å¯†ç ï¼š123456</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { ref, reactive } from 'vue'\nimport { useRouter } from 'vue-router'\n// import { useStore } from 'vuex' // æš‚æ—¶æ³¨é‡Šæ‰ï¼Œå¦‚æœä½ æ²¡é… Vuex å°±ä¸éœ€è¦å®ƒ\n\nexport default {\n    name: 'Login',\n    setup() {\n        const router = useRouter()\n        // const store = useStore()\n        const loading = ref(false)\n\n        // ç™»å½•è¡¨å•æ•°æ®\n        const loginForm = reactive({\n            username: '',\n            password: '',\n            rememberMe: false\n        })\n\n        // ç™»å½•å¤„ç†é€»è¾‘\n        const handleLogin = async () => {\n            if (!loginForm.username || !loginForm.password) {\n                alert('è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ')\n                return\n            }\n\n            loading.value = true\n\n            // === æ¨¡æ‹Ÿç™»å½•é€»è¾‘ (ä¸ºäº†è®©ä½ å…ˆè·‘é€š) ===\n            try {\n                // æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ\n                await new Promise(resolve => setTimeout(resolve, 800))\n\n                // 1. æ„é€ æ¨¡æ‹Ÿçš„ç”¨æˆ·æ•°æ®\n                let role = 'student'\n                let name = 'åŒå­¦'\n\n                // æ ¹æ®ç”¨æˆ·åç®€å•åˆ¤æ–­è§’è‰²ï¼ˆå®é™…å¼€å‘ä¸­ç”±åç«¯è¿”å›ï¼‰\n                if (loginForm.username === 'admin') {\n                    role = 'admin'\n                    name = 'ç®¡ç†å‘˜'\n                } else if (loginForm.username.toLowerCase().startsWith('t')) {\n                    role = 'teacher'\n                    name = 'è€å¸ˆ'\n                }\n\n                const userData = {\n                    username: loginForm.username,\n                    name: loginForm.username + name,\n                    role: role,\n                    token: 'mock-token-' + Date.now()\n                }\n\n                // 2. ä¿å­˜çŠ¶æ€ (å…³é”®ï¼šè¿™ä¼šè®©è·¯ç”±å®ˆå«æ”¾è¡Œ)\n                localStorage.setItem('token', userData.token)\n                localStorage.setItem('userInfo', JSON.stringify(userData))\n\n                // å¦‚æœä½ æœ‰ Vuexï¼Œå¯ä»¥å–æ¶ˆæ³¨é‡Šä¸‹é¢è¿™è¡Œ\n                // store.commit('SET_USER', userData)\n\n                // 3. æ ¹æ®è§’è‰²è·³è½¬åˆ°ä¸åŒé¦–é¡µ\n                if (role === 'admin') {\n                    router.push('/admin/home') // æ³¨æ„è·¯å¾„è¦å¯¹é½ä½ çš„ router/index.js\n                } else if (role === 'teacher') {\n                    router.push('/teacher/home')\n                } else {\n                    router.push('/student/home')\n                }\n\n            } catch (error) {\n                console.error('ç™»å½•é”™è¯¯:', error)\n                alert('ç™»å½•å¤±è´¥ï¼Œè¯·é‡è¯•')\n            } finally {\n                loading.value = false\n            }\n        }\n\n        const handleForgotPassword = () => {\n            alert('è¯·è”ç³»ç®¡ç†å‘˜é‡ç½®å¯†ç ')\n        }\n\n        return {\n            loginForm,\n            loading,\n            handleLogin,\n            handleForgotPassword\n        }\n    }\n}\n</script>\n\n<style scoped>\n.login-container {\n    min-block-size: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: #f0f2f5;\n}\n\n.login-content {\n    display: flex;\n    inline-size: 85%;\n    max-inline-size: 1000px;\n    block-size: 600px;\n    background: white;\n    border-radius: 16px;\n    overflow: hidden;\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);\n}\n\n/* å·¦ä¾§å›¾ç‰‡åŒº */\n.login-left {\n    flex: 1.2;\n    background: #f8f9fa;\n    position: relative;\n    overflow: hidden;\n}\n\n.campus-image {\n    inline-size: 100%;\n    block-size: 100%;\n}\n\n.cover-img {\n    inline-size: 100%;\n    block-size: 100%;\n    object-fit: cover;\n    display: block;\n}\n\n/* å³ä¾§è¡¨å•åŒº */\n.login-right {\n    flex: 1;\n    padding: 40px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    background: white;\n}\n\n.login-form-wrapper {\n    inline-size: 100%;\n    max-inline-size: 360px;\n    margin: 0 auto;\n}\n\n.login-header {\n    text-align: center;\n    margin-block-end: 30px;\n}\n\n.login-header h1 {\n    color: #2c3e50;\n    font-size: 26px;\n    font-weight: 600;\n    margin-block-end: 8px;\n}\n\n.login-header p {\n    color: #7f8c8d;\n    font-size: 14px;\n}\n\n.form-group {\n    margin-block-end: 20px;\n}\n\n.form-group label {\n    display: block;\n    margin-block-end: 8px;\n    font-weight: 500;\n    color: #2d3748;\n    font-size: 14px;\n}\n\n.form-input {\n    inline-size: 100%;\n    padding: 12px 16px;\n    border: 1px solid #e2e8f0;\n    border-radius: 8px;\n    font-size: 14px;\n    transition: all 0.3s ease;\n    background: #fafafa;\n    box-sizing: border-box;\n}\n\n.form-input:focus {\n    outline: none;\n    border-color: #2A5CAA;\n    box-shadow: 0 0 0 3px rgba(42, 92, 170, 0.1);\n    background: #fff;\n}\n\n.form-options {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-block-end: 25px;\n    font-size: 14px;\n}\n\n.checkbox-label {\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n    color: #5a6c7d;\n}\n\n.checkbox-label input {\n    margin-inline-end: 8px;\n}\n\n.forgot-password {\n    color: #2A5CAA;\n    text-decoration: none;\n    transition: color 0.2s;\n}\n\n.forgot-password:hover {\n    color: #1e4b8b;\n    text-decoration: underline;\n}\n\n.login-btn {\n    inline-size: 100%;\n    padding: 12px;\n    background: #2A5CAA;\n    color: white;\n    border: none;\n    border-radius: 8px;\n    font-size: 16px;\n    font-weight: 600;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    margin-block-end: 20px;\n}\n\n.login-btn:hover {\n    background: #1e4b8b;\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(42, 92, 170, 0.3);\n}\n\n.login-btn:disabled {\n    background: #a0aec0;\n    cursor: not-allowed;\n}\n\n/* è´¦å·è¯´æ˜åŒºåŸŸ */\n.account-help {\n    font-size: 12px;\n    color: #7f8c8d;\n    margin-block-start: 20px;\n    line-height: 1.6;\n    padding: 15px;\n    background-color: #f8f9fa;\n    border-radius: 8px;\n    border: 1px solid #eee;\n}\n\n.account-help p {\n    margin: 4px 0;\n}\n\n.account-help strong {\n    color: #2c3e50;\n}\n\n/* å“åº”å¼è®¾è®¡ */\n@media (max-width: 768px) {\n    .login-content {\n        flex-direction: column;\n        block-size: auto;\n        inline-size: 90%;\n        margin: 20px 0;\n    }\n\n    .login-left {\n        block-size: 200px;\n        flex: none;\n    }\n\n    .login-right {\n        padding: 30px 20px;\n    }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}