{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport TeaHeader from './headers/TeaHeader.vue';\n// 引入侧边栏组件\nimport TeaSidebar from './siderbars/TeaSidebar.vue';\nimport { computed } from 'vue';\nimport { useRoute } from 'vue-router';\nexport default {\n  name: 'TeacherLayout',\n  components: {\n    TeaHeader: TeaHeader,\n    TeaSidebar: TeaSidebar // 注册组件\n  },\n  setup: function setup() {\n    var route = useRoute();\n\n    // 1. 判断是否显示侧边栏\n    // 逻辑升级：优先看路由里有没有配置 meta.showSidebar (我们之前的路由改动里配了)\n    // 如果没有配置，再回退到路径判断\n    var showSidebar = computed(function () {\n      if (route.meta && typeof route.meta.showSidebar !== 'undefined') {\n        return route.meta.showSidebar;\n      }\n      // 兼容旧逻辑\n      var sidebarRoutes = ['/teacher/students', '/teacher/resources', '/teacher/attendance', '/teacher/grades', '/teacher/homework', '/teacher/leave', '/teacher/library', '/teacher/classroom', '/teacher/teachinghome'];\n      return sidebarRoutes.some(function (path) {\n        return route.path.startsWith(path);\n      });\n    });\n\n    // 2. 动态计算当前页面标题\n    var currentPageTitle = computed(function () {\n      // 优先使用路由配置的标题\n      if (route.meta && route.meta.title) {\n        return route.meta.title;\n      }\n\n      // 旧的 fallback 逻辑\n      var path = route.path;\n      if (path.includes('/teacher/teachinghome')) return '我的课程';\n      if (path.includes('/teacher/students')) return '学生管理';\n      if (path.includes('/teacher/resources')) return '课程资源';\n      if (path.includes('/teacher/attendance')) return '考勤管理';\n      if (path.includes('/teacher/grades')) return '成绩管理';\n      if (path.includes('/teacher/homework')) return '作业管理';\n      if (path.includes('/teacher/leave')) return '请假审批';\n      if (path.includes('/teacher/library')) return '图书馆';\n      if (path.includes('/teacher/classroom')) return '教室预约';\n      return '教学中心';\n    });\n    return {\n      showSidebar: showSidebar,\n      currentPageTitle: currentPageTitle\n    };\n  }\n};","map":{"version":3,"names":["TeaHeader","TeaSidebar","computed","useRoute","name","components","setup","route","showSidebar","meta","sidebarRoutes","some","path","startsWith","currentPageTitle","title","includes"],"sources":["D:\\vvvvvvvvvscode_workspace\\fronted\\883Fronted_Final\\src\\components\\layout\\TeaLayout.vue"],"sourcesContent":["<template>\r\n  <div class=\"layout\">\r\n    <TeaHeader />\r\n\r\n    <TeaSidebar v-if=\"showSidebar\" />\r\n\r\n    <main class=\"main-content\" :class=\"{ 'with-sidebar': showSidebar }\">\r\n\r\n      <div v-if=\"showSidebar\" class=\"secondary-navbar\">\r\n        <div class=\"nav-wrapper\">\r\n          <h2 class=\"current-page-title\">{{ currentPageTitle }}</h2>\r\n          <div class=\"breadcrumb\">\r\n            <span>智能教学</span>\r\n            <span class=\"separator\">/</span>\r\n            <span class=\"active\">{{ currentPageTitle }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"content-body\">\r\n        <router-view />\r\n      </div>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TeaHeader from './headers/TeaHeader.vue'\r\n// 引入侧边栏组件\r\nimport TeaSidebar from './siderbars/TeaSidebar.vue'\r\nimport { computed } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\n\r\nexport default {\r\n  name: 'TeacherLayout',\r\n  components: {\r\n    TeaHeader,\r\n    TeaSidebar // 注册组件\r\n  },\r\n  setup() {\r\n    const route = useRoute()\r\n\r\n    // 1. 判断是否显示侧边栏\r\n    // 逻辑升级：优先看路由里有没有配置 meta.showSidebar (我们之前的路由改动里配了)\r\n    // 如果没有配置，再回退到路径判断\r\n    const showSidebar = computed(() => {\r\n      if (route.meta && typeof route.meta.showSidebar !== 'undefined') {\r\n        return route.meta.showSidebar\r\n      }\r\n      // 兼容旧逻辑\r\n      const sidebarRoutes = [\r\n        '/teacher/students', '/teacher/resources', '/teacher/attendance',\r\n        '/teacher/grades', '/teacher/homework', '/teacher/leave',\r\n        '/teacher/library', '/teacher/classroom', '/teacher/teachinghome'\r\n      ]\r\n      return sidebarRoutes.some(path => route.path.startsWith(path))\r\n    })\r\n\r\n    // 2. 动态计算当前页面标题\r\n    const currentPageTitle = computed(() => {\r\n      // 优先使用路由配置的标题\r\n      if (route.meta && route.meta.title) {\r\n        return route.meta.title\r\n      }\r\n\r\n      // 旧的 fallback 逻辑\r\n      const path = route.path\r\n      if (path.includes('/teacher/teachinghome')) return '我的课程'\r\n      if (path.includes('/teacher/students')) return '学生管理'\r\n      if (path.includes('/teacher/resources')) return '课程资源'\r\n      if (path.includes('/teacher/attendance')) return '考勤管理'\r\n      if (path.includes('/teacher/grades')) return '成绩管理'\r\n      if (path.includes('/teacher/homework')) return '作业管理'\r\n      if (path.includes('/teacher/leave')) return '请假审批'\r\n      if (path.includes('/teacher/library')) return '图书馆'\r\n      if (path.includes('/teacher/classroom')) return '教室预约'\r\n      return '教学中心'\r\n    })\r\n\r\n    return {\r\n      showSidebar,\r\n      currentPageTitle\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.layout {\r\n  min-block-size: 100vh;\r\n}\r\n\r\n.main-content {\r\n  padding-block-start: 60px;\r\n  /* 留出 Header 高度 */\r\n  min-block-size: 100vh;\r\n  background-color: #f5f7fa;\r\n  transition: margin-inline-start 0.3s ease;\r\n  /* 增加过渡动画 */\r\n}\r\n\r\n/* 核心修复：当有侧边栏时，左边距留出 240px */\r\n.main-content.with-sidebar {\r\n  margin-inline-start: 240px;\r\n}\r\n\r\n.secondary-navbar {\r\n  background: white;\r\n  padding: 16px 30px;\r\n  border-block-end: 1px solid #e8e8e8;\r\n  margin-block-end: 20px;\r\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.03);\r\n}\r\n\r\n.nav-wrapper {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  max-inline-size: 1400px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.current-page-title {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin: 0;\r\n}\r\n\r\n.breadcrumb {\r\n  font-size: 14px;\r\n  color: #666;\r\n}\r\n\r\n.separator {\r\n  margin: 0 8px;\r\n  color: #ccc;\r\n}\r\n\r\n.active {\r\n  color: #2A5CAA;\r\n  font-weight: 500;\r\n}\r\n</style>"],"mappings":";;;;;AA2BA,OAAOA,SAAQ,MAAO,yBAAwB;AAC9C;AACA,OAAOC,UAAS,MAAO,4BAA2B;AAClD,SAASC,QAAO,QAAS,KAAI;AAC7B,SAASC,QAAO,QAAS,YAAW;AAEpC,eAAe;EACbC,IAAI,EAAE,eAAe;EACrBC,UAAU,EAAE;IACVL,SAAS,EAATA,SAAS;IACTC,UAAS,EAATA,UAAS,CAAE;EACb,CAAC;EACDK,KAAK,WAALA,KAAKA,CAAA,EAAG;IACN,IAAMC,KAAI,GAAIJ,QAAQ,CAAC;;IAEvB;IACA;IACA;IACA,IAAMK,WAAU,GAAIN,QAAQ,CAAC,YAAM;MACjC,IAAIK,KAAK,CAACE,IAAG,IAAK,OAAOF,KAAK,CAACE,IAAI,CAACD,WAAU,KAAM,WAAW,EAAE;QAC/D,OAAOD,KAAK,CAACE,IAAI,CAACD,WAAU;MAC9B;MACA;MACA,IAAME,aAAY,GAAI,CACpB,mBAAmB,EAAE,oBAAoB,EAAE,qBAAqB,EAChE,iBAAiB,EAAE,mBAAmB,EAAE,gBAAgB,EACxD,kBAAkB,EAAE,oBAAoB,EAAE,uBAAsB,CAClE;MACA,OAAOA,aAAa,CAACC,IAAI,CAAC,UAAAC,IAAG;QAAA,OAAKL,KAAK,CAACK,IAAI,CAACC,UAAU,CAACD,IAAI,CAAC;MAAA;IAC/D,CAAC;;IAED;IACA,IAAME,gBAAe,GAAIZ,QAAQ,CAAC,YAAM;MACtC;MACA,IAAIK,KAAK,CAACE,IAAG,IAAKF,KAAK,CAACE,IAAI,CAACM,KAAK,EAAE;QAClC,OAAOR,KAAK,CAACE,IAAI,CAACM,KAAI;MACxB;;MAEA;MACA,IAAMH,IAAG,GAAIL,KAAK,CAACK,IAAG;MACtB,IAAIA,IAAI,CAACI,QAAQ,CAAC,uBAAuB,CAAC,EAAE,OAAO,MAAK;MACxD,IAAIJ,IAAI,CAACI,QAAQ,CAAC,mBAAmB,CAAC,EAAE,OAAO,MAAK;MACpD,IAAIJ,IAAI,CAACI,QAAQ,CAAC,oBAAoB,CAAC,EAAE,OAAO,MAAK;MACrD,IAAIJ,IAAI,CAACI,QAAQ,CAAC,qBAAqB,CAAC,EAAE,OAAO,MAAK;MACtD,IAAIJ,IAAI,CAACI,QAAQ,CAAC,iBAAiB,CAAC,EAAE,OAAO,MAAK;MAClD,IAAIJ,IAAI,CAACI,QAAQ,CAAC,mBAAmB,CAAC,EAAE,OAAO,MAAK;MACpD,IAAIJ,IAAI,CAACI,QAAQ,CAAC,gBAAgB,CAAC,EAAE,OAAO,MAAK;MACjD,IAAIJ,IAAI,CAACI,QAAQ,CAAC,kBAAkB,CAAC,EAAE,OAAO,KAAI;MAClD,IAAIJ,IAAI,CAACI,QAAQ,CAAC,oBAAoB,CAAC,EAAE,OAAO,MAAK;MACrD,OAAO,MAAK;IACd,CAAC;IAED,OAAO;MACLR,WAAW,EAAXA,WAAW;MACXM,gBAAe,EAAfA;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}