{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport { computed } from 'vue';\nimport { useRoute } from 'vue-router';\nexport default {\n  name: 'AppSidebar',\n  setup: function setup() {\n    var route = useRoute();\n\n    // 菜单配置\n    var menuConfig = {\n      teaching: [{\n        name: '教学管理',\n        children: [{\n          name: '考勤管理',\n          path: '/student/attendance'\n        }, {\n          name: '作业管理',\n          path: '/student/homework'\n        }, {\n          name: '作业详情',\n          path: '/student/homeworkdetail'\n        }, {\n          name: '成绩查询',\n          path: '/student/grade'\n        }, {\n          name: '课程资源',\n          path: '/student/classresource'\n        }, {\n          name: '请假管理',\n          path: '/student/leave'\n        }]\n      }],\n      resource: [{\n        name: '资源管理',\n        children: [{\n          name: '教室预约',\n          path: '/student/classroom'\n        }, {\n          name: '书籍借阅',\n          path: '/student/library'\n        }]\n      }]\n    };\n\n    // 调试信息\n    console.log('当前路由:', route.path);\n    console.log('路由meta:', route.meta);\n\n    // 计算当前模块的菜单 - 基于路由meta和路径\n    var currentMenuGroups = computed(function () {\n      // 如果当前路由不需要显示侧边栏，返回空数组\n      if (route.meta.showSidebar === false) {\n        return [];\n      }\n      var path = route.path;\n\n      // teaching 模块路径匹配\n      var isTeaching = path.includes('/attendance') || path.includes('/homework') || path.includes('/grade') || path.includes('/classresource') || path.includes('/leave');\n\n      // resource 模块路径匹配\n      var isResource = path.includes('/classroom') || path.includes('/library');\n      console.log('是否匹配 teaching:', isTeaching);\n      console.log('是否匹配 resource:', isResource);\n      if (isTeaching) {\n        return menuConfig.teaching;\n      } else if (isResource) {\n        return menuConfig.resource;\n      }\n      return [];\n    });\n\n    // 计算当前模块标题\n    var currentModuleTitle = computed(function () {\n      // 如果当前路由不需要显示侧边栏，返回默认标题\n      if (route.meta.showSidebar === false) {\n        return '功能菜单';\n      }\n      var path = route.path;\n      var isTeaching = path.includes('/attendance') || path.includes('/homework') || path.includes('/grade') || path.includes('/classresource') || path.includes('/leave');\n      var isResource = path.includes('/classroom') || path.includes('/library');\n      if (isTeaching) {\n        return '教学管理';\n      } else if (isResource) {\n        return '资源管理';\n      }\n      return '功能菜单';\n    });\n\n    // 检查菜单项是否激活\n    var isItemActive = function isItemActive(item) {\n      return route.path === item.path || route.path.startsWith(item.path + '/');\n    };\n    return {\n      currentMenuGroups: currentMenuGroups,\n      currentModuleTitle: currentModuleTitle,\n      isItemActive: isItemActive\n    };\n  }\n};","map":{"version":3,"names":["computed","useRoute","name","setup","route","menuConfig","teaching","children","path","resource","console","log","meta","currentMenuGroups","showSidebar","isTeaching","includes","isResource","currentModuleTitle","isItemActive","item","startsWith"],"sources":["/Users/zhouzhou/Desktop/883Fronted_Final/src/components/layout/siderbars/StuSidebar.vue"],"sourcesContent":["<script>\nimport { computed } from 'vue'\nimport { useRoute } from 'vue-router'\n\nexport default {\n  name: 'AppSidebar',\n  setup() {\n    const route = useRoute()\n\n    // 菜单配置\n    const menuConfig = {\n      teaching: [\n        {\n          name: '教学管理',\n          children: [\n            { name: '考勤管理', path: '/student/attendance' },\n            { name: '作业管理', path: '/student/homework' },\n            { name: '作业详情', path: '/student/homeworkdetail' },\n            { name: '成绩查询', path: '/student/grade' },\n            { name: '课程资源', path: '/student/classresource' },\n            { name: '请假管理', path: '/student/leave' },\n          ]\n        }\n      ],\n      resource: [\n        {\n          name: '资源管理',\n          children: [\n            { name: '教室预约', path: '/student/classroom' },\n            { name: '书籍借阅', path: '/student/library' }\n          ]\n        }\n      ],\n    }\n\n    // 调试信息\n    console.log('当前路由:', route.path)\n    console.log('路由meta:', route.meta)\n\n    // 计算当前模块的菜单 - 基于路由meta和路径\n    const currentMenuGroups = computed(() => {\n      // 如果当前路由不需要显示侧边栏，返回空数组\n      if (route.meta.showSidebar === false) {\n        return []\n      }\n\n      const path = route.path\n      \n      // teaching 模块路径匹配\n      const isTeaching = \n        path.includes('/attendance') ||\n        path.includes('/homework') ||\n        path.includes('/grade') ||\n        path.includes('/classresource') ||\n        path.includes('/leave')\n      \n      // resource 模块路径匹配\n      const isResource = \n        path.includes('/classroom') ||\n        path.includes('/library')\n\n      console.log('是否匹配 teaching:', isTeaching)\n      console.log('是否匹配 resource:', isResource)\n\n      if (isTeaching) {\n        return menuConfig.teaching\n      } \n      else if (isResource) {\n        return menuConfig.resource\n      }\n\n      return []\n    })\n\n    // 计算当前模块标题\n    const currentModuleTitle = computed(() => {\n      // 如果当前路由不需要显示侧边栏，返回默认标题\n      if (route.meta.showSidebar === false) {\n        return '功能菜单'\n      }\n\n      const path = route.path\n      \n      const isTeaching = \n        path.includes('/attendance') ||\n        path.includes('/homework') ||\n        path.includes('/grade') ||\n        path.includes('/classresource') ||\n        path.includes('/leave')\n      \n      const isResource = \n        path.includes('/classroom') ||\n        path.includes('/library')\n\n      if (isTeaching) {\n        return '教学管理'\n      } else if (isResource) {\n        return '资源管理'\n      }\n      return '功能菜单'\n    })\n\n    // 检查菜单项是否激活\n    const isItemActive = (item) => {\n      return route.path === item.path || route.path.startsWith(item.path + '/')\n    }\n\n    return {\n      currentMenuGroups,\n      currentModuleTitle,\n      isItemActive\n    }\n  }\n}\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}