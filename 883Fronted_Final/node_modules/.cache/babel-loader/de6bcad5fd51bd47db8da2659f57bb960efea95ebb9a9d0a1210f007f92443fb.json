{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport { computed } from 'vue';\nimport { useRoute } from 'vue-router';\n\n// å¯¼å…¥ç»„ä»¶... (ä¿æŒä¸å˜)\nimport AdminHeader from './components/layout/headers/AdminHeader.vue';\nimport TeaHeader from './components/layout/headers/TeaHeader.vue';\nimport StuHeader from './components/layout/headers/StuHeader.vue';\nimport AdminSidebar from './components/layout/siderbars/AdminSidebar.vue';\nimport TeaSidebar from './components/layout/siderbars/TeaSidebar.vue';\nimport StuSidebar from './components/layout/siderbars/StuSidebar.vue';\nexport default {\n  name: 'App',\n  components: {\n    AdminHeader: AdminHeader,\n    TeaHeader: TeaHeader,\n    StuHeader: StuHeader,\n    AdminSidebar: AdminSidebar,\n    TeaSidebar: TeaSidebar,\n    StuSidebar: StuSidebar\n  },\n  setup: function setup() {\n    var route = useRoute();\n\n    // ğŸ’¡ 1. åˆ¤æ–­æ˜¯å¦éœ€è¦æ˜¾ç¤ºå¸ƒå±€ (Header/Sidebar)\n    // å¦‚æœå½“å‰è·¯ç”±æ˜¯ /login æˆ– /registerï¼Œåˆ™ä¸æ˜¾ç¤º\n    var showLayout = computed(function () {\n      var noLayoutRoutes = ['/login', '/register'];\n      return !noLayoutRoutes.includes(route.path);\n    });\n\n    // 2. åˆ¤æ–­å½“å‰è§’è‰² (ä¿æŒä¸å˜)\n    var currentRole = computed(function () {\n      var path = route.path;\n      if (path.startsWith('/admin')) return 'admin';\n      if (path.startsWith('/teacher')) return 'teacher';\n      return 'student';\n    });\n\n    // 3. åˆ¤æ–­æ˜¯å¦æ˜¾ç¤ºä¾§è¾¹æ  (ä¿æŒä¸å˜ï¼Œä½†ä¾èµ– showLayout)\n    var showSidebar = computed(function () {\n      // å¦‚æœä¸æ˜¾ç¤ºå¸ƒå±€ï¼Œè‚¯å®šä¸æ˜¾ç¤ºä¾§è¾¹æ \n      if (!showLayout.value) return false;\n\n      // åŸæœ‰çš„ä¾§è¾¹æ åˆ¤æ–­é€»è¾‘\n      var sidebarRoutes = [\n      // ... (ä½ çš„é•¿åˆ—è¡¨ä¿æŒä¸å˜) ...\n      '/student/attendance', '/student/grade', '/student/classresource', '/student/homework', '/student/homeworkdetail', '/student/leave', '/student/library', '/student/classroom', '/student/studorm', '/student/forum', '/teacher/students', '/teacher/resources', '/teacher/attendance', '/teacher/grades', '/teacher/homework', '/teacher/leave', '/teacher/library', '/teacher/classroom', '/admin/dorm', '/admin/dormassign', '/admin/approve', '/admin/classroom', '/admin/library'];\n      return sidebarRoutes.some(function (path) {\n        return route.path.startsWith(path);\n      });\n    });\n    return {\n      currentRole: currentRole,\n      showSidebar: showSidebar,\n      showLayout: showLayout // å¯¼å‡ºè¿™ä¸ªæ–°å˜é‡\n    };\n  }\n};","map":{"version":3,"names":["computed","useRoute","AdminHeader","TeaHeader","StuHeader","AdminSidebar","TeaSidebar","StuSidebar","name","components","setup","route","showLayout","noLayoutRoutes","includes","path","currentRole","startsWith","showSidebar","value","sidebarRoutes","some"],"sources":["D:\\vvvvvvvvvscode_workspace\\fronted\\883Fronted_Final\\src\\App.vue"],"sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <template v-if=\"showLayout\">\r\n      <AdminHeader v-if=\"currentRole === 'admin'\" />\r\n      <TeaHeader v-else-if=\"currentRole === 'teacher'\" />\r\n      <StuHeader v-else />\r\n\r\n      <AdminSidebar v-if=\"showSidebar && currentRole === 'admin'\" />\r\n      <TeaSidebar v-else-if=\"showSidebar && currentRole === 'teacher'\" />\r\n      <StuSidebar v-else-if=\"showSidebar\" />\r\n    </template>\r\n\r\n    <main class=\"main-content\" :class=\"{ 'with-sidebar': showSidebar && showLayout, 'no-layout': !showLayout }\">\r\n      <router-view />\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\n\r\n// å¯¼å…¥ç»„ä»¶... (ä¿æŒä¸å˜)\r\nimport AdminHeader from './components/layout/headers/AdminHeader.vue'\r\nimport TeaHeader from './components/layout/headers/TeaHeader.vue'\r\nimport StuHeader from './components/layout/headers/StuHeader.vue'\r\nimport AdminSidebar from './components/layout/siderbars/AdminSidebar.vue'\r\nimport TeaSidebar from './components/layout/siderbars/TeaSidebar.vue'\r\nimport StuSidebar from './components/layout/siderbars/StuSidebar.vue'\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    AdminHeader, TeaHeader, StuHeader,\r\n    AdminSidebar, TeaSidebar, StuSidebar\r\n  },\r\n  setup() {\r\n    const route = useRoute()\r\n\r\n    // ğŸ’¡ 1. åˆ¤æ–­æ˜¯å¦éœ€è¦æ˜¾ç¤ºå¸ƒå±€ (Header/Sidebar)\r\n    // å¦‚æœå½“å‰è·¯ç”±æ˜¯ /login æˆ– /registerï¼Œåˆ™ä¸æ˜¾ç¤º\r\n    const showLayout = computed(() => {\r\n      const noLayoutRoutes = ['/login', '/register']\r\n      return !noLayoutRoutes.includes(route.path)\r\n    })\r\n\r\n    // 2. åˆ¤æ–­å½“å‰è§’è‰² (ä¿æŒä¸å˜)\r\n    const currentRole = computed(() => {\r\n      const path = route.path\r\n      if (path.startsWith('/admin')) return 'admin'\r\n      if (path.startsWith('/teacher')) return 'teacher'\r\n      return 'student'\r\n    })\r\n\r\n    // 3. åˆ¤æ–­æ˜¯å¦æ˜¾ç¤ºä¾§è¾¹æ  (ä¿æŒä¸å˜ï¼Œä½†ä¾èµ– showLayout)\r\n    const showSidebar = computed(() => {\r\n      // å¦‚æœä¸æ˜¾ç¤ºå¸ƒå±€ï¼Œè‚¯å®šä¸æ˜¾ç¤ºä¾§è¾¹æ \r\n      if (!showLayout.value) return false\r\n\r\n      // åŸæœ‰çš„ä¾§è¾¹æ åˆ¤æ–­é€»è¾‘\r\n      const sidebarRoutes = [\r\n        // ... (ä½ çš„é•¿åˆ—è¡¨ä¿æŒä¸å˜) ...\r\n        '/student/attendance', '/student/grade', '/student/classresource',\r\n        '/student/homework', '/student/homeworkdetail', '/student/leave',\r\n        '/student/library', '/student/classroom', '/student/studorm',\r\n        '/student/forum',\r\n        '/teacher/students', '/teacher/resources', '/teacher/attendance',\r\n        '/teacher/grades', '/teacher/homework', '/teacher/leave',\r\n        '/teacher/library', '/teacher/classroom',\r\n        '/admin/dorm', '/admin/dormassign', '/admin/approve',\r\n        '/admin/classroom', '/admin/library'\r\n      ]\r\n      return sidebarRoutes.some(path => route.path.startsWith(path))\r\n    })\r\n\r\n    return {\r\n      currentRole,\r\n      showSidebar,\r\n      showLayout // å¯¼å‡ºè¿™ä¸ªæ–°å˜é‡\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n/* å…¨å±€æ ·å¼ä¿æŒä¸å˜ */\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\n#app {\r\n  min-height: 100vh;\r\n  position: relative;\r\n  background: transparent;\r\n}\r\n\r\n.main-content {\r\n  /* é»˜è®¤æœ‰ Header æ—¶çš„æ ·å¼ */\r\n  margin-top: -20px;\r\n  /* è¿™é‡Œçš„ margin-top å¯èƒ½æ˜¯ä¸ºäº†æŠµæ¶ˆ header é«˜åº¦ï¼Œæˆ–è€…æ ¹æ®ä½ çš„å¸ƒå±€è°ƒæ•´ */\r\n  padding: 20px;\r\n  background: #f5f5f5;\r\n  min-height: calc(100vh - 60px);\r\n  transition: margin-left 0.3s ease;\r\n}\r\n\r\n/* ğŸ’¡ æ–°å¢ï¼šæ²¡æœ‰å¸ƒå±€æ—¶ï¼ˆç™»å½•é¡µï¼‰çš„æ ·å¼ */\r\n.main-content.no-layout {\r\n  margin-top: 0;\r\n  margin-left: 0 !important;\r\n  padding: 0;\r\n  background: transparent;\r\n  /* ç™»å½•é¡µå¯èƒ½æœ‰è‡ªå·±çš„èƒŒæ™¯ */\r\n  min-height: 100vh;\r\n}\r\n\r\n.main-content.with-sidebar {\r\n  margin-left: 240px;\r\n}\r\n\r\n/* èƒŒæ™¯é®ç½©å±‚é€»è¾‘ä¹Ÿéœ€è¦è°ƒæ•´ */\r\n.main-content::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 50px;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: #f5f5f5;\r\n  z-index: -1;\r\n  display: block;\r\n  /* é»˜è®¤æ˜¾ç¤º */\r\n}\r\n\r\n/* ğŸ’¡ ç™»å½•é¡µéšè—èƒŒæ™¯é®ç½© */\r\n.main-content.no-layout::before {\r\n  display: none;\r\n}\r\n\r\n.main-content.with-sidebar::before {\r\n  left: 240px;\r\n}\r\n</style>"],"mappings":";;;;AAmBA,SAASA,QAAO,QAAS,KAAI;AAC7B,SAASC,QAAO,QAAS,YAAW;;AAEpC;AACA,OAAOC,WAAU,MAAO,6CAA4C;AACpE,OAAOC,SAAQ,MAAO,2CAA0C;AAChE,OAAOC,SAAQ,MAAO,2CAA0C;AAChE,OAAOC,YAAW,MAAO,gDAA+C;AACxE,OAAOC,UAAS,MAAO,8CAA6C;AACpE,OAAOC,UAAS,MAAO,8CAA6C;AAEpE,eAAe;EACbC,IAAI,EAAE,KAAK;EACXC,UAAU,EAAE;IACVP,WAAW,EAAXA,WAAW;IAAEC,SAAS,EAATA,SAAS;IAAEC,SAAS,EAATA,SAAS;IACjCC,YAAY,EAAZA,YAAY;IAAEC,UAAU,EAAVA,UAAU;IAAEC,UAAS,EAATA;EAC5B,CAAC;EACDG,KAAK,WAALA,KAAKA,CAAA,EAAG;IACN,IAAMC,KAAI,GAAIV,QAAQ,CAAC;;IAEvB;IACA;IACA,IAAMW,UAAS,GAAIZ,QAAQ,CAAC,YAAM;MAChC,IAAMa,cAAa,GAAI,CAAC,QAAQ,EAAE,WAAW;MAC7C,OAAO,CAACA,cAAc,CAACC,QAAQ,CAACH,KAAK,CAACI,IAAI;IAC5C,CAAC;;IAED;IACA,IAAMC,WAAU,GAAIhB,QAAQ,CAAC,YAAM;MACjC,IAAMe,IAAG,GAAIJ,KAAK,CAACI,IAAG;MACtB,IAAIA,IAAI,CAACE,UAAU,CAAC,QAAQ,CAAC,EAAE,OAAO,OAAM;MAC5C,IAAIF,IAAI,CAACE,UAAU,CAAC,UAAU,CAAC,EAAE,OAAO,SAAQ;MAChD,OAAO,SAAQ;IACjB,CAAC;;IAED;IACA,IAAMC,WAAU,GAAIlB,QAAQ,CAAC,YAAM;MACjC;MACA,IAAI,CAACY,UAAU,CAACO,KAAK,EAAE,OAAO,KAAI;;MAElC;MACA,IAAMC,aAAY,GAAI;MACpB;MACA,qBAAqB,EAAE,gBAAgB,EAAE,wBAAwB,EACjE,mBAAmB,EAAE,yBAAyB,EAAE,gBAAgB,EAChE,kBAAkB,EAAE,oBAAoB,EAAE,kBAAkB,EAC5D,gBAAgB,EAChB,mBAAmB,EAAE,oBAAoB,EAAE,qBAAqB,EAChE,iBAAiB,EAAE,mBAAmB,EAAE,gBAAgB,EACxD,kBAAkB,EAAE,oBAAoB,EACxC,aAAa,EAAE,mBAAmB,EAAE,gBAAgB,EACpD,kBAAkB,EAAE,gBAAe,CACrC;MACA,OAAOA,aAAa,CAACC,IAAI,CAAC,UAAAN,IAAG;QAAA,OAAKJ,KAAK,CAACI,IAAI,CAACE,UAAU,CAACF,IAAI,CAAC;MAAA;IAC/D,CAAC;IAED,OAAO;MACLC,WAAW,EAAXA,WAAW;MACXE,WAAW,EAAXA,WAAW;MACXN,UAAS,EAATA,UAAS,CAAE;IACb;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}