{"ast":null,"code":"import _objectSpread from \"D:/vvvvvvvvvscode_workspace/fronted/883Fronted_Final/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport { ref } from 'vue';\nexport default {\n  __name: 'Detail',\n  setup: function setup(__props, _ref) {\n    var __expose = _ref.expose;\n    __expose();\n    var records = ref([{\n      id: 1,\n      name: '张三',\n      status: 1,\n      statusText: '出勤',\n      statusClass: 'present',\n      remarks: ''\n    }, {\n      id: 2,\n      name: '李四',\n      status: 2,\n      statusText: '缺勤',\n      statusClass: 'absent',\n      remarks: '未请假'\n    }, {\n      id: 3,\n      name: '王五',\n      status: 3,\n      statusText: '迟到',\n      statusClass: 'late',\n      remarks: '晚到5分钟'\n    }]);\n    var showModal = ref(false);\n    var editData = ref({});\n    var statusOptions = {\n      1: '出勤',\n      2: '缺勤',\n      3: '迟到',\n      4: '请假'\n    };\n    var openModify = function openModify(record) {\n      editData.value = _objectSpread({}, record);\n      showModal.value = true;\n    };\n    var confirmEdit = function confirmEdit() {\n      var idx = records.value.findIndex(function (r) {\n        return r.id === editData.value.id;\n      });\n      if (idx !== -1) {\n        var label = statusOptions[editData.value.status];\n        var classMap = {\n          1: 'present',\n          2: 'absent',\n          3: 'late',\n          4: 'leave'\n        };\n        records.value[idx] = _objectSpread(_objectSpread({}, editData.value), {}, {\n          statusText: label,\n          statusClass: classMap[editData.value.status]\n        });\n      }\n      showModal.value = false;\n    };\n    var __returned__ = {\n      records: records,\n      showModal: showModal,\n      editData: editData,\n      statusOptions: statusOptions,\n      openModify: openModify,\n      confirmEdit: confirmEdit,\n      ref: ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","records","id","name","status","statusText","statusClass","remarks","showModal","editData","statusOptions","openModify","record","value","_objectSpread","confirmEdit","idx","findIndex","r","label","classMap"],"sources":["D:/vvvvvvvvvscode_workspace/fronted/883Fronted_Final/src/views/Teacher/Teaching/course/attendance/Detail.vue"],"sourcesContent":["<template>\r\n  <div class=\"attendance-detail\">\r\n    <div class=\"page-header\">\r\n      <h1>考勤详情</h1>\r\n      <p class=\"page-description\">展示学生考勤记录，可直接修改</p>\r\n    </div>\r\n\r\n    <section class=\"card\">\r\n      <div class=\"toolbar\">\r\n        <button class=\"btn\" @click=\"$router.push('launch')\">发起签到</button>\r\n        <span class=\"info\">共 {{ records.length }} 条记录</span>\r\n      </div>\r\n\r\n      <table class=\"data-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>记录ID</th>\r\n            <th>学生姓名</th>\r\n            <th>状态</th>\r\n            <th>备注</th>\r\n            <th>操作</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"record in records\" :key=\"record.id\">\r\n            <td>{{ record.id }}</td>\r\n            <td>{{ record.name }}</td>\r\n            <td>\r\n              <span :class=\"['status-tag', record.statusClass]\">{{ record.statusText }}</span>\r\n            </td>\r\n            <td>{{ record.remarks || '-' }}</td>\r\n            <td>\r\n              <button class=\"btn-link\" @click=\"openModify(record)\">修改</button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </section>\r\n\r\n    <!-- 修改弹窗 -->\r\n    <div v-if=\"showModal\" class=\"modal-overlay\">\r\n      <div class=\"modal-card\">\r\n        <h3>修改考勤</h3>\r\n\r\n        <div class=\"form-group\">\r\n          <label>状态</label>\r\n          <select v-model=\"editData.status\" class=\"input\">\r\n            <option disabled value=\"\">请选择</option>\r\n            <option v-for=\"(label, key) in statusOptions\" :key=\"key\" :value=\"key\">\r\n              {{ label }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>备注</label>\r\n          <textarea v-model=\"editData.remarks\" class=\"input\" rows=\"3\"></textarea>\r\n        </div>\r\n\r\n        <div class=\"modal-actions\">\r\n          <button class=\"btn\" @click=\"confirmEdit\">保存</button>\r\n          <button class=\"btn-cancel\" @click=\"showModal = false\">取消</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\n\r\nconst records = ref([\r\n  { id: 1, name: '张三', status: 1, statusText: '出勤', statusClass: 'present', remarks: '' },\r\n  { id: 2, name: '李四', status: 2, statusText: '缺勤', statusClass: 'absent', remarks: '未请假' },\r\n  { id: 3, name: '王五', status: 3, statusText: '迟到', statusClass: 'late', remarks: '晚到5分钟' }\r\n])\r\n\r\nconst showModal = ref(false)\r\nconst editData = ref({})\r\nconst statusOptions = { 1: '出勤', 2: '缺勤', 3: '迟到', 4: '请假' }\r\n\r\nconst openModify = (record) => {\r\n  editData.value = { ...record }\r\n  showModal.value = true\r\n}\r\n\r\nconst confirmEdit = () => {\r\n  const idx = records.value.findIndex(r => r.id === editData.value.id)\r\n  if (idx !== -1) {\r\n    const label = statusOptions[editData.value.status]\r\n    const classMap = { 1: 'present', 2: 'absent', 3: 'late', 4: 'leave' }\r\n    records.value[idx] = {\r\n      ...editData.value,\r\n      statusText: label,\r\n      statusClass: classMap[editData.value.status]\r\n    }\r\n  }\r\n  showModal.value = false\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.attendance-detail {\r\n  padding: 24px;\r\n}\r\n\r\n.page-header {\r\n  margin-block-end: 24px;\r\n}\r\n\r\n.page-description {\r\n  color: #666;\r\n  font-size: 14px;\r\n}\r\n\r\n.card {\r\n  background: #fff;\r\n  border-radius: 10px;\r\n  padding: 24px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.toolbar {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-block-end: 16px;\r\n}\r\n\r\n.btn {\r\n  background: #2A5CAA;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  padding: 8px 16px;\r\n  cursor: pointer;\r\n}\r\n\r\n.info {\r\n  color: #666;\r\n}\r\n\r\n.data-table {\r\n  inline-size: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.data-table th,\r\n.data-table td {\r\n  padding: 12px;\r\n  border-block-end: 1px solid #eee;\r\n  text-align: start;\r\n}\r\n\r\n.status-tag {\r\n  padding: 2px 8px;\r\n  border-radius: 4px;\r\n  font-size: 12px;\r\n}\r\n\r\n.status-tag.present {\r\n  background: #e6fffb;\r\n  color: #13c2c2;\r\n}\r\n\r\n.status-tag.absent {\r\n  background: #fff2f0;\r\n  color: #ff4d4f;\r\n}\r\n\r\n.status-tag.late {\r\n  background: #fffbe6;\r\n  color: #faad14;\r\n}\r\n\r\n.status-tag.leave {\r\n  background: #f6ffed;\r\n  color: #52c41a;\r\n}\r\n\r\n.btn-link {\r\n  background: none;\r\n  border: none;\r\n  color: #2A5CAA;\r\n  cursor: pointer;\r\n  text-decoration: underline;\r\n}\r\n\r\n.modal-overlay {\r\n  position: fixed;\r\n  inset: 0;\r\n  background: rgba(0, 0, 0, 0.4);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal-card {\r\n  background: white;\r\n  padding: 20px;\r\n  border-radius: 10px;\r\n  inline-size: 400px;\r\n}\r\n\r\n.modal-actions {\r\n  margin-block-start: 20px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 10px;\r\n}\r\n\r\n.btn-cancel {\r\n  background: #f0f0f0;\r\n  border: 1px solid #ccc;\r\n}\r\n\r\n.input {\r\n  inline-size: 100%;\r\n  padding: 8px;\r\n  border-radius: 6px;\r\n  border: 1px solid #ddd;\r\n  margin-block-start: 6px;\r\n}\r\n</style>\r\n"],"mappings":";;;AAqEA,SAASA,GAAG,QAAQ,KAAK;;;;;;IAEzB,IAAMC,OAAO,GAAGD,GAAG,CAAC,CAClB;MAAEE,EAAE,EAAE,CAAC;MAAEC,IAAI,EAAE,IAAI;MAAEC,MAAM,EAAE,CAAC;MAAEC,UAAU,EAAE,IAAI;MAAEC,WAAW,EAAE,SAAS;MAAEC,OAAO,EAAE;IAAG,CAAC,EACvF;MAAEL,EAAE,EAAE,CAAC;MAAEC,IAAI,EAAE,IAAI;MAAEC,MAAM,EAAE,CAAC;MAAEC,UAAU,EAAE,IAAI;MAAEC,WAAW,EAAE,QAAQ;MAAEC,OAAO,EAAE;IAAM,CAAC,EACzF;MAAEL,EAAE,EAAE,CAAC;MAAEC,IAAI,EAAE,IAAI;MAAEC,MAAM,EAAE,CAAC;MAAEC,UAAU,EAAE,IAAI;MAAEC,WAAW,EAAE,MAAM;MAAEC,OAAO,EAAE;IAAQ,CAAC,CAC1F,CAAC;IAEF,IAAMC,SAAS,GAAGR,GAAG,CAAC,KAAK,CAAC;IAC5B,IAAMS,QAAQ,GAAGT,GAAG,CAAC,CAAC,CAAC,CAAC;IACxB,IAAMU,aAAa,GAAG;MAAE,CAAC,EAAE,IAAI;MAAE,CAAC,EAAE,IAAI;MAAE,CAAC,EAAE,IAAI;MAAE,CAAC,EAAE;IAAK,CAAC;IAE5D,IAAMC,UAAU,GAAG,SAAbA,UAAUA,CAAIC,MAAM,EAAK;MAC7BH,QAAQ,CAACI,KAAK,GAAAC,aAAA,KAAQF,MAAM,CAAE;MAC9BJ,SAAS,CAACK,KAAK,GAAG,IAAI;IACxB,CAAC;IAED,IAAME,WAAW,GAAG,SAAdA,WAAWA,CAAA,EAAS;MACxB,IAAMC,GAAG,GAAGf,OAAO,CAACY,KAAK,CAACI,SAAS,CAAC,UAAAC,CAAC;QAAA,OAAIA,CAAC,CAAChB,EAAE,KAAKO,QAAQ,CAACI,KAAK,CAACX,EAAE;MAAA,EAAC;MACpE,IAAIc,GAAG,KAAK,CAAC,CAAC,EAAE;QACd,IAAMG,KAAK,GAAGT,aAAa,CAACD,QAAQ,CAACI,KAAK,CAACT,MAAM,CAAC;QAClD,IAAMgB,QAAQ,GAAG;UAAE,CAAC,EAAE,SAAS;UAAE,CAAC,EAAE,QAAQ;UAAE,CAAC,EAAE,MAAM;UAAE,CAAC,EAAE;QAAQ,CAAC;QACrEnB,OAAO,CAACY,KAAK,CAACG,GAAG,CAAC,GAAAF,aAAA,CAAAA,aAAA,KACbL,QAAQ,CAACI,KAAK;UACjBR,UAAU,EAAEc,KAAK;UACjBb,WAAW,EAAEc,QAAQ,CAACX,QAAQ,CAACI,KAAK,CAACT,MAAM;QAAC,EAC7C;MACH;MACAI,SAAS,CAACK,KAAK,GAAG,KAAK;IACzB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}