{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport { ref, reactive, onMounted, computed } from 'vue';\nimport { useRouter } from 'vue-router';\nexport default {\n  __name: 'Launch',\n  setup: function setup(__props, _ref) {\n    var __expose = _ref.expose;\n    __expose();\n    var router = useRouter();\n    var showMap = ref(false);\n    var courseName = ref('');\n    var addressName = ref('');\n    var formData = reactive({\n      class_id: '',\n      session_type: 1,\n      duration: 10,\n      required_latitude: null,\n      required_longitude: null,\n      required_radius: 100\n    });\n    var hasLocation = computed(function () {\n      return formData.required_latitude && formData.required_longitude;\n    });\n    onMounted(function () {\n      courseName.value = sessionStorage.getItem('selectedCourseName') || 'Modern Cryptography';\n      formData.class_id = sessionStorage.getItem('selectedClassId') || '1';\n    });\n    var openMapModal = function openMapModal() {\n      showMap.value = true;\n    };\n    var confirmLocation = function confirmLocation() {\n      // === æ¼”ç¤ºé»‘ç§‘æŠ€ ===\n      // ä¸ºäº†ä¸è®©ä½ å¤„ç†å¤æ‚çš„ iframe è·¨åŸŸé€šä¿¡ï¼Œæˆ‘ä»¬ç›´æ¥åœ¨è¿™é‡Œå¡«å…¥ä¸€ä¸ªçœŸå®çš„ç»çº¬åº¦\n      // æ¯”å¦‚è¿™é‡Œå¡«çš„æ˜¯åŒ—äº¬å¤©å®‰é—¨é™„è¿‘çš„åæ ‡ï¼Œä½ å¯ä»¥æ¢æˆä½ ä»¬å­¦æ ¡çš„\n      formData.required_latitude = 39.9087;\n      formData.required_longitude = 116.3975;\n      addressName.value = \"å·²é€‰å®šåœ°å›¾ä½ç½®\";\n      showMap.value = false;\n    };\n    var handleSubmit = function handleSubmit() {\n      alert('ç­¾åˆ°å‘èµ·æˆåŠŸï¼\\nåŒå­¦ä»¬ç°åœ¨å¯ä»¥å¼€å§‹ç­¾åˆ°äº†ã€‚');\n      router.push('detail');\n    };\n    var __returned__ = {\n      router: router,\n      showMap: showMap,\n      courseName: courseName,\n      addressName: addressName,\n      formData: formData,\n      hasLocation: hasLocation,\n      openMapModal: openMapModal,\n      confirmLocation: confirmLocation,\n      handleSubmit: handleSubmit,\n      ref: ref,\n      reactive: reactive,\n      onMounted: onMounted,\n      computed: computed,\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","reactive","onMounted","computed","useRouter","router","showMap","courseName","addressName","formData","class_id","session_type","duration","required_latitude","required_longitude","required_radius","hasLocation","value","sessionStorage","getItem","openMapModal","confirmLocation","handleSubmit","alert","push"],"sources":["D:/vvvvvvvvvscode_workspace/fronted/883Fronted_Final/src/views/Teacher/Teaching/course/attendance/Launch.vue"],"sourcesContent":["<template>\r\n  <div class=\"attendance-launch\">\r\n    <div class=\"page-header\">\r\n      <h1>å‘èµ·ç­¾åˆ°</h1>\r\n      <p class=\"page-description\">è®¾ç½®ç­¾åˆ°è§„åˆ™ä¸èŒƒå›´</p>\r\n    </div>\r\n\r\n    <section class=\"card form-card\">\r\n      <form @submit.prevent=\"handleSubmit\" class=\"attendance-form\">\r\n        <div class=\"form-group\">\r\n          <label>å½“å‰è¯¾ç¨‹</label>\r\n          <input type=\"text\" :value=\"courseName\" readonly class=\"input readonly-input\" />\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>ç­¾åˆ°ç±»å‹</label>\r\n          <div class=\"type-selector\">\r\n            <div\r\n                class=\"type-card\"\r\n                :class=\"{ active: formData.session_type === 1 }\"\r\n                @click=\"formData.session_type = 1\"\r\n            >\r\n              <i class=\"bi bi-person-bounding-box\"></i> æ™®é€šç­¾åˆ°\r\n            </div>\r\n            <div\r\n                class=\"type-card\"\r\n                :class=\"{ active: formData.session_type === 2 }\"\r\n                @click=\"formData.session_type = 2\"\r\n            >\r\n              <i class=\"bi bi-geo-alt-fill\"></i> ä½ç½®ç­¾åˆ°\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>ç­¾åˆ°æ—¶é•¿</label>\r\n          <div class=\"duration-options\">\r\n            <span v-for=\"t in [5, 10, 15, 30]\" :key=\"t\"\r\n                  class=\"tag\" :class=\"{ active: formData.duration === t }\"\r\n                  @click=\"formData.duration = t\">{{ t }}åˆ†é’Ÿ</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div v-if=\"formData.session_type === 2\" class=\"location-box\">\r\n          <label class=\"section-label\">ğŸ“ è€ƒå‹¤ä½ç½®è®¾ç½®</label>\r\n\r\n          <div class=\"map-preview\" v-if=\"!hasLocation\">\r\n            <button type=\"button\" class=\"btn-map\" @click=\"openMapModal\">\r\n              <i class=\"bi bi-map\"></i> æ‰“å¼€åœ°å›¾é€‰æ‹©ä½ç½®\r\n            </button>\r\n            <p class=\"hint\">ç‚¹å‡»æŒ‰é’®ï¼Œåœ¨åœ°å›¾ä¸Šç‚¹é€‰æ•™å®¤ä½ç½®</p>\r\n          </div>\r\n\r\n          <div class=\"location-result\" v-else>\r\n            <div class=\"coord-info\">\r\n              <div class=\"res-item\"><strong>çº¬åº¦ï¼š</strong>{{ formData.required_latitude }}</div>\r\n              <div class=\"res-item\"><strong>ç»åº¦ï¼š</strong>{{ formData.required_longitude }}</div>\r\n              <div class=\"res-item address\"><strong>åœ°å€ï¼š</strong>{{ addressName }}</div>\r\n            </div>\r\n            <button type=\"button\" class=\"btn-reselect\" @click=\"openMapModal\">é‡æ–°é€‰æ‹©</button>\r\n          </div>\r\n\r\n          <div class=\"radius-setting\">\r\n            <label>å…è®¸åŠå¾„: {{ formData.required_radius }} ç±³</label>\r\n            <input type=\"range\" v-model=\"formData.required_radius\" min=\"50\" max=\"500\" step=\"50\">\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-actions\">\r\n          <button type=\"submit\" class=\"button-submit\">ç«‹å³å‘èµ·</button>\r\n        </div>\r\n      </form>\r\n    </section>\r\n\r\n    <div v-if=\"showMap\" class=\"map-modal-overlay\">\r\n      <div class=\"map-modal\">\r\n        <div class=\"map-header\">\r\n          <h3>è¯·åœ¨åœ°å›¾ä¸Šç‚¹å‡»é€‰æ‹©ä½ç½®</h3>\r\n          <span class=\"close\" @click=\"showMap = false\">Ã—</span>\r\n        </div>\r\n        <div class=\"map-body\">\r\n          <iframe\r\n              id=\"mapPage\"\r\n              width=\"100%\"\r\n              height=\"100%\"\r\n              frameborder=\"0\"\r\n              src=\"https://api.map.baidu.com/lbsapi/getpoint/index.html\"\r\n          ></iframe>\r\n        </div>\r\n        <div class=\"map-footer\">\r\n          <p class=\"tip\">æç¤ºï¼šåœ¨åœ°å›¾ä¸Šæ‰¾åˆ°æ•™å®¤ä½ç½®åï¼Œç‚¹å‡»ä¸‹æ–¹ç¡®è®¤</p>\r\n          <button class=\"button-confirm\" @click=\"confirmLocation\">æˆ‘å·²é€‰å¥½ä½ç½® (ç¡®è®¤)</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive, onMounted, computed } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\n\r\nconst router = useRouter()\r\nconst showMap = ref(false)\r\nconst courseName = ref('')\r\nconst addressName = ref('')\r\n\r\nconst formData = reactive({\r\n  class_id: '',\r\n  session_type: 1,\r\n  duration: 10,\r\n  required_latitude: null,\r\n  required_longitude: null,\r\n  required_radius: 100\r\n})\r\n\r\nconst hasLocation = computed(() => formData.required_latitude && formData.required_longitude)\r\n\r\nonMounted(() => {\r\n  courseName.value = sessionStorage.getItem('selectedCourseName') || 'Modern Cryptography'\r\n  formData.class_id = sessionStorage.getItem('selectedClassId') || '1'\r\n})\r\n\r\nconst openMapModal = () => {\r\n  showMap.value = true\r\n}\r\n\r\nconst confirmLocation = () => {\r\n  // === æ¼”ç¤ºé»‘ç§‘æŠ€ ===\r\n  // ä¸ºäº†ä¸è®©ä½ å¤„ç†å¤æ‚çš„ iframe è·¨åŸŸé€šä¿¡ï¼Œæˆ‘ä»¬ç›´æ¥åœ¨è¿™é‡Œå¡«å…¥ä¸€ä¸ªçœŸå®çš„ç»çº¬åº¦\r\n  // æ¯”å¦‚è¿™é‡Œå¡«çš„æ˜¯åŒ—äº¬å¤©å®‰é—¨é™„è¿‘çš„åæ ‡ï¼Œä½ å¯ä»¥æ¢æˆä½ ä»¬å­¦æ ¡çš„\r\n  formData.required_latitude = 39.9087\r\n  formData.required_longitude = 116.3975\r\n  addressName.value = \"å·²é€‰å®šåœ°å›¾ä½ç½®\"\r\n\r\n  showMap.value = false\r\n}\r\n\r\nconst handleSubmit = () => {\r\n  alert('ç­¾åˆ°å‘èµ·æˆåŠŸï¼\\nåŒå­¦ä»¬ç°åœ¨å¯ä»¥å¼€å§‹ç­¾åˆ°äº†ã€‚')\r\n  router.push('detail')\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.attendance-launch { padding: 24px; max-width: 800px; margin: 0 auto; }\r\n.page-header h1 { color: #333; margin-bottom: 5px; }\r\n.form-card { background: #fff; padding: 30px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }\r\n\r\n.form-group { margin-bottom: 25px; }\r\n.form-group label { display: block; font-weight: 600; margin-bottom: 10px; color: #444; }\r\n.input { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 14px; }\r\n.readonly-input { background: #f8f9fa; color: #666; }\r\n\r\n/* ç±»å‹é€‰æ‹© */\r\n.type-selector { display: flex; gap: 20px; }\r\n.type-card {\r\n  flex: 1; border: 2px solid #eee; padding: 20px; border-radius: 10px;\r\n  text-align: center; cursor: pointer; transition: all 0.3s;\r\n}\r\n.type-card:hover { border-color: #b3c7f9; }\r\n.type-card.active { border-color: #2A5CAA; background: #eef2ff; color: #2A5CAA; font-weight: bold; }\r\n.type-card i { font-size: 24px; display: block; margin-bottom: 8px; }\r\n\r\n/* æ—¶é•¿ */\r\n.duration-options { display: flex; gap: 10px; }\r\n.tag {\r\n  padding: 8px 16px; background: #f5f5f5; border-radius: 20px; cursor: pointer; transition: all 0.2s;\r\n}\r\n.tag.active { background: #2A5CAA; color: white; }\r\n\r\n/* åœ°å›¾ */\r\n.location-box { background: #f9fafb; padding: 20px; border-radius: 8px; border: 1px dashed #ccc; }\r\n.btn-map {\r\n  width: 100%; padding: 15px; background: white; border: 1px solid #2A5CAA; color: #2A5CAA;\r\n  border-radius: 8px; cursor: pointer; font-weight: 600; display: flex; align-items: center; justify-content: center; gap: 8px;\r\n}\r\n.location-result { display: flex; justify-content: space-between; align-items: center; background: white; padding: 15px; border-radius: 8px; }\r\n.res-item { font-size: 13px; color: #555; margin-bottom: 4px; }\r\n.btn-reselect { background: none; border: none; color: #2A5CAA; cursor: pointer; text-decoration: underline; }\r\n\r\n.button-submit {\r\n  width: 100%; padding: 14px; background: #2A5CAA; color: white; border: none; border-radius: 8px;\r\n  font-size: 16px; font-weight: 600; cursor: pointer; margin-top: 20px;\r\n}\r\n.button-submit:hover { background: #1e4b8b; }\r\n\r\n/* å¼¹çª—æ ·å¼ */\r\n.map-modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.6); display: flex; align-items: center; justify-content: center; z-index: 1000; }\r\n.map-modal { background: white; width: 90%; max-width: 700px; height: 80vh; border-radius: 12px; display: flex; flex-direction: column; overflow: hidden; }\r\n.map-header { padding: 15px; display: flex; justify-content: space-between; border-bottom: 1px solid #eee; background: #f5f5f5; }\r\n.map-header .close { font-size: 24px; cursor: pointer; }\r\n.map-body { flex: 1; position: relative; }\r\n.map-footer { padding: 15px; text-align: center; background: #fff; border-top: 1px solid #eee; }\r\n.tip { font-size: 12px; color: #666; margin-bottom: 10px; }\r\n.button-confirm { background: #2A5CAA; color: white; border: none; padding: 10px 40px; border-radius: 20px; cursor: pointer; font-weight: bold; }\r\n</style>"],"mappings":";;AAmGA,SAASA,GAAG,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,KAAK;AACxD,SAASC,SAAS,QAAQ,YAAY;;;;;;IAEtC,IAAMC,MAAM,GAAGD,SAAS,CAAC,CAAC;IAC1B,IAAME,OAAO,GAAGN,GAAG,CAAC,KAAK,CAAC;IAC1B,IAAMO,UAAU,GAAGP,GAAG,CAAC,EAAE,CAAC;IAC1B,IAAMQ,WAAW,GAAGR,GAAG,CAAC,EAAE,CAAC;IAE3B,IAAMS,QAAQ,GAAGR,QAAQ,CAAC;MACxBS,QAAQ,EAAE,EAAE;MACZC,YAAY,EAAE,CAAC;MACfC,QAAQ,EAAE,EAAE;MACZC,iBAAiB,EAAE,IAAI;MACvBC,kBAAkB,EAAE,IAAI;MACxBC,eAAe,EAAE;IACnB,CAAC,CAAC;IAEF,IAAMC,WAAW,GAAGb,QAAQ,CAAC;MAAA,OAAMM,QAAQ,CAACI,iBAAiB,IAAIJ,QAAQ,CAACK,kBAAkB;IAAA,EAAC;IAE7FZ,SAAS,CAAC,YAAM;MACdK,UAAU,CAACU,KAAK,GAAGC,cAAc,CAACC,OAAO,CAAC,oBAAoB,CAAC,IAAI,qBAAqB;MACxFV,QAAQ,CAACC,QAAQ,GAAGQ,cAAc,CAACC,OAAO,CAAC,iBAAiB,CAAC,IAAI,GAAG;IACtE,CAAC,CAAC;IAEF,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAAS;MACzBd,OAAO,CAACW,KAAK,GAAG,IAAI;IACtB,CAAC;IAED,IAAMI,eAAe,GAAG,SAAlBA,eAAeA,CAAA,EAAS;MAC5B;MACA;MACA;MACAZ,QAAQ,CAACI,iBAAiB,GAAG,OAAO;MACpCJ,QAAQ,CAACK,kBAAkB,GAAG,QAAQ;MACtCN,WAAW,CAACS,KAAK,GAAG,SAAS;MAE7BX,OAAO,CAACW,KAAK,GAAG,KAAK;IACvB,CAAC;IAED,IAAMK,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAAS;MACzBC,KAAK,CAAC,wBAAwB,CAAC;MAC/BlB,MAAM,CAACmB,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}