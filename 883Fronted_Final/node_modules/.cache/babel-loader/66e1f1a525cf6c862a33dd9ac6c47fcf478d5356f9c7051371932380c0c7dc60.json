{"ast":null,"code":"import \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport { computed, ref, watch } from 'vue';\nimport { useRoute } from 'vue-router';\nexport default {\n  name: 'TeaSidebar',\n  setup: function setup() {\n    var route = useRoute();\n    var courseId = ref('');\n    watch(function () {\n      return route.params.courseId;\n    }, function (newId) {\n      courseId.value = newId || '';\n    }, {\n      immediate: true\n    });\n    var inCourseContext = computed(function () {\n      return !!courseId.value;\n    });\n\n    // 菜单配置\n    var menuConfig = {\n      // 1. 课程内菜单 (智能教学) - 已按要求合并功能\n      courseSmart: [{\n        name: '教学中心',\n        children: [{\n          name: '课程概览',\n          path: 'overview'\n        }, {\n          name: '知识图谱',\n          path: 'learning-path'\n        },\n        // === 合并后的考勤管理 ===\n        // 点击跳转到 launch，顶部 Tab 会显示 [发起签到 | 考勤记录 | 修改考勤]\n        {\n          name: '考勤管理',\n          path: 'attendance/launch'\n        },\n        // === 合并后的作业管理 ===\n        // 点击跳转到 publish，顶部 Tab 会显示 [发布作业 | 提交情况 | AI批改]\n        {\n          name: '作业管理',\n          path: 'homework/publish'\n        }, {\n          name: '成绩管理',\n          path: 'grades/detail'\n        }, {\n          name: '课程资源',\n          path: 'resources/list'\n        }, {\n          name: '学生列表',\n          path: 'students/detail'\n        }, {\n          name: '请假审批',\n          path: 'leave/approval'\n        }]\n      }],\n      // 2. 资源中心菜单\n      resource: [{\n        name: '资源管理',\n        children: [{\n          name: '教室预约',\n          path: '/teacher/classroom'\n        }, {\n          name: '图书馆',\n          path: '/teacher/library'\n        }]\n      }],\n      // 3. 默认/教学首页菜单\n      teachingDefault: [{\n        name: '教学工作',\n        children: [{\n          name: '我的授课',\n          path: '/teacher/teachinghome'\n        }]\n      }]\n    };\n    var currentMenuGroups = computed(function () {\n      var path = route.path;\n\n      // A. 课程内 -> 优先级最高\n      if (inCourseContext.value) {\n        return menuConfig.courseSmart;\n      }\n\n      // B. 资源中心 (只有具体进入功能页才显示)\n      if (path.includes('/teacher/classroom') || path.includes('/teacher/library')) {\n        return menuConfig.resource;\n      }\n\n      // C. 默认显示教学\n      return menuConfig.teachingDefault;\n    });\n    var currentModuleTitle = computed(function () {\n      if (inCourseContext.value) return '智能教学';\n      if (route.path.includes('library') || route.path.includes('classroom')) return '资源管理';\n      return '教学管理';\n    });\n    var resolvePath = function resolvePath(path) {\n      if (!path.startsWith('/')) {\n        return \"/teacher/course/\".concat(courseId.value, \"/\").concat(path);\n      }\n      return path;\n    };\n    var isItemActive = function isItemActive(item) {\n      var fullPath = resolvePath(item.path);\n      // 核心逻辑：高亮判断\n      // 比如点击\"作业管理\"，实际路径是 .../homework/publish\n      // 此时如果用户切换 Tab 到了 .../homework/submissions，侧边栏\"作业管理\"依然要高亮\n      // 所以只要路径包含 item.path 的前缀部分(如 'homework')即可\n\n      // 提取路径的前缀部分 (例如 'homework/publish' -> 'homework')\n      var itemPrefix = item.path.split('/')[0];\n      if (route.path.startsWith(fullPath)) return true;\n\n      // 如果处于课程上下文中，且当前路由包含该菜单项的功能前缀，也视为激活\n      if (inCourseContext.value && route.path.includes(\"/\".concat(itemPrefix, \"/\"))) {\n        return true;\n      }\n      return false;\n    };\n    return {\n      currentMenuGroups: currentMenuGroups,\n      currentModuleTitle: currentModuleTitle,\n      resolvePath: resolvePath,\n      isItemActive: isItemActive\n    };\n  }\n};","map":{"version":3,"names":["computed","ref","watch","useRoute","name","setup","route","courseId","params","newId","value","immediate","inCourseContext","menuConfig","courseSmart","children","path","resource","teachingDefault","currentMenuGroups","includes","currentModuleTitle","resolvePath","startsWith","concat","isItemActive","item","fullPath","itemPrefix","split"],"sources":["D:\\883vue1\\fronted-merge_fronted\\883Fronted_Final\\src\\components\\layout\\siderbars\\TeaSidebar.vue"],"sourcesContent":["<template>\n  <aside class=\"app-sidebar\">\n    <div class=\"sidebar-header\">\n      <span class=\"sidebar-title\">{{ currentModuleTitle }}</span>\n    </div>\n\n    <nav class=\"sidebar-nav\">\n      <div v-for=\"group in currentMenuGroups\" :key=\"group.name\" class=\"menu-group\">\n        <div class=\"group-title\">\n          {{ group.name }}\n        </div>\n        <router-link v-for=\"item in group.children\" :key=\"item.path\" :to=\"resolvePath(item.path)\" class=\"menu-item\"\n          :class=\"{ active: isItemActive(item) }\">\n          <span class=\"item-text\">{{ item.name }}</span>\n        </router-link>\n      </div>\n    </nav>\n  </aside>\n</template>\n\n<script>\nimport { computed, ref, watch } from 'vue'\nimport { useRoute } from 'vue-router'\n\nexport default {\n  name: 'TeaSidebar',\n  setup() {\n    const route = useRoute()\n    const courseId = ref('')\n\n    watch(() => route.params.courseId, (newId) => {\n      courseId.value = newId || ''\n    }, { immediate: true })\n\n    const inCourseContext = computed(() => !!courseId.value)\n\n    // 菜单配置\n    const menuConfig = {\n      // 1. 课程内菜单 (智能教学) - 已按要求合并功能\n      courseSmart: [\n        {\n          name: '教学中心',\n          children: [\n            { name: '课程概览', path: 'overview' },\n            { name: '知识图谱', path: 'learning-path' },\n\n            // === 合并后的考勤管理 ===\n            // 点击跳转到 launch，顶部 Tab 会显示 [发起签到 | 考勤记录 | 修改考勤]\n            { name: '考勤管理', path: 'attendance/launch' },\n\n            // === 合并后的作业管理 ===\n            // 点击跳转到 publish，顶部 Tab 会显示 [发布作业 | 提交情况 | AI批改]\n            { name: '作业管理', path: 'homework/publish' },\n\n            { name: '成绩管理', path: 'grades/detail' },\n            { name: '课程资源', path: 'resources/list' },\n            { name: '学生列表', path: 'students/detail' },\n            { name: '请假审批', path: 'leave/approval' }\n          ]\n        }\n      ],\n      // 2. 资源中心菜单\n      resource: [\n        {\n          name: '资源管理',\n          children: [\n            { name: '教室预约', path: '/teacher/classroom' },\n            { name: '图书馆', path: '/teacher/library' }\n          ]\n        }\n      ],\n      // 3. 默认/教学首页菜单\n      teachingDefault: [\n        {\n          name: '教学工作',\n          children: [\n            { name: '我的授课', path: '/teacher/teachinghome' }\n          ]\n        }\n      ]\n    }\n\n    const currentMenuGroups = computed(() => {\n      const path = route.path\n\n      // A. 课程内 -> 优先级最高\n      if (inCourseContext.value) {\n        return menuConfig.courseSmart\n      }\n\n      // B. 资源中心 (只有具体进入功能页才显示)\n      if (path.includes('/teacher/classroom') || path.includes('/teacher/library')) {\n        return menuConfig.resource\n      }\n\n      // C. 默认显示教学\n      return menuConfig.teachingDefault\n    })\n\n    const currentModuleTitle = computed(() => {\n      if (inCourseContext.value) return '智能教学'\n      if (route.path.includes('library') || route.path.includes('classroom')) return '资源管理'\n      return '教学管理'\n    })\n\n    const resolvePath = (path) => {\n      if (!path.startsWith('/')) {\n        return `/teacher/course/${courseId.value}/${path}`\n      }\n      return path\n    }\n\n    const isItemActive = (item) => {\n      const fullPath = resolvePath(item.path)\n      // 核心逻辑：高亮判断\n      // 比如点击\"作业管理\"，实际路径是 .../homework/publish\n      // 此时如果用户切换 Tab 到了 .../homework/submissions，侧边栏\"作业管理\"依然要高亮\n      // 所以只要路径包含 item.path 的前缀部分(如 'homework')即可\n\n      // 提取路径的前缀部分 (例如 'homework/publish' -> 'homework')\n      const itemPrefix = item.path.split('/')[0]\n\n      if (route.path.startsWith(fullPath)) return true\n\n      // 如果处于课程上下文中，且当前路由包含该菜单项的功能前缀，也视为激活\n      if (inCourseContext.value && route.path.includes(`/${itemPrefix}/`)) {\n        return true\n      }\n\n      return false\n    }\n\n    return {\n      currentMenuGroups,\n      currentModuleTitle,\n      resolvePath,\n      isItemActive\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* === 完全复用学生端的淡蓝色样式 === */\n.app-sidebar {\n  inline-size: 240px;\n  background-color: #d6e2f5;\n  /* 淡蓝色背景 */\n  block-size: calc(100vh - 60px);\n  position: fixed;\n  inset-block-start: 60px;\n  inset-inline-start: 0;\n  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1);\n  z-index: 99;\n  overflow-y: auto;\n}\n\n.sidebar-header {\n  block-size: 50px;\n  display: flex;\n  align-items: center;\n  padding: 0 15px;\n  border-block-end: 1px solid rgba(0, 0, 0, 0.1);\n}\n\n.sidebar-title {\n  font-weight: bold;\n  color: #2A5CAA;\n  /* 深蓝色文字 */\n  font-size: 16px;\n}\n\n.sidebar-nav {\n  padding: 15px 0;\n}\n\n.menu-group {\n  margin-block-end: 20px;\n}\n\n.group-title {\n  padding: 0 15px 8px 15px;\n  font-size: 12px;\n  color: #666;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n  font-weight: 600;\n}\n\n.menu-item {\n  display: flex;\n  align-items: center;\n  padding: 12px 15px;\n  text-decoration: none;\n  color: #333;\n  transition: all 0.3s;\n  border-inline-start: 3px solid transparent;\n  gap: 10px;\n  margin: 2px 0;\n}\n\n.menu-item:hover {\n  background-color: rgba(194, 212, 240, 0.5);\n  color: #2A5CAA;\n}\n\n.menu-item.active {\n  background-color: #c2d4f0;\n  /* 激活状态背景更深一点的蓝 */\n  color: #2A5CAA;\n  border-inline-start-color: #2A5CAA;\n}\n\n.item-text {\n  white-space: nowrap;\n  overflow: hidden;\n  font-weight: 500;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}