{"ast":null,"code":"import \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport { computed, ref, watch } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nexport default {\n  name: 'TeaSidebar',\n  setup: function setup() {\n    var route = useRoute();\n    var router = useRouter();\n    var courseId = ref('');\n    watch(function () {\n      return route.params.courseId;\n    }, function (newId) {\n      courseId.value = newId || '';\n    }, {\n      immediate: true\n    });\n    var inCourseContext = computed(function () {\n      return !!courseId.value;\n    });\n\n    // === 配置菜单结构 (扁平化，大功能在左侧) ===\n    var menuConfig = {\n      // 1. 课程内菜单 (左侧只显示大模块)\n      courseSmart: [{\n        name: '教学管理',\n        items: [\n        // path 指向该模块的默认页面\n        {\n          label: '考勤管理',\n          path: 'attendance/launch',\n          iconClass: 'icon-green',\n          iconName: 'bi bi-check-square'\n        }, {\n          label: '作业管理',\n          path: 'homework/publish',\n          iconClass: 'icon-blue',\n          iconName: 'bi bi-pencil-square'\n        }, {\n          label: '成绩管理',\n          path: 'grades/detail',\n          iconClass: 'icon-purple',\n          iconName: 'bi bi-bar-chart'\n        }, {\n          label: '课程资源',\n          path: 'resources/list',\n          iconClass: 'icon-teal',\n          iconName: 'bi bi-folder'\n        }, {\n          label: '学生管理',\n          path: 'students/detail',\n          iconClass: 'icon-orange',\n          iconName: 'bi bi-people'\n        }, {\n          label: '请假管理',\n          path: 'leave',\n          iconClass: 'icon-red',\n          iconName: 'bi bi-file-text'\n        } // 假设你有这个\n        ]\n      }, {\n        name: '其他',\n        items: [{\n          label: '课程概览',\n          path: 'overview',\n          iconClass: 'icon-gray',\n          iconName: 'bi bi-house'\n        }, {\n          label: '知识图谱',\n          path: 'learning-path',\n          iconClass: 'icon-indigo',\n          iconName: 'bi bi-diagram-3'\n        }]\n      }],\n      // 2. 课程外菜单 (保持原样)\n      \"default\": [{\n        name: '工作台',\n        items: [{\n          label: '我的课程',\n          path: '/teacher/teachinghome',\n          iconClass: 'icon-blue',\n          iconName: 'bi bi-grid'\n        }, {\n          label: '请假审批',\n          path: '/teacher/leave',\n          iconClass: 'icon-red',\n          iconName: 'bi bi-calendar-check'\n        }]\n      }, {\n        name: '公共资源',\n        items: [{\n          label: '教室预约',\n          path: '/teacher/classroom',\n          iconClass: 'icon-teal',\n          iconName: 'bi bi-building'\n        }, {\n          label: '图书馆',\n          path: '/teacher/library',\n          iconClass: 'icon-orange',\n          iconName: 'bi bi-book'\n        }]\n      }]\n    };\n    var currentMenuGroups = computed(function () {\n      if (inCourseContext.value) return menuConfig.courseSmart;\n      return menuConfig[\"default\"];\n    });\n    var currentModuleTitle = computed(function () {\n      if (inCourseContext.value) return '智能教学';\n      return '教师中心';\n    });\n    var resolvePath = function resolvePath(path) {\n      if (!path.startsWith('/')) {\n        return \"/teacher/course/\".concat(courseId.value, \"/\").concat(path);\n      }\n      return path;\n    };\n\n    // 高亮逻辑：只要路由包含这个模块的关键字，就高亮\n    var isItemActive = function isItemActive(item) {\n      var fullPath = resolvePath(item.path);\n      // 获取当前路径的大模块前缀 (例如 /teacher/course/101/attendance)\n      var currentPath = route.path;\n\n      // 简单的包含匹配，如果当前路径里有 attendance，且菜单也是 attendance，就高亮\n      // 我们取 item.path 的第一段作为 key\n      var key = item.path.split('/')[0];\n      if (inCourseContext.value && !item.path.startsWith('/')) {\n        return currentPath.includes(\"/\".concat(key));\n      }\n      return currentPath === fullPath;\n    };\n    return {\n      currentMenuGroups: currentMenuGroups,\n      currentModuleTitle: currentModuleTitle,\n      resolvePath: resolvePath,\n      isItemActive: isItemActive\n    };\n  }\n};","map":{"version":3,"names":["computed","ref","watch","useRoute","useRouter","name","setup","route","router","courseId","params","newId","value","immediate","inCourseContext","menuConfig","courseSmart","items","label","path","iconClass","iconName","currentMenuGroups","currentModuleTitle","resolvePath","startsWith","concat","isItemActive","item","fullPath","currentPath","key","split","includes"],"sources":["D:\\vvvvvvvvvscode_workspace\\fronted\\883Fronted_Final\\src\\components\\layout\\siderbars\\TeaSidebar.vue"],"sourcesContent":["<template>\r\n  <aside class=\"app-sidebar\">\r\n    <div class=\"sidebar-header\">\r\n      <span class=\"sidebar-title\">{{ currentModuleTitle }}</span>\r\n    </div>\r\n\r\n    <nav class=\"sidebar-nav\">\r\n      <div v-for=\"group in currentMenuGroups\" :key=\"group.name\" class=\"menu-group\">\r\n        <div class=\"group-title\" v-if=\"group.name !== '首页'\">\r\n          {{ group.name }}\r\n        </div>\r\n\r\n        <router-link v-for=\"item in group.items\" :key=\"item.path\" :to=\"resolvePath(item.path)\" class=\"menu-item\"\r\n          :class=\"{ active: isItemActive(item) }\">\r\n          <span class=\"icon-box\" :class=\"item.iconClass\">\r\n            <i :class=\"item.iconName\"></i>\r\n          </span>\r\n          <span class=\"item-text\">{{ item.label }}</span>\r\n        </router-link>\r\n      </div>\r\n    </nav>\r\n  </aside>\r\n</template>\r\n\r\n<script>\r\nimport { computed, ref, watch } from 'vue'\r\nimport { useRoute, useRouter } from 'vue-router'\r\n\r\nexport default {\r\n  name: 'TeaSidebar',\r\n  setup() {\r\n    const route = useRoute()\r\n    const router = useRouter()\r\n    const courseId = ref('')\r\n\r\n    watch(() => route.params.courseId, (newId) => {\r\n      courseId.value = newId || ''\r\n    }, { immediate: true })\r\n\r\n    const inCourseContext = computed(() => !!courseId.value)\r\n\r\n    // === 配置菜单结构 (扁平化，大功能在左侧) ===\r\n    const menuConfig = {\r\n      // 1. 课程内菜单 (左侧只显示大模块)\r\n      courseSmart: [\r\n        {\r\n          name: '教学管理',\r\n          items: [\r\n            // path 指向该模块的默认页面\r\n            { label: '考勤管理', path: 'attendance/launch', iconClass: 'icon-green', iconName: 'bi bi-check-square' },\r\n            { label: '作业管理', path: 'homework/publish', iconClass: 'icon-blue', iconName: 'bi bi-pencil-square' },\r\n            { label: '成绩管理', path: 'grades/detail', iconClass: 'icon-purple', iconName: 'bi bi-bar-chart' },\r\n            { label: '课程资源', path: 'resources/list', iconClass: 'icon-teal', iconName: 'bi bi-folder' },\r\n            { label: '学生管理', path: 'students/detail', iconClass: 'icon-orange', iconName: 'bi bi-people' },\r\n            { label: '请假管理', path: 'leave', iconClass: 'icon-red', iconName: 'bi bi-file-text' } // 假设你有这个\r\n          ]\r\n        },\r\n        {\r\n          name: '其他',\r\n          items: [\r\n            { label: '课程概览', path: 'overview', iconClass: 'icon-gray', iconName: 'bi bi-house' },\r\n            { label: '知识图谱', path: 'learning-path', iconClass: 'icon-indigo', iconName: 'bi bi-diagram-3' },\r\n          ]\r\n        }\r\n      ],\r\n      // 2. 课程外菜单 (保持原样)\r\n      default: [\r\n        {\r\n          name: '工作台',\r\n          items: [\r\n            { label: '我的课程', path: '/teacher/teachinghome', iconClass: 'icon-blue', iconName: 'bi bi-grid' },\r\n            { label: '请假审批', path: '/teacher/leave', iconClass: 'icon-red', iconName: 'bi bi-calendar-check' },\r\n          ]\r\n        },\r\n        {\r\n          name: '公共资源',\r\n          items: [\r\n            { label: '教室预约', path: '/teacher/classroom', iconClass: 'icon-teal', iconName: 'bi bi-building' },\r\n            { label: '图书馆', path: '/teacher/library', iconClass: 'icon-orange', iconName: 'bi bi-book' }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n\r\n    const currentMenuGroups = computed(() => {\r\n      if (inCourseContext.value) return menuConfig.courseSmart\r\n      return menuConfig.default\r\n    })\r\n\r\n    const currentModuleTitle = computed(() => {\r\n      if (inCourseContext.value) return '智能教学'\r\n      return '教师中心'\r\n    })\r\n\r\n    const resolvePath = (path) => {\r\n      if (!path.startsWith('/')) {\r\n        return `/teacher/course/${courseId.value}/${path}`\r\n      }\r\n      return path\r\n    }\r\n\r\n    // 高亮逻辑：只要路由包含这个模块的关键字，就高亮\r\n    const isItemActive = (item) => {\r\n      const fullPath = resolvePath(item.path)\r\n      // 获取当前路径的大模块前缀 (例如 /teacher/course/101/attendance)\r\n      const currentPath = route.path\r\n\r\n      // 简单的包含匹配，如果当前路径里有 attendance，且菜单也是 attendance，就高亮\r\n      // 我们取 item.path 的第一段作为 key\r\n      const key = item.path.split('/')[0]\r\n\r\n      if (inCourseContext.value && !item.path.startsWith('/')) {\r\n        return currentPath.includes(`/${key}`)\r\n      }\r\n      return currentPath === fullPath\r\n    }\r\n\r\n    return {\r\n      currentMenuGroups,\r\n      currentModuleTitle,\r\n      resolvePath,\r\n      isItemActive\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* 侧边栏整体 */\r\n.app-sidebar {\r\n  inline-size: 220px;\r\n  /* 稍微窄一点，更精致 */\r\n  background-color: #ffffff;\r\n  /* 改成白色背景，更像截图 */\r\n  block-size: calc(100vh - 60px);\r\n  position: fixed;\r\n  inset-block-start: 60px;\r\n  inset-inline-start: 0;\r\n  border-inline-end: 1px solid #e8e8e8;\r\n  z-index: 999;\r\n  overflow-y: auto;\r\n}\r\n\r\n.sidebar-header {\r\n  block-size: 60px;\r\n  display: flex;\r\n  align-items: center;\r\n  padding-inline-start: 24px;\r\n  border-block-end: 1px solid #f0f0f0;\r\n}\r\n\r\n.sidebar-title {\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: #2A5CAA;\r\n  /* 主色调 */\r\n}\r\n\r\n.sidebar-nav {\r\n  padding: 16px 0;\r\n}\r\n\r\n.group-title {\r\n  padding: 8px 24px;\r\n  font-size: 12px;\r\n  color: #999;\r\n  margin-block-start: 8px;\r\n}\r\n\r\n.menu-item {\r\n  display: flex;\r\n  align-items: center;\r\n  block-size: 50px;\r\n  padding: 0 24px;\r\n  text-decoration: none;\r\n  color: #333;\r\n  transition: all 0.2s;\r\n  border-inline-start: 4px solid transparent;\r\n  margin-block-end: 4px;\r\n}\r\n\r\n.menu-item:hover {\r\n  background-color: #f5f7fa;\r\n  color: #2A5CAA;\r\n}\r\n\r\n.menu-item.active {\r\n  background-color: #e6f7ff;\r\n  color: #2A5CAA;\r\n  border-inline-start-color: #2A5CAA;\r\n}\r\n\r\n.item-text {\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n}\r\n\r\n/* === 仿截图的彩色图标样式 === */\r\n.icon-box {\r\n  inline-size: 24px;\r\n  block-size: 24px;\r\n  border-radius: 4px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-inline-end: 12px;\r\n  color: white;\r\n  font-size: 14px;\r\n}\r\n\r\n/* 即使没有 boostrap icons, 这些背景色方块也很好看 */\r\n.icon-green {\r\n  background-color: #52c41a;\r\n}\r\n\r\n.icon-blue {\r\n  background-color: #1890ff;\r\n}\r\n\r\n.icon-purple {\r\n  background-color: #722ed1;\r\n}\r\n\r\n.icon-teal {\r\n  background-color: #13c2c2;\r\n}\r\n\r\n.icon-orange {\r\n  background-color: #fa8c16;\r\n}\r\n\r\n.icon-red {\r\n  background-color: #f5222d;\r\n}\r\n\r\n.icon-gray {\r\n  background-color: #8c8c8c;\r\n}\r\n\r\n.icon-indigo {\r\n  background-color: #2f54eb;\r\n}\r\n\r\n/* 如果没有引入 bootstrap icons，图标可能会不显示，但色块还在，视觉效果依然整洁 */\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}