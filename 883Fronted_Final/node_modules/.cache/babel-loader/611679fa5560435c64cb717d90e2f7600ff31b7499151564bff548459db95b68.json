{"ast":null,"code":"import { computed } from 'vue';\nimport { useRoute } from 'vue-router';\nexport default {\n  name: 'AppSidebar',\n  setup() {\n    const route = useRoute();\n\n    // 菜单配置（第二层级）- 根据PDF和接口文档重新设计\n    const menuConfig = {\n      teaching: [{\n        name: '教学管理',\n        children: [{\n          name: '考勤管理',\n          path: '/teaching/attendance'\n        }, {\n          name: '作业管理',\n          path: '/teaching/homework'\n        }, {\n          name: '成绩管理',\n          path: '/teaching/grades'\n        }, {\n          name: '课程资源',\n          path: '/teaching/resources'\n        }, {\n          name: '学生管理',\n          path: '/teaching/students'\n        }, {\n          name: '请假管理',\n          path: '/teaching/leave'\n        }]\n      }],\n      reservation: [{\n        name: '预约服务',\n        children: [{\n          name: '教室预约',\n          path: '/reservation/classroom'\n        }, {\n          name: '预约记录',\n          path: '/reservation/history'\n        }, {\n          name: '我的预约',\n          path: '/reservation/my-bookings'\n        }]\n      }, {\n        name: '资源管理',\n        children: [{\n          name: '教学楼管理',\n          path: '/reservation/management/buildings'\n        }, {\n          name: '教室信息',\n          path: '/reservation/management/classrooms'\n        }, {\n          name: '审批预约',\n          path: '/reservation/management/approve'\n        }]\n      }],\n      campus: [{\n        name: '图书馆',\n        children: [{\n          name: '图书查询',\n          path: '/campus/library/books'\n        }, {\n          name: '借阅记录',\n          path: '/campus/library/records'\n        }, {\n          name: '图书推荐',\n          path: '/campus/library/recommendations'\n        }, {\n          name: '借阅策略',\n          path: '/campus/library/policies'\n        }]\n      }, {\n        name: '校园服务',\n        children: [{\n          name: '校园动态',\n          path: '/campus/news'\n        }, {\n          name: '活动安排',\n          path: '/campus/activities'\n        }, {\n          name: '校园服务',\n          path: '/campus/services'\n        }]\n      }],\n      // 为 /tea-stu-classroom 添加菜单配置\n      classroom: [{\n        children: [{\n          name: '教室首页',\n          path: '/tea-stu-classroom'\n        }, {\n          name: '教室预约',\n          path: '/tea-stu-classroom/reservation'\n        }, {\n          name: '使用记录',\n          path: '/tea-stu-classroom/history'\n        }, {\n          name: '设备管理',\n          path: '/tea-stu-classroom/equipment'\n        }]\n      }],\n      // 图书馆相关页面\n      library: [{\n        name: '图书馆服务',\n        children: [{\n          name: '图书查询',\n          path: '/student-library'\n        }, {\n          name: '借阅记录',\n          path: '/student-library/records'\n        }, {\n          name: '热门图书',\n          path: '/student-library/popular'\n        }]\n      }],\n      // 管理员页面\n      admin: [{\n        name: '管理员功能',\n        children: [{\n          name: '教室管理',\n          path: '/admin-classroom'\n        }, {\n          name: '审批管理',\n          path: '/admin-approve'\n        }, {\n          name: '图书馆管理',\n          path: '/admin-library'\n        }]\n      }]\n    };\n\n    // 计算当前模块的菜单\n    const currentMenuGroups = computed(() => {\n      if (route.path.startsWith('/teaching')) {\n        return menuConfig.teaching;\n      } else if (route.path.startsWith('/reservation')) {\n        return menuConfig.reservation;\n      } else if (route.path.startsWith('/campus')) {\n        return menuConfig.campus;\n      } else if (route.path.startsWith('/tea-stu-classroom')) {\n        return menuConfig.classroom;\n      } else if (route.path.startsWith('/student-library')) {\n        return menuConfig.library;\n      } else if (route.path.startsWith('/admin-')) {\n        return menuConfig.admin;\n      }\n      return [];\n    });\n\n    // 计算当前模块标题\n    const currentModuleTitle = computed(() => {\n      if (route.path.startsWith('/teaching')) return '智能教学';\n      if (route.path.startsWith('/reservation')) return '资源预约';\n      if (route.path.startsWith('/campus')) return '校园生活';\n      if (route.path.startsWith('/tea-stu-classroom')) return '教室管理';\n      if (route.path.startsWith('/student-library')) return '图书馆';\n      if (route.path.startsWith('/admin-')) return '管理员';\n      return '功能菜单';\n    });\n\n    // 检查菜单项是否激活\n    const isItemActive = item => {\n      return route.path === item.path || route.path.startsWith(item.path + '/');\n    };\n    return {\n      currentMenuGroups,\n      currentModuleTitle,\n      isItemActive\n    };\n  }\n};","map":{"version":3,"names":["computed","useRoute","name","setup","route","menuConfig","teaching","children","path","reservation","campus","classroom","library","admin","currentMenuGroups","startsWith","currentModuleTitle","isItemActive","item"],"sources":["/Users/zhouzhou/Desktop/883Fronted/resource/src/components/AppSidebar.vue"],"sourcesContent":["<!-- components/layout/AppSidebar.vue -->\n<template>\n  <aside class=\"app-sidebar\">\n    <div class=\"sidebar-header\">\n      <span class=\"sidebar-title\">{{ currentModuleTitle }}</span>\n    </div>\n\n    <nav class=\"sidebar-nav\">\n      <div v-for=\"group in currentMenuGroups\" :key=\"group.name\" class=\"menu-group\">\n        <div class=\"group-title\">\n          {{ group.name }}\n        </div>\n        <router-link v-for=\"item in group.children\" :key=\"item.path\" :to=\"item.path\" class=\"menu-item\"\n          :class=\"{ active: isItemActive(item) }\">\n          <span class=\"item-icon\">{{ item.icon }}</span>\n          <span class=\"item-text\">{{ item.name }}</span>\n        </router-link>\n      </div>\n    </nav>\n  </aside>\n</template>\n\n<script>\nimport { computed } from 'vue'\nimport { useRoute } from 'vue-router'\n\nexport default {\n  name: 'AppSidebar',\n  setup() {\n    const route = useRoute()\n\n    // 菜单配置（第二层级）- 根据PDF和接口文档重新设计\n    const menuConfig = {\n      teaching: [\n        {\n          name: '教学管理',\n          children: [\n            { name: '考勤管理', path: '/teaching/attendance' },\n            { name: '作业管理', path: '/teaching/homework'},\n            { name: '成绩管理', path: '/teaching/grades' },\n            { name: '课程资源', path: '/teaching/resources' },\n            { name: '学生管理', path: '/teaching/students' },\n            { name: '请假管理', path: '/teaching/leave' }\n          ]\n        }\n      ],\n      reservation: [\n        {\n          name: '预约服务',\n          children: [\n            { name: '教室预约', path: '/reservation/classroom' },\n            { name: '预约记录', path: '/reservation/history' },\n            { name: '我的预约', path: '/reservation/my-bookings'}\n          ]\n        },\n        {\n          name: '资源管理',\n          children: [\n            { name: '教学楼管理', path: '/reservation/management/buildings' },\n            { name: '教室信息', path: '/reservation/management/classrooms'},\n            { name: '审批预约', path: '/reservation/management/approve'}\n          ]\n        }\n      ],\n      campus: [\n        {\n          name: '图书馆',\n          children: [\n            { name: '图书查询', path: '/campus/library/books' },\n            { name: '借阅记录', path: '/campus/library/records' },\n            { name: '图书推荐', path: '/campus/library/recommendations'},\n            { name: '借阅策略', path: '/campus/library/policies' }\n          ]\n        },\n        {\n          name: '校园服务',\n          children: [\n            { name: '校园动态', path: '/campus/news'},\n            { name: '活动安排', path: '/campus/activities' },\n            { name: '校园服务', path: '/campus/services' }\n          ]\n        }\n      ],\n      // 为 /tea-stu-classroom 添加菜单配置\n      classroom: [\n        {\n          children: [\n            { name: '教室首页', path: '/tea-stu-classroom' },\n            { name: '教室预约', path: '/tea-stu-classroom/reservation' },\n            { name: '使用记录', path: '/tea-stu-classroom/history' },\n            { name: '设备管理', path: '/tea-stu-classroom/equipment' }\n          ]\n        }\n      ],\n      // 图书馆相关页面\n      library: [\n        {\n          name: '图书馆服务',\n          children: [\n            { name: '图书查询', path: '/student-library' },\n            { name: '借阅记录', path: '/student-library/records' },\n            { name: '热门图书', path: '/student-library/popular' }\n          ]\n        }\n      ],\n      // 管理员页面\n      admin: [\n        {\n          name: '管理员功能',\n          children: [\n            { name: '教室管理', path: '/admin-classroom' },\n            { name: '审批管理', path: '/admin-approve' },\n            { name: '图书馆管理', path: '/admin-library' }\n          ]\n        }\n      ]\n    }\n\n    // 计算当前模块的菜单\n    const currentMenuGroups = computed(() => {\n      if (route.path.startsWith('/teaching')) {\n        return menuConfig.teaching\n      } else if (route.path.startsWith('/reservation')) {\n        return menuConfig.reservation\n      } else if (route.path.startsWith('/campus')) {\n        return menuConfig.campus\n      } else if (route.path.startsWith('/tea-stu-classroom')) {\n        return menuConfig.classroom\n      } else if (route.path.startsWith('/student-library')) {\n        return menuConfig.library\n      } else if (route.path.startsWith('/admin-')) {\n        return menuConfig.admin\n      }\n      return []\n    })\n\n    // 计算当前模块标题\n    const currentModuleTitle = computed(() => {\n      if (route.path.startsWith('/teaching')) return '智能教学'\n      if (route.path.startsWith('/reservation')) return '资源预约'\n      if (route.path.startsWith('/campus')) return '校园生活'\n      if (route.path.startsWith('/tea-stu-classroom')) return '教室管理'\n      if (route.path.startsWith('/student-library')) return '图书馆'\n      if (route.path.startsWith('/admin-')) return '管理员'\n      return '功能菜单'\n    })\n\n    // 检查菜单项是否激活\n    const isItemActive = (item) => {\n      return route.path === item.path || route.path.startsWith(item.path + '/')\n    }\n\n    return {\n      currentMenuGroups,\n      currentModuleTitle,\n      isItemActive\n    }\n  }\n}\n</script>\n\n<style scoped>\n.app-sidebar {\n  width: 240px;\n  background-color: var(--sidebar-bg, #d6e2f5);\n  height: calc(100vh - 60px);\n  position: fixed;\n  top: 80px;\n  left: 0;\n  box-shadow: var(--sidebar-shadow, 2px 0 8px rgba(0, 0, 0, 0.1));\n  z-index: 999;\n  overflow-y: auto;\n}\n\n.sidebar-header {\n  height: 50px;\n  display: flex;\n  align-items: center;\n  padding: 0 15px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n}\n\n.sidebar-title {\n  font-weight: bold;\n  color: var(--primary-color, #2A5CAA);\n  font-size: 16px;\n}\n\n.sidebar-nav {\n  padding: 15px 0;\n}\n\n.menu-group {\n  margin-bottom: 20px;\n}\n\n.group-title {\n  padding: 0 15px 8px 15px;\n  font-size: 12px;\n  color: var(--text-light-gray, #666666);\n  text-transform: uppercase;\n  letter-spacing: 1px;\n  font-weight: 600;\n}\n\n.menu-item {\n  display: flex;\n  align-items: center;\n  padding: 12px 15px;\n  text-decoration: none;\n  color: var(--text-gray, #333333);\n  transition: all 0.3s;\n  border-left: 3px solid transparent;\n  gap: 10px;\n  margin: 2px 0;\n}\n\n.menu-item:hover {\n  background-color: rgba(194, 212, 240, 0.5);\n  color: var(--primary-color, #2A5CAA);\n}\n\n.menu-item.active {\n  background-color: var(--sidebar-active, #c2d4f0);\n  color: var(--primary-color, #2A5CAA);\n  border-left-color: var(--primary-color, #2A5CAA);\n}\n\n.item-icon {\n  font-size: 16px;\n  min-width: 20px;\n  text-align: center;\n}\n\n.item-text {\n  white-space: nowrap;\n  overflow: hidden;\n  font-weight: 500;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}