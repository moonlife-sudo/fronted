{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createVNode as _createVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  id: \"app\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_AdminHeader = _resolveComponent(\"AdminHeader\");\n  const _component_TeaHeader = _resolveComponent(\"TeaHeader\");\n  const _component_StuHeader = _resolveComponent(\"StuHeader\");\n  const _component_AdminSidebar = _resolveComponent(\"AdminSidebar\");\n  const _component_TeaSidebar = _resolveComponent(\"TeaSidebar\");\n  const _component_StuSidebar = _resolveComponent(\"StuSidebar\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 动态显示对应角色的Header \"), $setup.userRole === 'admin' ? (_openBlock(), _createBlock(_component_AdminHeader, {\n    key: 0\n  })) : $setup.userRole === 'teacher' ? (_openBlock(), _createBlock(_component_TeaHeader, {\n    key: 1\n  })) : (_openBlock(), _createBlock(_component_StuHeader, {\n    key: 2\n  })), _createCommentVNode(\" 动态显示对应角色的Sidebar \"), $setup.showSidebar && $setup.userRole === 'admin' ? (_openBlock(), _createBlock(_component_AdminSidebar, {\n    key: 3\n  })) : $setup.showSidebar && $setup.userRole === 'teacher' ? (_openBlock(), _createBlock(_component_TeaSidebar, {\n    key: 4\n  })) : $setup.showSidebar ? (_openBlock(), _createBlock(_component_StuSidebar, {\n    key: 5\n  })) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"main\", {\n    class: _normalizeClass([\"main-content\", {\n      'with-sidebar': $setup.showSidebar\n    }])\n  }, [_createVNode(_component_router_view)], 2 /* CLASS */)]);\n}","map":{"version":3,"names":["id","_createElementBlock","_hoisted_1","_createCommentVNode","$setup","userRole","_createBlock","_component_AdminHeader","key","_component_TeaHeader","_component_StuHeader","showSidebar","_component_AdminSidebar","_component_TeaSidebar","_component_StuSidebar","_createElementVNode","class","_normalizeClass","_createVNode","_component_router_view"],"sources":["/Users/zhouzhou/Desktop/883Fronted/Resource-Campus/src/App.vue"],"sourcesContent":["<!-- src/App.vue -->\n<template>\n  <div id=\"app\">\n    <!-- 动态显示对应角色的Header -->\n    <AdminHeader v-if=\"userRole === 'admin'\" />\n    <TeaHeader v-else-if=\"userRole === 'teacher'\" />\n    <StuHeader v-else />\n    \n    <!-- 动态显示对应角色的Sidebar -->\n    <AdminSidebar v-if=\"showSidebar && userRole === 'admin'\" />\n    <TeaSidebar v-else-if=\"showSidebar && userRole === 'teacher'\" />\n    <StuSidebar v-else-if=\"showSidebar\" />\n    \n    <main class=\"main-content\" :class=\"{ 'with-sidebar': showSidebar }\">\n      <router-view />\n    </main>\n  </div>\n</template>\n\n<script>\nimport { computed } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { useStore } from 'vuex'\n\n// 直接导入各个角色的Header和Sidebar组件\nimport AdminHeader from '@/components/headers/AdminHeader.vue'\nimport TeaHeader from '@/components/headers/TeaHeader.vue'\nimport StuHeader from '@/components/headers/StuHeader.vue'\n\nimport AdminSidebar from '@/components/sidebars/AdminSidebar.vue'\nimport TeaSidebar from '@/components/sidebars/TeaSidebar.vue'\nimport StuSidebar from '@/components/sidebars/StuSidebar.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    AdminHeader,\n    TeaHeader,\n    StuHeader,\n    AdminSidebar,\n    TeaSidebar,\n    StuSidebar\n  },\n  setup() {\n    const route = useRoute()\n    const store = useStore()\n    \n    const userRole = computed(() => {\n      return store.getters.userRole || 'student' // 默认学生角色\n    })\n    \n    const showSidebar = computed(() => {\n      const sidebarRoutes = [\n        // 学生路由\n        '/student/library',\n        '/student/classroom',\n        '/student/dorm',\n        // 教师路由  \n        '/teacher/library',\n        '/teacher/classroom',\n        // 管理员路由\n        '/admin/dorm',\n        '/admin/approve',\n        '/admin/classroom',\n        '/admin/library',\n      ]\n      return sidebarRoutes.some(path => route.path.startsWith(path))\n    })\n    \n    return {\n      userRole,\n      showSidebar\n    }\n  }\n}\n</script>\n\n<style>\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n#app {\n  min-height: 100vh;\n  position: relative;\n  background: transparent;\n}\n\n.main-content {\n  margin-top: -20px;\n  padding: 20px;\n  background: #f5f5f5;\n  min-height: calc(100vh - 60px);\n  transition: margin-left 0.3s ease;\n  background-clip: content-box;\n  background-origin: content-box;\n}\n\n.main-content.with-sidebar {\n  margin-left: 240px;\n}\n\n.main-content::before {\n  content: '';\n  position: absolute;\n  top: 50px; \n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: #f5f5f5;\n  z-index: -1;\n}\n\n.main-content.with-sidebar::before {\n  left: 240px;\n}\n</style>"],"mappings":";;EAEOA,EAAE,EAAC;AAAK;;;;;;;;;uBAAbC,mBAAA,CAcM,OAdNC,UAcM,GAbJC,mBAAA,qBAAwB,EACLC,MAAA,CAAAC,QAAQ,gB,cAA3BC,YAAA,CAA2CC,sBAAA;IAAAC,GAAA;EAAA,MACrBJ,MAAA,CAAAC,QAAQ,kB,cAA9BC,YAAA,CAAgDG,oBAAA;IAAAD,GAAA;EAAA,O,cAChDF,YAAA,CAAoBI,oBAAA;IAAAF,GAAA;EAAA,KAEpBL,mBAAA,sBAAyB,EACLC,MAAA,CAAAO,WAAW,IAAIP,MAAA,CAAAC,QAAQ,gB,cAA3CC,YAAA,CAA2DM,uBAAA;IAAAJ,GAAA;EAAA,MACpCJ,MAAA,CAAAO,WAAW,IAAIP,MAAA,CAAAC,QAAQ,kB,cAA9CC,YAAA,CAAgEO,qBAAA;IAAAL,GAAA;EAAA,MACzCJ,MAAA,CAAAO,WAAW,I,cAAlCL,YAAA,CAAsCQ,qBAAA;IAAAN,GAAA;EAAA,M,mCAEtCO,mBAAA,CAEO;IAFDC,KAAK,EAAAC,eAAA,EAAC,cAAc;MAAA,gBAA2Bb,MAAA,CAAAO;IAAW;MAC9DO,YAAA,CAAeC,sBAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}