{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createVNode as _createVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock } from \"vue\";\nvar _hoisted_1 = {\n  id: \"app\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_AdminHeader = _resolveComponent(\"AdminHeader\");\n  var _component_TeaHeader = _resolveComponent(\"TeaHeader\");\n  var _component_StuHeader = _resolveComponent(\"StuHeader\");\n  var _component_AdminSidebar = _resolveComponent(\"AdminSidebar\");\n  var _component_TeaSidebar = _resolveComponent(\"TeaSidebar\");\n  var _component_StuSidebar = _resolveComponent(\"StuSidebar\");\n  var _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 根据路由动态显示对应角色的Header \"), $setup.currentRole === 'admin' ? (_openBlock(), _createBlock(_component_AdminHeader, {\n    key: 0\n  })) : $setup.currentRole === 'teacher' ? (_openBlock(), _createBlock(_component_TeaHeader, {\n    key: 1\n  })) : (_openBlock(), _createBlock(_component_StuHeader, {\n    key: 2\n  })), _createCommentVNode(\" 根据路由动态显示对应角色的Sidebar \"), $setup.showSidebar && $setup.currentRole === 'admin' ? (_openBlock(), _createBlock(_component_AdminSidebar, {\n    key: 3\n  })) : $setup.showSidebar && $setup.currentRole === 'teacher' ? (_openBlock(), _createBlock(_component_TeaSidebar, {\n    key: 4\n  })) : $setup.showSidebar ? (_openBlock(), _createBlock(_component_StuSidebar, {\n    key: 5\n  })) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"main\", {\n    \"class\": _normalizeClass([\"main-content\", {\n      'with-sidebar': $setup.showSidebar\n    }])\n  }, [_createVNode(_component_router_view)], 2 /* CLASS */)]);\n}","map":{"version":3,"names":["id","_createElementBlock","_hoisted_1","_createCommentVNode","$setup","currentRole","_createBlock","_component_AdminHeader","key","_component_TeaHeader","_component_StuHeader","showSidebar","_component_AdminSidebar","_component_TeaSidebar","_component_StuSidebar","_createElementVNode","_normalizeClass","_createVNode","_component_router_view"],"sources":["D:\\vvvvvvvvvscode_workspace\\fronted\\883Fronted_Final\\src\\App.vue"],"sourcesContent":["<!-- src/App.vue -->\r\n<template>\r\n  <div id=\"app\">\r\n    <!-- 根据路由动态显示对应角色的Header -->\r\n    <AdminHeader v-if=\"currentRole === 'admin'\" />\r\n    <TeaHeader v-else-if=\"currentRole === 'teacher'\" />\r\n    <StuHeader v-else />\r\n    \r\n    <!-- 根据路由动态显示对应角色的Sidebar -->\r\n    <AdminSidebar v-if=\"showSidebar && currentRole === 'admin'\" />\r\n    <TeaSidebar v-else-if=\"showSidebar && currentRole === 'teacher'\" />\r\n    <StuSidebar v-else-if=\"showSidebar\" />\r\n    \r\n    <main class=\"main-content\" :class=\"{ 'with-sidebar': showSidebar }\">\r\n      <router-view />\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\n\r\n// 导入各个角色的Header和Sidebar组件\r\nimport AdminHeader from './components/layout/headers/AdminHeader.vue'\r\nimport TeaHeader from './components/layout/headers/TeaHeader.vue'\r\nimport StuHeader from './components/layout/headers/StuHeader.vue'\r\n\r\nimport AdminSidebar from './components/layout/siderbars/AdminSidebar.vue'\r\nimport TeaSidebar from './components/layout/siderbars/TeaSidebar.vue'\r\nimport StuSidebar from './components/layout/siderbars/StuSidebar.vue'\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    AdminHeader,\r\n    TeaHeader,\r\n    StuHeader,\r\n    AdminSidebar,\r\n    TeaSidebar,\r\n    StuSidebar\r\n  },\r\n  setup() {\r\n    const route = useRoute()\r\n    \r\n    // 根据当前路由路径自动判断角色\r\n    const currentRole = computed(() => {\r\n      const path = route.path\r\n      \r\n      if (path.startsWith('/admin')) {\r\n        return 'admin'\r\n      } else if (path.startsWith('/teacher')) {\r\n        return 'teacher'\r\n      } else {\r\n        return 'student'\r\n      }\r\n    })\r\n    \r\n    // 根据路由判断是否显示侧边栏\r\n    const showSidebar = computed(() => {\r\n      const sidebarRoutes = [\r\n        // 学生路由\r\n        '/student/attendance',\r\n        '/student/grade',\r\n        '/student/classresource',\r\n        '/student/homework',\r\n        '/student/homeworkdetail',\r\n        '/student/leave',\r\n        '/student/library',\r\n        '/student/classroom',\r\n        '/student/studorm',\r\n        '/student/forum',\r\n        // 教师路由  \r\n        '/teacher/students',\r\n        '/teacher/resources', \r\n        '/teacher/attendance',\r\n        '/teacher/grades',\r\n        '/teacher/homework',\r\n        '/teacher/leave',\r\n        '/teacher/library',\r\n        '/teacher/classroom',\r\n        // 管理员路由\r\n        '/admin/dorm',\r\n        '/admin/dormassign',\r\n        '/admin/approve',\r\n        '/admin/classroom',\r\n        '/admin/library'\r\n      ]\r\n      return sidebarRoutes.some(path => route.path.startsWith(path))\r\n    })\r\n    \r\n    return {\r\n      currentRole,\r\n      showSidebar\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\n#app {\r\n  min-height: 100vh;\r\n  position: relative;\r\n  background: transparent;\r\n}\r\n\r\n.main-content {\r\n  margin-top: -20px;\r\n  padding: 20px;\r\n  background: #f5f5f5;\r\n  min-height: calc(100vh - 60px);\r\n  transition: margin-left 0.3s ease;\r\n  background-clip: content-box;\r\n  background-origin: content-box;\r\n}\r\n\r\n.main-content.with-sidebar {\r\n  margin-left: 240px;\r\n}\r\n\r\n.main-content::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 50px; \r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: #f5f5f5;\r\n  z-index: -1;\r\n}\r\n\r\n.main-content.with-sidebar::before {\r\n  left: 240px;\r\n}\r\n</style>"],"mappings":";;EAEOA,EAAE,EAAC;AAAK;;;;;;;;;uBAAbC,mBAAA,CAcM,OAdNC,UAcM,GAbJC,mBAAA,yBAA4B,EACTC,MAAA,CAAAC,WAAW,gB,cAA9BC,YAAA,CAA8CC,sBAAA;IAAAC,GAAA;EAAA,MACxBJ,MAAA,CAAAC,WAAW,kB,cAAjCC,YAAA,CAAmDG,oBAAA;IAAAD,GAAA;EAAA,O,cACnDF,YAAA,CAAoBI,oBAAA;IAAAF,GAAA;EAAA,KAEpBL,mBAAA,0BAA6B,EACTC,MAAA,CAAAO,WAAW,IAAIP,MAAA,CAAAC,WAAW,gB,cAA9CC,YAAA,CAA8DM,uBAAA;IAAAJ,GAAA;EAAA,MACvCJ,MAAA,CAAAO,WAAW,IAAIP,MAAA,CAAAC,WAAW,kB,cAAjDC,YAAA,CAAmEO,qBAAA;IAAAL,GAAA;EAAA,MAC5CJ,MAAA,CAAAO,WAAW,I,cAAlCL,YAAA,CAAsCQ,qBAAA;IAAAN,GAAA;EAAA,M,mCAEtCO,mBAAA,CAEO;IAFD,SAAKC,eAAA,EAAC,cAAc;MAAA,gBAA2BZ,MAAA,CAAAO;IAAW;MAC9DM,YAAA,CAAeC,sBAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}