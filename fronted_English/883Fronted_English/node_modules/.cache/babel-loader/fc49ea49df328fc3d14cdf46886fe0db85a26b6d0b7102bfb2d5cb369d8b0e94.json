{"ast":null,"code":"import { ref } from 'vue';\nexport default {\n  __name: 'Detail',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const records = ref([{\n      id: 1,\n      name: 'Zhang San',\n      status: 1,\n      statusText: 'Present',\n      statusClass: 'present',\n      remarks: ''\n    }, {\n      id: 2,\n      name: 'Li Si',\n      status: 2,\n      statusText: 'Absent',\n      statusClass: 'absent',\n      remarks: 'No leave'\n    }, {\n      id: 3,\n      name: 'Wang Wu',\n      status: 3,\n      statusText: 'Late',\n      statusClass: 'late',\n      remarks: '5 minutes late'\n    }]);\n    const showModal = ref(false);\n    const editData = ref({});\n    const statusOptions = {\n      1: 'Present',\n      2: 'Absent',\n      3: 'Late',\n      4: 'Leave'\n    };\n    const openModify = record => {\n      editData.value = {\n        ...record\n      };\n      showModal.value = true;\n    };\n    const confirmEdit = () => {\n      const idx = records.value.findIndex(r => r.id === editData.value.id);\n      if (idx !== -1) {\n        const label = statusOptions[editData.value.status];\n        const classMap = {\n          1: 'present',\n          2: 'absent',\n          3: 'late',\n          4: 'leave'\n        };\n        records.value[idx] = {\n          ...editData.value,\n          statusText: label,\n          statusClass: classMap[editData.value.status]\n        };\n      }\n      showModal.value = false;\n    };\n    const __returned__ = {\n      records,\n      showModal,\n      editData,\n      statusOptions,\n      openModify,\n      confirmEdit,\n      ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","records","id","name","status","statusText","statusClass","remarks","showModal","editData","statusOptions","openModify","record","value","confirmEdit","idx","findIndex","r","label","classMap"],"sources":["/Users/zhouzhou/Downloads/fronted-fronted_new/883Fronted_English/src/views/Teacher/Teaching/course/attendance/Detail.vue"],"sourcesContent":["<template>\n  <div class=\"attendance-detail\">\n    <div class=\"page-header\">\n      <h1>Attendance Details</h1>\n      <p class=\"page-description\">Display student attendance records, can be modified directly</p>\n    </div>\n\n    <section class=\"card\">\n      <div class=\"toolbar\">\n        <button class=\"btn\" @click=\"$router.push('launch')\">Launch Attendance</button>\n        <span class=\"info\">共 {{ records.length }} 条记录</span>\n      </div>\n\n      <table class=\"data-table\">\n        <thead>\n          <tr>\n            <th>Record ID</th>\n            <th>Student Name</th>\n            <th>Status</th>\n            <th>Remarks</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"record in records\" :key=\"record.id\">\n            <td>{{ record.id }}</td>\n            <td>{{ record.name }}</td>\n            <td>\n              <span :class=\"['status-tag', record.statusClass]\">{{ record.statusText }}</span>\n            </td>\n            <td>{{ record.remarks || '-' }}</td>\n            <td>\n              <button class=\"btn-link\" @click=\"openModify(record)\">Edit</button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </section>\n\n    <!-- 修改弹窗 -->\n    <div v-if=\"showModal\" class=\"modal-overlay\">\n      <div class=\"modal-card\">\n        <h3>Edit Attendance</h3>\n\n        <div class=\"form-group\">\n          <label>Status</label>\n          <select v-model=\"editData.status\" class=\"input\">\n            <option disabled value=\"\">Please select</option>\n            <option v-for=\"(label, key) in statusOptions\" :key=\"key\" :value=\"key\">\n              {{ label }}\n            </option>\n          </select>\n        </div>\n\n        <div class=\"form-group\">\n          <label>Remarks</label>\n          <textarea v-model=\"editData.remarks\" class=\"input\" rows=\"3\"></textarea>\n        </div>\n\n        <div class=\"modal-actions\">\n          <button class=\"btn\" @click=\"confirmEdit\">Save</button>\n          <button class=\"btn-cancel\" @click=\"showModal = false\">Cancel</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\n\nconst records = ref([\n  { id: 1, name: 'Zhang San', status: 1, statusText: 'Present', statusClass: 'present', remarks: '' },\n  { id: 2, name: 'Li Si', status: 2, statusText: 'Absent', statusClass: 'absent', remarks: 'No leave' },\n  { id: 3, name: 'Wang Wu', status: 3, statusText: 'Late', statusClass: 'late', remarks: '5 minutes late' }\n])\n\nconst showModal = ref(false)\nconst editData = ref({})\nconst statusOptions = { 1: 'Present', 2: 'Absent', 3: 'Late', 4: 'Leave' }\n\nconst openModify = (record) => {\n  editData.value = { ...record }\n  showModal.value = true\n}\n\nconst confirmEdit = () => {\n  const idx = records.value.findIndex(r => r.id === editData.value.id)\n  if (idx !== -1) {\n    const label = statusOptions[editData.value.status]\n    const classMap = { 1: 'present', 2: 'absent', 3: 'late', 4: 'leave' }\n    records.value[idx] = {\n      ...editData.value,\n      statusText: label,\n      statusClass: classMap[editData.value.status]\n    }\n  }\n  showModal.value = false\n}\n</script>\n\n<style scoped>\n.attendance-detail {\n  padding: 24px;\n}\n\n.page-header {\n  margin-block-end: 24px;\n}\n\n.page-description {\n  color: #666;\n  font-size: 14px;\n}\n\n.card {\n  background: #fff;\n  border-radius: 10px;\n  padding: 24px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n}\n\n.toolbar {\n  display: flex;\n  justify-content: space-between;\n  margin-block-end: 16px;\n}\n\n.btn {\n  background: #2A5CAA;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  padding: 8px 16px;\n  cursor: pointer;\n}\n\n.info {\n  color: #666;\n}\n\n.data-table {\n  inline-size: 100%;\n  border-collapse: collapse;\n}\n\n.data-table th,\n.data-table td {\n  padding: 12px;\n  border-block-end: 1px solid #eee;\n  text-align: start;\n}\n\n.status-tag {\n  padding: 2px 8px;\n  border-radius: 4px;\n  font-size: 12px;\n}\n\n.status-tag.present {\n  background: #e6fffb;\n  color: #13c2c2;\n}\n\n.status-tag.absent {\n  background: #fff2f0;\n  color: #ff4d4f;\n}\n\n.status-tag.late {\n  background: #fffbe6;\n  color: #faad14;\n}\n\n.status-tag.leave {\n  background: #f6ffed;\n  color: #52c41a;\n}\n\n.btn-link {\n  background: none;\n  border: none;\n  color: #2A5CAA;\n  cursor: pointer;\n  text-decoration: underline;\n}\n\n.modal-overlay {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.4);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.modal-card {\n  background: white;\n  padding: 20px;\n  border-radius: 10px;\n  inline-size: 400px;\n}\n\n.modal-actions {\n  margin-block-start: 20px;\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n}\n\n.btn-cancel {\n  background: #f0f0f0;\n  border: 1px solid #ccc;\n}\n\n.input {\n  inline-size: 100%;\n  padding: 8px;\n  border-radius: 6px;\n  border: 1px solid #ddd;\n  margin-block-start: 6px;\n}\n</style>\n"],"mappings":"AAqEA,SAASA,GAAG,QAAQ,KAAI;;;;;;;IAExB,MAAMC,OAAO,GAAGD,GAAG,CAAC,CAClB;MAAEE,EAAE,EAAE,CAAC;MAAEC,IAAI,EAAE,WAAW;MAAEC,MAAM,EAAE,CAAC;MAAEC,UAAU,EAAE,SAAS;MAAEC,WAAW,EAAE,SAAS;MAAEC,OAAO,EAAE;IAAG,CAAC,EACnG;MAAEL,EAAE,EAAE,CAAC;MAAEC,IAAI,EAAE,OAAO;MAAEC,MAAM,EAAE,CAAC;MAAEC,UAAU,EAAE,QAAQ;MAAEC,WAAW,EAAE,QAAQ;MAAEC,OAAO,EAAE;IAAW,CAAC,EACrG;MAAEL,EAAE,EAAE,CAAC;MAAEC,IAAI,EAAE,SAAS;MAAEC,MAAM,EAAE,CAAC;MAAEC,UAAU,EAAE,MAAM;MAAEC,WAAW,EAAE,MAAM;MAAEC,OAAO,EAAE;IAAiB,EACzG;IAED,MAAMC,SAAS,GAAGR,GAAG,CAAC,KAAK;IAC3B,MAAMS,QAAQ,GAAGT,GAAG,CAAC,CAAC,CAAC;IACvB,MAAMU,aAAa,GAAG;MAAE,CAAC,EAAE,SAAS;MAAE,CAAC,EAAE,QAAQ;MAAE,CAAC,EAAE,MAAM;MAAE,CAAC,EAAE;IAAQ;IAEzE,MAAMC,UAAU,GAAIC,MAAM,IAAK;MAC7BH,QAAQ,CAACI,KAAK,GAAG;QAAE,GAAGD;MAAO;MAC7BJ,SAAS,CAACK,KAAK,GAAG,IAAG;IACvB;IAEA,MAAMC,WAAW,GAAGA,CAAA,KAAM;MACxB,MAAMC,GAAG,GAAGd,OAAO,CAACY,KAAK,CAACG,SAAS,CAACC,CAAC,IAAIA,CAAC,CAACf,EAAE,KAAKO,QAAQ,CAACI,KAAK,CAACX,EAAE;MACnE,IAAIa,GAAG,KAAK,CAAC,CAAC,EAAE;QACd,MAAMG,KAAK,GAAGR,aAAa,CAACD,QAAQ,CAACI,KAAK,CAACT,MAAM;QACjD,MAAMe,QAAQ,GAAG;UAAE,CAAC,EAAE,SAAS;UAAE,CAAC,EAAE,QAAQ;UAAE,CAAC,EAAE,MAAM;UAAE,CAAC,EAAE;QAAQ;QACpElB,OAAO,CAACY,KAAK,CAACE,GAAG,CAAC,GAAG;UACnB,GAAGN,QAAQ,CAACI,KAAK;UACjBR,UAAU,EAAEa,KAAK;UACjBZ,WAAW,EAAEa,QAAQ,CAACV,QAAQ,CAACI,KAAK,CAACT,MAAM;QAC7C;MACF;MACAI,SAAS,CAACK,KAAK,GAAG,KAAI;IACxB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}