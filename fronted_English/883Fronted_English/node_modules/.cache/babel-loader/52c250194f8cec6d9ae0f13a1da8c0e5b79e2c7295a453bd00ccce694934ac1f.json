{"ast":null,"code":"import { ref, onMounted } from 'vue';\nconst BAIDU_AK = '3Jbw6qq8jVSn3CzXu0btBU2lpgffWz5G';\nexport default {\n  __name: 'Index',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const courseName = ref('');\n    const checking = ref(false);\n    const isCheckedIn = ref(false);\n    const checkInTime = ref('');\n    const locationInfo = ref({\n      latitude: null,\n      longitude: null,\n      address: ''\n    });\n\n    // ÁôæÂ∫¶Âú∞Âõæ API Key \n    const history = ref([{\n      id: 1,\n      date: '2025-11-25 10:00',\n      status: 'present',\n      text: 'Âá∫Âã§'\n    }, {\n      id: 2,\n      date: '2025-11-18 10:05',\n      status: 'late',\n      text: 'ËøüÂà∞'\n    }, {\n      id: 3,\n      date: '2025-11-11 10:00',\n      status: 'present',\n      text: 'Âá∫Âã§'\n    }]);\n    onMounted(() => {\n      courseName.value = localStorage.getItem('currentCourseName') || 'Modern Cryptography';\n    });\n\n    // Ëé∑ÂèñÁî®Êà∑‰ΩçÁΩÆ‰ø°ÊÅØ\n    const getCurrentLocation = () => {\n      return new Promise((resolve, reject) => {\n        if (!navigator.geolocation) {\n          reject(new Error('ÊµèËßàÂô®‰∏çÊîØÊåÅÂú∞ÁêÜÂÆö‰Ωç'));\n          return;\n        }\n        navigator.geolocation.getCurrentPosition(async position => {\n          const {\n            latitude,\n            longitude\n          } = position.coords;\n          try {\n            const address = await reverseGeocode(latitude, longitude);\n            resolve({\n              latitude,\n              longitude,\n              address\n            });\n          } catch (error) {\n            resolve({\n              latitude,\n              longitude,\n              address: 'Âú∞ÂùÄËé∑ÂèñÂ§±Ë¥•'\n            });\n          }\n        }, error => {\n          let message = 'ÂÆö‰ΩçÂ§±Ë¥•';\n          switch (error.code) {\n            case error.PERMISSION_DENIED:\n              message = 'Áî®Êà∑ÊãíÁªù‰∫ÜÂÆö‰ΩçÊùÉÈôê';\n              break;\n            case error.POSITION_UNAVAILABLE:\n              message = '‰ΩçÁΩÆ‰ø°ÊÅØ‰∏çÂèØÁî®';\n              break;\n            case error.TIMEOUT:\n              message = 'ÂÆö‰ΩçËØ∑Ê±ÇË∂ÖÊó∂';\n              break;\n          }\n          reject(new Error(message));\n        }, {\n          enableHighAccuracy: true,\n          timeout: 10000,\n          maximumAge: 300000\n        });\n      });\n    };\n\n    // ÁôæÂ∫¶Âú∞Âõæ - Ê†πÊçÆÁªèÁ∫¨Â∫¶Ëé∑ÂèñÂú∞ÂùÄ\n    const reverseGeocode = async (latitude, longitude) => {\n      try {\n        const response = await fetch(`https://api.map.baidu.com/reverse_geocoding/v3/?ak=${BAIDU_AK}&output=json&coordtype=wgs84ll&location=${latitude},${longitude}`);\n        const data = await response.json();\n        if (data.status === 0 && data.result) {\n          return data.result.formatted_address || 'Âú∞ÂùÄËß£ÊûêÂ§±Ë¥•';\n        } else {\n          throw new Error('ÁôæÂ∫¶Âú∞ÂõæAPIË∞ÉÁî®Â§±Ë¥•');\n        }\n      } catch (error) {\n        console.warn('ÈÄÜÂú∞ÁêÜÁºñÁ†ÅÂ§±Ë¥•:', error);\n        // ËøîÂõû‰∏Ä‰∏™ÈªòËÆ§Âú∞ÂùÄ\n        return 'ÊïôÂ≠¶Ê•ºÈôÑËøë';\n      }\n    };\n    const doCheckIn = async () => {\n      checking.value = true;\n      try {\n        // Ëé∑ÂèñÂΩìÂâç‰ΩçÁΩÆ\n        const location = await getCurrentLocation();\n        locationInfo.value = location;\n        console.log('Ëé∑ÂèñÂà∞‰ΩçÁΩÆ‰ø°ÊÅØ:', location);\n\n        // Ê®°ÊãüÂêëÂêéÁ´ØÊèê‰∫§Á≠æÂà∞‰ø°ÊÅØ\n        try {\n          const response = await fetch(`http://127.0.0.1:8081/student/attendance/checkin`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n              'token': localStorage.getItem('token')\n            },\n            body: JSON.stringify({\n              course_id: 1,\n              latitude: location.latitude,\n              longitude: location.longitude,\n              address: location.address\n            })\n          });\n          if (response.ok) {\n            console.log('Á≠æÂà∞ËØ∑Ê±ÇÊàêÂäüÂèëÈÄÅÂà∞ÂêéÁ´Ø');\n          }\n        } catch (e) {\n          console.warn('ÂêéÁ´ØËøûÊé•Â§±Ë¥•ÔºåÁªßÁª≠ÂÆåÊàêÂâçÁ´ØÁ≠æÂà∞ÊµÅÁ®ã');\n        }\n        checking.value = false;\n        isCheckedIn.value = true;\n        checkInTime.value = new Date().toLocaleTimeString();\n        alert(`Á≠æÂà∞ÊàêÂäüÔºÅ\\n‰ΩçÁΩÆÔºö${location.address}\\nÂùêÊ†áÔºö${location.latitude.toFixed(6)}, ${location.longitude.toFixed(6)}`);\n      } catch (error) {\n        checking.value = false;\n        console.error('ÂÆö‰ΩçÂ§±Ë¥•:', error);\n        alert(`ÂÆö‰ΩçÂ§±Ë¥•: ${error.message}\\nËØ∑Ê£ÄÊü•ÂÆö‰ΩçÊùÉÈôêÊàñÁΩëÁªúËøûÊé•`);\n      }\n    };\n\n    // È™åËØÅ‰ΩçÁΩÆÊòØÂê¶Âú®ÂÖÅËÆ∏ËåÉÂõ¥ÂÜÖ\n    const validateLocation = (lat, lng) => {\n      const requiredLat = 30.5133;\n      const requiredLng = 114.3640;\n      const maxDistance = 100; // Á±≥\n\n      const distance = calculateDistance(lat, lng, requiredLat, requiredLng);\n      return distance <= maxDistance;\n    };\n\n    // ËÆ°ÁÆó‰∏§ÁÇπ‰πãÈó¥ÁöÑË∑ùÁ¶ª\n    const calculateDistance = (lat1, lng1, lat2, lng2) => {\n      const R = 6371000;\n      const dLat = (lat2 - lat1) * Math.PI / 180;\n      const dLng = (lng2 - lng1) * Math.PI / 180;\n      const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLng / 2) * Math.sin(dLng / 2);\n      const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n      return R * c;\n    };\n    const __returned__ = {\n      courseName,\n      checking,\n      isCheckedIn,\n      checkInTime,\n      locationInfo,\n      BAIDU_AK,\n      history,\n      getCurrentLocation,\n      reverseGeocode,\n      doCheckIn,\n      validateLocation,\n      calculateDistance,\n      ref,\n      onMounted\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","BAIDU_AK","courseName","checking","isCheckedIn","checkInTime","locationInfo","latitude","longitude","address","history","id","date","status","text","value","localStorage","getItem","getCurrentLocation","Promise","resolve","reject","navigator","geolocation","Error","getCurrentPosition","position","coords","reverseGeocode","error","message","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","enableHighAccuracy","timeout","maximumAge","response","fetch","data","json","result","formatted_address","console","warn","doCheckIn","location","log","method","headers","body","JSON","stringify","course_id","ok","e","Date","toLocaleTimeString","alert","toFixed","validateLocation","lat","lng","requiredLat","requiredLng","maxDistance","distance","calculateDistance","lat1","lng1","lat2","lng2","R","dLat","Math","PI","dLng","a","sin","cos","c","atan2","sqrt"],"sources":["D:/vvvvvvvvvscode_workspace/fronted/883Fronted_Final/src/views/Student/Teaching/course/attendance/Index.vue"],"sourcesContent":["<template>\n  <div class=\"attendance-page\">\n    <div class=\"page-header\">\n      <h1>ËÄÉÂã§Á≠æÂà∞</h1>\n    </div>\n\n    <div class=\"card active-session-card\">\n      <div class=\"card-header\">\n        <h3>üì¢ Ê≠£Âú®Á≠æÂà∞Ôºö{{ courseName }}</h3>\n        \n      </div>\n      <div class=\"card-body\">\n        <div class=\"session-info\">\n          <p><strong>Á≠æÂà∞Á±ªÂûãÔºö</strong>‰ΩçÁΩÆÁ≠æÂà∞</p>\n          <p><strong>Ë¶ÅÊ±Ç‰ΩçÁΩÆÔºö</strong>ÊïôÂ≠¶Ê•º B205 (ÂçäÂæÑ 100Á±≥)</p>\n          <p><strong>ÂèëËµ∑Êó∂Èó¥Ôºö</strong>10:00</p>\n        </div>\n\n        <div v-if=\"!isCheckedIn\" class=\"action-area\">\n          <button class=\"btn-primary\" @click=\"doCheckIn\" :disabled=\"checking\">\n            {{ checking ? 'ÂÆö‰Ωç‰∏≠...' : 'üìç Á´ãÂç≥Á≠æÂà∞' }}\n          </button>\n          <p class=\"gps-hint\" v-if=\"checking\">Ê≠£Âú®Ëé∑ÂèñÊÇ®ÁöÑ‰ΩçÁΩÆ‰ø°ÊÅØ...</p>\n          <div v-if=\"locationInfo.latitude\" class=\"location-info\">\n            <p><strong>ÂΩìÂâç‰ΩçÁΩÆÔºö</strong></p>\n            <p class=\"location-detail\">Á∫¨Â∫¶: {{ locationInfo.latitude }}, ÁªèÂ∫¶: {{ locationInfo.longitude }}</p>\n            <p class=\"location-detail\">Âú∞ÂùÄ: {{ locationInfo.address }}</p>\n          </div>\n        </div>\n        <div v-else class=\"success-msg\">\n          <i class=\"bi bi-check-circle-fill\"></i> Á≠æÂà∞ÊàêÂäüÔºÅ\n          <span>Êó∂Èó¥: {{ checkInTime }}</span>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"card history-card\">\n      <h3>ÂéÜÂè≤ËÆ∞ÂΩï</h3>\n      <table class=\"data-table\">\n        <thead>\n        <tr>\n          <th>Êó•Êúü</th>\n          <th>ËØæÁ®ã</th>\n          <th>Áä∂ÊÄÅ</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr v-for=\"rec in history\" :key=\"rec.id\">\n          <td>{{ rec.date }}</td>\n          <td>{{ courseName }}</td>\n          <td><span class=\"tag\" :class=\"rec.status\">{{ rec.text }}</span></td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\n\nconst courseName = ref('')\nconst checking = ref(false)\nconst isCheckedIn = ref(false)\nconst checkInTime = ref('')\nconst locationInfo = ref({\n  latitude: null,\n  longitude: null,\n  address: ''\n})\n\n// ÁôæÂ∫¶Âú∞Âõæ API Key \nconst BAIDU_AK = '3Jbw6qq8jVSn3CzXu0btBU2lpgffWz5G'\n\nconst history = ref([\n  { id: 1, date: '2025-11-25 10:00', status: 'present', text: 'Âá∫Âã§' },\n  { id: 2, date: '2025-11-18 10:05', status: 'late', text: 'ËøüÂà∞' },\n  { id: 3, date: '2025-11-11 10:00', status: 'present', text: 'Âá∫Âã§' },\n])\n\nonMounted(() => {\n  courseName.value = localStorage.getItem('currentCourseName') || 'Modern Cryptography'\n})\n\n// Ëé∑ÂèñÁî®Êà∑‰ΩçÁΩÆ‰ø°ÊÅØ\nconst getCurrentLocation = () => {\n  return new Promise((resolve, reject) => {\n    if (!navigator.geolocation) {\n      reject(new Error('ÊµèËßàÂô®‰∏çÊîØÊåÅÂú∞ÁêÜÂÆö‰Ωç'))\n      return\n    }\n\n    navigator.geolocation.getCurrentPosition(\n      async (position) => {\n        const { latitude, longitude } = position.coords\n        try {\n          const address = await reverseGeocode(latitude, longitude)\n          resolve({ latitude, longitude, address })\n        } catch (error) {\n          \n          resolve({ latitude, longitude, address: 'Âú∞ÂùÄËé∑ÂèñÂ§±Ë¥•' })\n        }\n      },\n      (error) => {\n        let message = 'ÂÆö‰ΩçÂ§±Ë¥•'\n        switch (error.code) {\n          case error.PERMISSION_DENIED:\n            message = 'Áî®Êà∑ÊãíÁªù‰∫ÜÂÆö‰ΩçÊùÉÈôê'\n            break\n          case error.POSITION_UNAVAILABLE:\n            message = '‰ΩçÁΩÆ‰ø°ÊÅØ‰∏çÂèØÁî®'\n            break\n          case error.TIMEOUT:\n            message = 'ÂÆö‰ΩçËØ∑Ê±ÇË∂ÖÊó∂'\n            break\n        }\n        reject(new Error(message))\n      },\n      {\n        enableHighAccuracy: true, \n        timeout: 10000, \n        maximumAge: 300000 \n      }\n    )\n  })\n}\n\n// ÁôæÂ∫¶Âú∞Âõæ - Ê†πÊçÆÁªèÁ∫¨Â∫¶Ëé∑ÂèñÂú∞ÂùÄ\nconst reverseGeocode = async (latitude, longitude) => {\n  try {\n    const response = await fetch(\n      `https://api.map.baidu.com/reverse_geocoding/v3/?ak=${BAIDU_AK}&output=json&coordtype=wgs84ll&location=${latitude},${longitude}`\n    )\n    const data = await response.json()\n    \n    if (data.status === 0 && data.result) {\n      return data.result.formatted_address || 'Âú∞ÂùÄËß£ÊûêÂ§±Ë¥•'\n    } else {\n      throw new Error('ÁôæÂ∫¶Âú∞ÂõæAPIË∞ÉÁî®Â§±Ë¥•')\n    }\n  } catch (error) {\n    console.warn('ÈÄÜÂú∞ÁêÜÁºñÁ†ÅÂ§±Ë¥•:', error)\n    // ËøîÂõû‰∏Ä‰∏™ÈªòËÆ§Âú∞ÂùÄ\n    return 'ÊïôÂ≠¶Ê•ºÈôÑËøë'\n  }\n}\n\nconst doCheckIn = async () => {\n  checking.value = true\n  \n  try {\n    // Ëé∑ÂèñÂΩìÂâç‰ΩçÁΩÆ\n    const location = await getCurrentLocation()\n    locationInfo.value = location\n    \n    console.log('Ëé∑ÂèñÂà∞‰ΩçÁΩÆ‰ø°ÊÅØ:', location)\n    \n     // Ê®°ÊãüÂêëÂêéÁ´ØÊèê‰∫§Á≠æÂà∞‰ø°ÊÅØ\n    try {\n      const response = await fetch(`http://127.0.0.1:8081/student/attendance/checkin`, {\n        method: 'POST',\n        headers: { \n          'Content-Type': 'application/json', \n          'token': localStorage.getItem('token') \n        },\n        body: JSON.stringify({\n          course_id: 1,\n          latitude: location.latitude,\n          longitude: location.longitude,\n          address: location.address\n        })\n      })\n      \n      if (response.ok) {\n        console.log('Á≠æÂà∞ËØ∑Ê±ÇÊàêÂäüÂèëÈÄÅÂà∞ÂêéÁ´Ø')\n      }\n    } catch (e) {\n      console.warn('ÂêéÁ´ØËøûÊé•Â§±Ë¥•ÔºåÁªßÁª≠ÂÆåÊàêÂâçÁ´ØÁ≠æÂà∞ÊµÅÁ®ã')\n    }\n    \n    checking.value = false\n    isCheckedIn.value = true\n    checkInTime.value = new Date().toLocaleTimeString()\n    \n    alert(`Á≠æÂà∞ÊàêÂäüÔºÅ\\n‰ΩçÁΩÆÔºö${location.address}\\nÂùêÊ†áÔºö${location.latitude.toFixed(6)}, ${location.longitude.toFixed(6)}`)\n    \n  } catch (error) {\n    checking.value = false\n    console.error('ÂÆö‰ΩçÂ§±Ë¥•:', error)\n    alert(`ÂÆö‰ΩçÂ§±Ë¥•: ${error.message}\\nËØ∑Ê£ÄÊü•ÂÆö‰ΩçÊùÉÈôêÊàñÁΩëÁªúËøûÊé•`)\n  }\n}\n\n// È™åËØÅ‰ΩçÁΩÆÊòØÂê¶Âú®ÂÖÅËÆ∏ËåÉÂõ¥ÂÜÖ\nconst validateLocation = (lat, lng) => {\n  const requiredLat = 30.5133\n  const requiredLng = 114.3640\n  const maxDistance = 100 // Á±≥\n  \n  const distance = calculateDistance(lat, lng, requiredLat, requiredLng)\n  return distance <= maxDistance\n}\n\n// ËÆ°ÁÆó‰∏§ÁÇπ‰πãÈó¥ÁöÑË∑ùÁ¶ª\nconst calculateDistance = (lat1, lng1, lat2, lng2) => {\n  const R = 6371000 \n  const dLat = (lat2 - lat1) * Math.PI / 180\n  const dLng = (lng2 - lng1) * Math.PI / 180\n  const a = Math.sin(dLat/2) * Math.sin(dLat/2) +\n            Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *\n            Math.sin(dLng/2) * Math.sin(dLng/2)\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a))\n  return R * c\n}\n</script>\n\n<style scoped>\n.attendance-page { padding: 24px; }\n.card { background: white; padding: 24px; border-radius: 8px; margin-bottom: 24px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }\n.card-header { display: flex; justify-content: space-between; border-bottom: 1px solid #eee; padding-bottom: 15px; margin-bottom: 15px; }\n.timer { color: #ff4d4f; font-weight: bold; font-size: 18px; }\n\n.session-info p { margin: 8px 0; color: #555; }\n.btn-primary { width: 100%; padding: 15px; background: #2A5CAA; color: white; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; margin-top: 10px; }\n.btn-primary:disabled { background: #ccc; }\n\n.success-msg { text-align: center; color: #52c41a; font-size: 18px; font-weight: bold; margin-top: 20px; }\n.success-msg i { font-size: 24px; margin-right: 10px; }\n.success-msg span { display: block; font-size: 14px; color: #999; font-weight: normal; margin-top: 5px; }\n\n.data-table { width: 100%; border-collapse: collapse; }\n.data-table td, .data-table th { padding: 12px; border-bottom: 1px solid #eee; text-align: left; }\n.tag.present { color: #52c41a; background: #f6ffed; padding: 2px 8px; border-radius: 4px; }\n.tag.late { color: #faad14; background: #fffbe6; padding: 2px 8px; border-radius: 4px; }\n\n.location-info { \n  margin-top: 15px; \n  padding: 12px; \n  background: #f0f7ff; \n  border-radius: 6px; \n  border: 1px solid #d6e7ff;\n}\n\n.location-detail { \n  font-size: 13px; \n  color: #666; \n  margin: 3px 0;\n  font-family: monospace;\n}\n\n.gps-hint {\n  text-align: center;\n  color: #666;\n  font-size: 14px;\n  margin-top: 10px;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}