{"ast":null,"code":"import { computed, ref, watch } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nexport default {\n  name: 'StuSidebar',\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n    const courseId = ref('');\n    watch(() => route.params.courseId, newId => {\n      courseId.value = newId || '';\n    }, {\n      immediate: true\n    });\n    const inCourseContext = computed(() => !!courseId.value);\n\n    // ËèúÂçïÈÖçÁΩÆ\n    const menuConfig = {\n      // 1. ËØæÁ®ãÂÜÖ\n      courseSmart: [{\n        name: 'Â≠¶‰π†‰∏≠ÂøÉ',\n        children: [{\n          name: 'ËÄÉÂã§Á≠æÂà∞',\n          path: 'attendance/index',\n          icon: 'üìç'\n        }, {\n          name: 'ÊàëÁöÑ‰Ωú‰∏ö',\n          path: 'homework/list',\n          icon: 'üìù'\n        }, {\n          name: 'ÊàêÁª©Êü•ËØ¢',\n          path: 'grades/index',\n          icon: 'üìä'\n        }, {\n          name: 'ËØæÁ®ãËµÑÊ∫ê',\n          path: 'resources/list',\n          icon: 'üìÇ'\n        }, {\n          name: 'ËØ∑ÂÅáÁî≥ËØ∑',\n          path: 'leave/apply',\n          icon: 'üìÖ'\n        }]\n      }, {\n        name: 'ËØæÁ®ãÊ¶ÇÂÜµ',\n        children: [{\n          name: 'ËØæÁ®ãÈ¶ñÈ°µ',\n          path: 'overview',\n          icon: 'üè†'\n        }]\n      }],\n      // 2. Ê†°Âõ≠ÁîüÊ¥ª (‰øÆÂ§çÁÇπÔºöÁ°Æ‰øùËøôÈáåÁöÑÈÖçÁΩÆÊ≠£Á°Æ)\n      campus: [{\n        name: 'Ê†°Âõ≠ÁîüÊ¥ª',\n        children: [{\n          name: 'ÂÆøËàçÂàÜÈÖç',\n          path: '/student/studorm',\n          icon: 'üõèÔ∏è'\n        }, {\n          name: 'Ê†°Âõ≠ËÆ∫Âùõ',\n          path: '/student/forum',\n          icon: 'üí¨'\n        }]\n      }],\n      // 3. ËµÑÊ∫êÁÆ°ÁêÜ\n      resource: [{\n        name: 'ËµÑÊ∫êÁÆ°ÁêÜ',\n        children: [{\n          name: 'ÊïôÂÆ§È¢ÑÁ∫¶',\n          path: '/student/classroom',\n          icon: 'üèõÔ∏è'\n        }, {\n          name: '‰π¶Á±çÂÄüÈòÖ',\n          path: '/student/library',\n          icon: 'üìñ'\n        }]\n      }],\n      // 4. ÈªòËÆ§ÔºàÊïôÂ≠¶Ôºâ\n      teachingDefault: [{\n        name: 'ÊïôÂ≠¶ÁÆ°ÁêÜ',\n        children: [{\n          name: 'ÊàëÁöÑËØæÁ®ã',\n          path: '/student/teachinghome',\n          icon: 'üìö'\n        }, {\n          name: 'ËØ∑ÂÅáËÆ∞ÂΩï',\n          path: '/student/leave',\n          icon: 'üìÖ'\n        }]\n      }]\n    };\n\n    // === Ê†∏ÂøÉ‰øÆÂ§çÔºöÂà§Êñ≠ÂΩìÂâçÂ∫îËØ•ÊòæÁ§∫Âì™ÁªÑËèúÂçï ===\n    const currentMenuGroups = computed(() => {\n      const path = route.path;\n\n      // A. ËØæÁ®ãÂÜÖ -> ‰ºòÂÖàÁ∫ßÊúÄÈ´ò\n      if (inCourseContext.value) {\n        return menuConfig.courseSmart;\n      }\n\n      // B. Ê†°Âõ≠ÁîüÊ¥ª -> „ÄêÂÖ≥ÈîÆ‰øÆÂ§ç„ÄëËøôÈáåÂøÖÈ°ªÁ≤æÁ°ÆÂåπÈÖçÂà∞ studorm Âíå forum\n      if (path.includes('/student/studorm') || path.includes('/student/forum') || path.includes('/student/campushome') || path.includes('postdetail')) {\n        return menuConfig.campus;\n      }\n\n      // C. ËµÑÊ∫êÁÆ°ÁêÜ\n      if (path.includes('/student/classroom') || path.includes('/student/library') || path.includes('/student/resourcehome')) {\n        return menuConfig.resource;\n      }\n\n      // D. ÈªòËÆ§ÊòæÁ§∫ÊïôÂ≠¶ÁÆ°ÁêÜ\n      return menuConfig.teachingDefault;\n    });\n\n    // ËÆ°ÁÆóÊ†áÈ¢ò\n    const currentModuleTitle = computed(() => {\n      const path = route.path;\n      if (inCourseContext.value) return 'Êô∫ËÉΩÂ≠¶‰π†';\n      if (path.includes('studorm') || path.includes('forum')) return 'Ê†°Âõ≠ÁîüÊ¥ª';\n      if (path.includes('resource') || path.includes('library') || path.includes('classroom')) return 'ËµÑÊ∫êÁÆ°ÁêÜ';\n      return 'ÊïôÂ≠¶ÁÆ°ÁêÜ';\n    });\n\n    // Ë∑ØÂæÑËß£Êûê\n    const resolvePath = path => {\n      if (!path.startsWith('/')) {\n        return `/student/course/${courseId.value}/${path}`;\n      }\n      return path;\n    };\n\n    // È´ò‰∫ÆÈÄªËæë\n    const isItemActive = item => {\n      const fullPath = resolvePath(item.path);\n      return route.path === fullPath || route.path.startsWith(fullPath);\n    };\n    return {\n      currentMenuGroups,\n      currentModuleTitle,\n      resolvePath,\n      isItemActive\n    };\n  }\n};","map":{"version":3,"names":["computed","ref","watch","useRoute","useRouter","name","setup","route","router","courseId","params","newId","value","immediate","inCourseContext","menuConfig","courseSmart","children","path","icon","campus","resource","teachingDefault","currentMenuGroups","includes","currentModuleTitle","resolvePath","startsWith","isItemActive","item","fullPath"],"sources":["D:\\vvvvvvvvvscode_workspace\\fronted\\883Fronted_Final\\src\\components\\layout\\siderbars\\StuSidebar.vue"],"sourcesContent":["<template>\n  <aside class=\"app-sidebar\">\n    <div class=\"sidebar-header\">\n      <span class=\"sidebar-title\">{{ currentModuleTitle }}</span>\n    </div>\n\n    <nav class=\"sidebar-nav\">\n      <div v-for=\"group in currentMenuGroups\" :key=\"group.name\" class=\"menu-group\">\n        <div class=\"group-title\">\n          {{ group.name }}\n        </div>\n        <router-link v-for=\"item in group.children\" :key=\"item.path\" :to=\"resolvePath(item.path)\" class=\"menu-item\"\n          :class=\"{ active: isItemActive(item) }\">\n          <!-- <span class=\"item-icon\">{{ item.icon }}</span> -->\n          <span class=\"item-text\">{{ item.name }}</span>\n        </router-link>\n      </div>\n    </nav>\n  </aside>\n</template>\n\n<script>\nimport { computed, ref, watch } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\n\nexport default {\n  name: 'StuSidebar',\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    const courseId = ref('')\n\n    watch(() => route.params.courseId, (newId) => {\n      courseId.value = newId || ''\n    }, { immediate: true })\n\n    const inCourseContext = computed(() => !!courseId.value)\n\n    // ËèúÂçïÈÖçÁΩÆ\n    const menuConfig = {\n      // 1. ËØæÁ®ãÂÜÖ\n      courseSmart: [\n        {\n          name: 'Â≠¶‰π†‰∏≠ÂøÉ',\n          children: [\n            { name: 'ËÄÉÂã§Á≠æÂà∞', path: 'attendance/index', icon: 'üìç' },\n            { name: 'ÊàëÁöÑ‰Ωú‰∏ö', path: 'homework/list', icon: 'üìù' },\n            { name: 'ÊàêÁª©Êü•ËØ¢', path: 'grades/index', icon: 'üìä' },\n            { name: 'ËØæÁ®ãËµÑÊ∫ê', path: 'resources/list', icon: 'üìÇ' },\n            { name: 'ËØ∑ÂÅáÁî≥ËØ∑', path: 'leave/apply', icon: 'üìÖ' }\n          ]\n        },\n        {\n          name: 'ËØæÁ®ãÊ¶ÇÂÜµ',\n          children: [\n            { name: 'ËØæÁ®ãÈ¶ñÈ°µ', path: 'overview', icon: 'üè†' }\n          ]\n        }\n      ],\n      // 2. Ê†°Âõ≠ÁîüÊ¥ª (‰øÆÂ§çÁÇπÔºöÁ°Æ‰øùËøôÈáåÁöÑÈÖçÁΩÆÊ≠£Á°Æ)\n      campus: [\n        {\n          name: 'Ê†°Âõ≠ÁîüÊ¥ª',\n          children: [\n            { name: 'ÂÆøËàçÂàÜÈÖç', path: '/student/studorm', icon: 'üõèÔ∏è' },\n            { name: 'Ê†°Âõ≠ËÆ∫Âùõ', path: '/student/forum', icon: 'üí¨' }\n          ]\n        }\n      ],\n      // 3. ËµÑÊ∫êÁÆ°ÁêÜ\n      resource: [\n        {\n          name: 'ËµÑÊ∫êÁÆ°ÁêÜ',\n          children: [\n            { name: 'ÊïôÂÆ§È¢ÑÁ∫¶', path: '/student/classroom', icon: 'üèõÔ∏è' },\n            { name: '‰π¶Á±çÂÄüÈòÖ', path: '/student/library', icon: 'üìñ' }\n          ]\n        }\n      ],\n      // 4. ÈªòËÆ§ÔºàÊïôÂ≠¶Ôºâ\n      teachingDefault: [\n        {\n          name: 'ÊïôÂ≠¶ÁÆ°ÁêÜ',\n          children: [\n            { name: 'ÊàëÁöÑËØæÁ®ã', path: '/student/teachinghome', icon: 'üìö' },\n            { name: 'ËØ∑ÂÅáËÆ∞ÂΩï', path: '/student/leave', icon: 'üìÖ' }\n          ]\n        }\n      ]\n    }\n\n    // === Ê†∏ÂøÉ‰øÆÂ§çÔºöÂà§Êñ≠ÂΩìÂâçÂ∫îËØ•ÊòæÁ§∫Âì™ÁªÑËèúÂçï ===\n    const currentMenuGroups = computed(() => {\n      const path = route.path\n\n      // A. ËØæÁ®ãÂÜÖ -> ‰ºòÂÖàÁ∫ßÊúÄÈ´ò\n      if (inCourseContext.value) {\n        return menuConfig.courseSmart\n      }\n\n      // B. Ê†°Âõ≠ÁîüÊ¥ª -> „ÄêÂÖ≥ÈîÆ‰øÆÂ§ç„ÄëËøôÈáåÂøÖÈ°ªÁ≤æÁ°ÆÂåπÈÖçÂà∞ studorm Âíå forum\n      if (path.includes('/student/studorm') || path.includes('/student/forum') || path.includes('/student/campushome') || path.includes('postdetail')) {\n        return menuConfig.campus\n      }\n\n      // C. ËµÑÊ∫êÁÆ°ÁêÜ\n      if (path.includes('/student/classroom') || path.includes('/student/library') || path.includes('/student/resourcehome')) {\n        return menuConfig.resource\n      }\n\n      // D. ÈªòËÆ§ÊòæÁ§∫ÊïôÂ≠¶ÁÆ°ÁêÜ\n      return menuConfig.teachingDefault\n    })\n\n    // ËÆ°ÁÆóÊ†áÈ¢ò\n    const currentModuleTitle = computed(() => {\n      const path = route.path\n      if (inCourseContext.value) return 'Êô∫ËÉΩÂ≠¶‰π†'\n      if (path.includes('studorm') || path.includes('forum')) return 'Ê†°Âõ≠ÁîüÊ¥ª'\n      if (path.includes('resource') || path.includes('library') || path.includes('classroom')) return 'ËµÑÊ∫êÁÆ°ÁêÜ'\n      return 'ÊïôÂ≠¶ÁÆ°ÁêÜ'\n    })\n\n    // Ë∑ØÂæÑËß£Êûê\n    const resolvePath = (path) => {\n      if (!path.startsWith('/')) {\n        return `/student/course/${courseId.value}/${path}`\n      }\n      return path\n    }\n\n    // È´ò‰∫ÆÈÄªËæë\n    const isItemActive = (item) => {\n      const fullPath = resolvePath(item.path)\n      return route.path === fullPath || route.path.startsWith(fullPath)\n    }\n\n    return {\n      currentMenuGroups,\n      currentModuleTitle,\n      resolvePath,\n      isItemActive\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* === ‰øùÊåÅ‰Ω†ÂéüÊúâÁöÑÊ†∑ÂºèÂÆåÂÖ®‰∏çÂèò === */\n.app-sidebar {\n  inline-size: 240px;\n  background-color: var(--sidebar-bg, #d6e2f5);\n  block-size: calc(100vh - 60px);\n  position: fixed;\n  inset-block-start: 60px;\n  inset-inline-start: 0;\n  box-shadow: var(--sidebar-shadow, 2px 0 8px rgba(0, 0, 0, 0.1));\n  z-index: 999;\n  overflow-y: auto;\n}\n\n.sidebar-header {\n  block-size: 50px;\n  display: flex;\n  align-items: center;\n  padding: 0 15px;\n  border-block-end: 1px solid rgba(0, 0, 0, 0.1);\n}\n\n.sidebar-title {\n  font-weight: bold;\n  color: var(--primary-color, #2A5CAA);\n  font-size: 16px;\n}\n\n.sidebar-nav {\n  padding: 15px 0;\n}\n\n.menu-group {\n  margin-block-end: 20px;\n}\n\n.group-title {\n  padding: 0 15px 8px 15px;\n  font-size: 12px;\n  color: var(--text-light-gray, #666666);\n  text-transform: uppercase;\n  letter-spacing: 1px;\n  font-weight: 600;\n}\n\n.menu-item {\n  display: flex;\n  align-items: center;\n  padding: 12px 15px;\n  text-decoration: none;\n  color: var(--text-gray, #333333);\n  transition: all 0.3s;\n  border-inline-start: 3px solid transparent;\n  gap: 10px;\n  margin: 2px 0;\n}\n\n.menu-item:hover {\n  background-color: rgba(194, 212, 240, 0.5);\n  color: var(--primary-color, #2A5CAA);\n}\n\n.menu-item.active {\n  background-color: var(--sidebar-active, #c2d4f0);\n  color: var(--primary-color, #2A5CAA);\n  border-inline-start-color: var(--primary-color, #2A5CAA);\n}\n\n.item-icon {\n  font-size: 16px;\n  min-inline-size: 20px;\n  text-align: center;\n}\n\n.item-text {\n  white-space: nowrap;\n  overflow: hidden;\n  font-weight: 500;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}