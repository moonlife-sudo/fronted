{"ast":null,"code":"import { ref, onMounted, reactive } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { getHomeworkList, getHomeworkSubmissionDetail, generateStudentAnalysis } from '@/api/student';\nexport default {\n  __name: 'List',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const route = useRoute();\n    const router = useRouter();\n\n    // 响应式数据\n    const loading = ref(false);\n    const homeworks = ref([]);\n    const analysisLoading = reactive({});\n    const analysisModal = reactive({\n      show: false,\n      loading: false,\n      data: null,\n      error: null\n    });\n\n    // 获取路由参数\n    const courseId = route.params.courseId;\n\n    // 获取作业列表\n    const loadHomeworks = async () => {\n      if (!courseId) {\n        console.error('课程ID未找到');\n        return;\n      }\n      loading.value = true;\n      try {\n        console.log('正在获取课程', courseId, '的作业列表');\n        const result = await getHomeworkList(courseId);\n        console.log('作业列表API响应:', result);\n        if (result.code === 1 && result.data && result.data.length > 0) {\n          // 处理分页数据或直接的数组数据\n          homeworks.value = result.data.records || result.data || [];\n        } else {\n          console.warn('获取作业列表失败或数据为空，使用模拟数据:', result.msg);\n          homeworks.value = getMockHomeworks();\n        }\n      } catch (error) {\n        console.error('获取作业列表失败:', error);\n        console.log('使用模拟数据进行功能演示');\n        // 使用模拟数据作为fallback\n        homeworks.value = getMockHomeworks();\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    // 获取模拟作业数据\n    const getMockHomeworks = () => [{\n      id: 1,\n      homework_id: 1,\n      title: 'Vue.js基础练习',\n      description: '完成Vue组件的基本创建和使用，包括数据绑定、事件处理等核心概念',\n      deadline: '2023-12-25 23:59',\n      status: 'pending',\n      score: null,\n      due_date: '2023-12-25 23:59'\n    }, {\n      id: 2,\n      homework_id: 2,\n      title: 'JavaScript算法题集',\n      description: '完成数组、字符串、排序算法等相关编程题目，共10道题',\n      deadline: '2023-12-20 23:59',\n      status: 'graded',\n      score: 92,\n      grade: 92,\n      due_date: '2023-12-20 23:59'\n    }, {\n      id: 3,\n      homework_id: 3,\n      title: '期中项目报告',\n      description: '根据课程要求完成项目开发并撰写详细的技术报告',\n      deadline: '2023-12-15 23:59',\n      status: 'graded',\n      score: 88,\n      grade: 88,\n      due_date: '2023-12-15 23:59'\n    }, {\n      id: 4,\n      homework_id: 4,\n      title: 'React组件开发',\n      description: '使用React技术栈开发一个完整的Todo应用，包含增删改查功能',\n      deadline: '2023-12-10 23:59',\n      status: 'submitted',\n      score: null,\n      due_date: '2023-12-10 23:59'\n    }, {\n      id: 5,\n      homework_id: 5,\n      title: '数据库设计作业',\n      description: '设计一个学生管理系统的数据库，包含E-R图和SQL建表语句',\n      deadline: '2023-12-05 23:59',\n      status: 'graded',\n      score: 95,\n      grade: 95,\n      due_date: '2023-12-05 23:59'\n    }];\n\n    // 格式化日期\n    const formatDate = dateStr => {\n      if (!dateStr) return '未设置';\n      try {\n        return new Date(dateStr).toLocaleString('zh-CN');\n      } catch {\n        return dateStr;\n      }\n    };\n\n    // 获取状态样式类\n    const getStatusClass = status => {\n      const statusMap = {\n        'pending': 'pending',\n        'submitted': 'submitted',\n        'graded': 'graded',\n        'overdue': 'overdue',\n        '未提交': 'pending',\n        '已提交': 'submitted',\n        '已批改': 'graded',\n        '已逾期': 'overdue'\n      };\n      return statusMap[status] || 'pending';\n    };\n\n    // 获取状态文本\n    const getStatusText = status => {\n      const statusMap = {\n        'pending': '未提交',\n        'submitted': '已提交',\n        'graded': '已批改',\n        'overdue': '已逾期',\n        '未提交': '未提交',\n        '已提交': '已提交',\n        '已批改': '已批改',\n        '已逾期': '已逾期'\n      };\n      return statusMap[status] || '未知状态';\n    };\n\n    // 判断是否已批改\n    const isGraded = status => {\n      return status === 'graded' || status === '已批改';\n    };\n\n    // 查看作业详情\n    const viewHomeworkDetail = homework => {\n      const hwId = homework.homework_id || homework.id;\n      router.push(`/student/course/${courseId}/homework/detail?id=${hwId}`);\n    };\n\n    // 生成学情分析\n    const generateAnalysis = async homework => {\n      const hwId = homework.homework_id || homework.id;\n\n      // 设置加载状态\n      analysisLoading[hwId] = true;\n      try {\n        // 尝试获取作业提交详情\n        console.log('获取作业提交详情，作业ID:', hwId);\n        let submission = null;\n        try {\n          const submissionResult = await getHomeworkSubmissionDetail(hwId);\n          if (submissionResult && submissionResult.code === 1) {\n            submission = submissionResult.data;\n          }\n        } catch (error) {\n          console.log('无法获取真实提交详情，使用模拟数据:', error.message);\n        }\n\n        // 如果无法获取真实数据，使用模拟数据\n        if (!submission) {\n          submission = getMockSubmission(homework);\n        }\n\n        // 准备AI分析请求数据\n        const analysisRequest = {\n          homework_title: homework.title || homework.homework_title || '未命名作业',\n          homework_description: homework.description || homework.homework_description || '暂无描述',\n          student_content: submission.content || submission.submission_content || '模拟学生作业内容：本次作业中，我实现了Vue组件的基本功能，包括数据绑定、事件处理和组件通信。在开发过程中，我遇到了一些技术难点，通过查阅文档和实践最终解决了。整体来说，我对Vue的响应式原理有了更深入的理解。',\n          teacher_feedback: submission.teacher_feedback || submission.feedback || '作业完成质量良好，逻辑清晰，代码规范。建议在异常处理方面进一步完善。',\n          grade: homework.grade || homework.score || 0\n        };\n        console.log('调用AI分析接口，请求数据:', analysisRequest);\n\n        // 显示分析弹窗\n        analysisModal.show = true;\n        analysisModal.loading = true;\n        analysisModal.data = null;\n        analysisModal.error = null;\n\n        // 调用AI分析接口\n        const analysisResult = await generateStudentAnalysis(analysisRequest);\n        console.log('AI分析结果:', analysisResult);\n        if (analysisResult.success && analysisResult.data) {\n          analysisModal.data = analysisResult.data;\n        } else {\n          analysisModal.error = '分析失败，请稍后重试';\n        }\n      } catch (error) {\n        console.error('生成学情分析失败:', error);\n        analysisModal.error = error.message || '分析失败，请稍后重试';\n        analysisModal.show = true;\n        analysisModal.loading = false;\n      } finally {\n        analysisLoading[hwId] = false;\n        analysisModal.loading = false;\n      }\n    };\n\n    // 获取模拟提交数据\n    const getMockSubmission = homework => {\n      const mockContents = {\n        1: '本次Vue基础练习中，我学习了组件化开发的核心思想。通过实际编写代码，我掌握了v-model数据绑定、v-for循环渲染、@click事件处理等基础语法。在完成todolist组件时，我遇到了父子组件通信的问题，通过props和emit成功解决。总的来说，我对Vue的响应式原理有了初步理解，但在复杂状态管理方面还需要进一步学习。',\n        2: '算法题集完成情况：共完成8/10题。已完成的题目包括：数组去重、字符串反转、冒泡排序、二分查找等。在解决最长公共子序列问题时，我采用了动态规划的思路，时间复杂度为O(mn)。斐波那契数列使用了备忘录优化，避免了重复计算。还有两道关于图算法的题目由于时间关系未能完成，计划后续补充学习。代码实现注重了可读性和效率平衡。',\n        3: '项目开发总结：本次项目采用前后端分离架构，前端使用Vue3+TypeScript，后端使用Spring Boot。实现了用户登录、数据CRUD、文件上传等核心功能。在开发过程中，我学会了RESTful API设计、JWT身份验证、MyBatis数据访问等技术。项目部署使用Docker容器化，配置了Nginx反向代理。遇到的主要难点是跨域问题和异步数据处理，通过合理的错误处理机制得到解决。',\n        4: 'React Todo应用开发心得：使用函数式组件和Hooks重构了之前的类组件代码。useState管理本地状态，useEffect处理副作用，useContext实现了全局状态共享。组件拆分遵循单一职责原则，提高了代码的可维护性。添加了拖拽排序、本地存储、主题切换等增强功能。在性能优化方面，使用了useMemo和useCallback减少不必要的重渲染。整体架构清晰，用户体验良好。',\n        5: '数据库设计说明：以学生管理系统为例，设计了用户表、学生表、课程表、选课表等核心实体。采用第三范式规范化，避免数据冗余。E-R图清晰展示了实体间的关系：学生与课程是多对多关系，通过选课表实现；学生与宿舍是多对一关系。设置了适当的约束条件，包括主键、外键、唯一性约束等。考虑了查询性能，在常用查询字段上建立了索引。数据库支持事务处理，保证数据一致性。'\n      };\n      const mockFeedbacks = {\n        1: '代码结构清晰，Vue基础概念掌握良好。建议深入学习组件生命周期和watch机制。',\n        2: '算法思路正确，代码实现规范。建议补充图算法相关知识，提升解题完整性。',\n        3: '项目架构设计合理，技术栈运用恰当。文档撰写详细，展现了良好的工程实践能力。',\n        4: 'React Hooks使用熟练，组件设计符合最佳实践。性能优化意识值得肯定。',\n        5: '数据库设计规范，E-R图绘制准确。约束设置合理，体现了扎实的数据库理论基础。'\n      };\n      const hwId = homework.homework_id || homework.id;\n      return {\n        content: mockContents[hwId] || mockContents[1],\n        teacher_feedback: mockFeedbacks[hwId] || mockFeedbacks[1]\n      };\n    };\n\n    // 关闭分析弹窗\n    const closeAnalysisModal = () => {\n      analysisModal.show = false;\n      analysisModal.data = null;\n      analysisModal.error = null;\n    };\n\n    // 页面加载时获取数据\n    onMounted(() => {\n      loadHomeworks();\n    });\n    const __returned__ = {\n      route,\n      router,\n      loading,\n      homeworks,\n      analysisLoading,\n      analysisModal,\n      courseId,\n      loadHomeworks,\n      getMockHomeworks,\n      formatDate,\n      getStatusClass,\n      getStatusText,\n      isGraded,\n      viewHomeworkDetail,\n      generateAnalysis,\n      getMockSubmission,\n      closeAnalysisModal,\n      ref,\n      onMounted,\n      reactive,\n      get useRoute() {\n        return useRoute;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      get getHomeworkList() {\n        return getHomeworkList;\n      },\n      get getHomeworkSubmissionDetail() {\n        return getHomeworkSubmissionDetail;\n      },\n      get generateStudentAnalysis() {\n        return generateStudentAnalysis;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","reactive","useRoute","useRouter","getHomeworkList","getHomeworkSubmissionDetail","generateStudentAnalysis","route","router","loading","homeworks","analysisLoading","analysisModal","show","data","error","courseId","params","loadHomeworks","console","value","log","result","code","length","records","warn","msg","getMockHomeworks","id","homework_id","title","description","deadline","status","score","due_date","grade","formatDate","dateStr","Date","toLocaleString","getStatusClass","statusMap","getStatusText","isGraded","viewHomeworkDetail","homework","hwId","push","generateAnalysis","submission","submissionResult","message","getMockSubmission","analysisRequest","homework_title","homework_description","student_content","content","submission_content","teacher_feedback","feedback","analysisResult","success","mockContents","mockFeedbacks","closeAnalysisModal"],"sources":["D:/vvvvvvvvvscode_workspace/fronted/883Fronted_Final/src/views/Student/Teaching/course/homework/List.vue"],"sourcesContent":["<template>\n  <div class=\"homework-list\">\n    <!-- 加载状态 -->\n    <div v-if=\"loading\" class=\"loading-state\">\n      <i class=\"bi bi-arrow-clockwise spinner\"></i>\n      <span>加载中...</span>\n    </div>\n    \n    <!-- 作业列表 -->\n    <div v-else-if=\"homeworks.length > 0\" class=\"homework-items\">\n      <div v-for=\"hw in homeworks\" :key=\"hw.homework_id || hw.id\" class=\"hw-item\">\n        <div class=\"hw-info\" @click=\"viewHomeworkDetail(hw)\">\n          <h4>{{ hw.title || hw.homework_title }}</h4>\n          <p class=\"hw-description\">{{ hw.description || hw.homework_description || '暂无描述' }}</p>\n          <span class=\"deadline\">截止：{{ formatDate(hw.deadline || hw.due_date) }}</span>\n        </div>\n        \n        <div class=\"hw-status\">\n          <span :class=\"['badge', getStatusClass(hw.status || hw.submission_status)]\">{{ getStatusText(hw.status || hw.submission_status) }}</span>\n          \n          <!-- 分数显示 -->\n          <span v-if=\"hw.grade || hw.score\" class=\"score\">{{ hw.grade || hw.score }}分</span>\n          \n          <!-- 学情分析按钮 - 只有已批改的作业才显示 -->\n          <button \n            v-if=\"isGraded(hw.status || hw.submission_status) && (hw.grade || hw.score)\"\n            @click=\"generateAnalysis(hw)\"\n            class=\"analysis-btn\"\n            :disabled=\"analysisLoading[hw.homework_id || hw.id]\"\n          >\n            <i v-if=\"analysisLoading[hw.homework_id || hw.id]\" class=\"bi bi-arrow-clockwise spinner\"></i>\n            <i v-else class=\"bi bi-graph-up\"></i>\n            {{ analysisLoading[hw.homework_id || hw.id] ? '分析中...' : '学情分析' }}\n          </button>\n        </div>\n      </div>\n    </div>\n    \n    <!-- 空状态 -->\n    <div v-else class=\"empty-state\">\n      <i class=\"bi bi-journal-text\"></i>\n      <p>暂无作业</p>\n    </div>\n    \n    <!-- 学情分析弹窗 -->\n    <div v-if=\"analysisModal.show\" class=\"analysis-modal-overlay\" @click=\"closeAnalysisModal\">\n      <div class=\"analysis-modal\" @click.stop>\n        <div class=\"modal-header\">\n          <h3>学情分析报告</h3>\n          <button @click=\"closeAnalysisModal\" class=\"close-btn\">\n            <i class=\"bi bi-x\"></i>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <div v-if=\"analysisModal.loading\" class=\"analysis-loading\">\n            <i class=\"bi bi-arrow-clockwise spinner\"></i>\n            <p>AI正在分析中，请稍候...</p>\n          </div>\n          <div v-else-if=\"analysisModal.data\" class=\"analysis-content\">\n            <div class=\"analysis-section\">\n              <h4><i class=\"bi bi-star-fill\"></i> 优点与亮点</h4>\n              <p>{{ analysisModal.data.strengths }}</p>\n            </div>\n            <div class=\"analysis-section\">\n              <h4><i class=\"bi bi-exclamation-triangle-fill\"></i> 需要改进</h4>\n              <p>{{ analysisModal.data.weaknesses }}</p>\n            </div>\n            <div class=\"analysis-section\">\n              <h4><i class=\"bi bi-lightbulb-fill\"></i> 学习建议</h4>\n              <p>{{ analysisModal.data.suggestions }}</p>\n            </div>\n            <div class=\"analysis-section score-analysis\">\n              <h4><i class=\"bi bi-graph-up\"></i> 成绩分析</h4>\n              <p>{{ analysisModal.data.score_analysis }}</p>\n            </div>\n          </div>\n          <div v-else class=\"analysis-error\">\n            <i class=\"bi bi-exclamation-circle\"></i>\n            <p>{{ analysisModal.error || '分析失败，请重试' }}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, reactive } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { getHomeworkList, getHomeworkSubmissionDetail, generateStudentAnalysis } from '@/api/student'\n\nconst route = useRoute()\nconst router = useRouter()\n\n// 响应式数据\nconst loading = ref(false)\nconst homeworks = ref([])\nconst analysisLoading = reactive({})\nconst analysisModal = reactive({\n  show: false,\n  loading: false,\n  data: null,\n  error: null\n})\n\n// 获取路由参数\nconst courseId = route.params.courseId\n\n// 获取作业列表\nconst loadHomeworks = async () => {\n  if (!courseId) {\n    console.error('课程ID未找到')\n    return\n  }\n  \n  loading.value = true\n  try {\n    console.log('正在获取课程', courseId, '的作业列表')\n    const result = await getHomeworkList(courseId)\n    console.log('作业列表API响应:', result)\n    \n    if (result.code === 1 && result.data && result.data.length > 0) {\n      // 处理分页数据或直接的数组数据\n      homeworks.value = result.data.records || result.data || []\n    } else {\n      console.warn('获取作业列表失败或数据为空，使用模拟数据:', result.msg)\n      homeworks.value = getMockHomeworks()\n    }\n  } catch (error) {\n    console.error('获取作业列表失败:', error)\n    console.log('使用模拟数据进行功能演示')\n    // 使用模拟数据作为fallback\n    homeworks.value = getMockHomeworks()\n  } finally {\n    loading.value = false\n  }\n}\n\n// 获取模拟作业数据\nconst getMockHomeworks = () => [\n  { \n    id: 1, \n    homework_id: 1,\n    title: 'Vue.js基础练习', \n    description: '完成Vue组件的基本创建和使用，包括数据绑定、事件处理等核心概念',\n    deadline: '2023-12-25 23:59', \n    status: 'pending', \n    score: null,\n    due_date: '2023-12-25 23:59'\n  },\n  { \n    id: 2, \n    homework_id: 2,\n    title: 'JavaScript算法题集', \n    description: '完成数组、字符串、排序算法等相关编程题目，共10道题',\n    deadline: '2023-12-20 23:59', \n    status: 'graded', \n    score: 92,\n    grade: 92,\n    due_date: '2023-12-20 23:59'\n  },\n  { \n    id: 3, \n    homework_id: 3,\n    title: '期中项目报告', \n    description: '根据课程要求完成项目开发并撰写详细的技术报告',\n    deadline: '2023-12-15 23:59', \n    status: 'graded', \n    score: 88,\n    grade: 88,\n    due_date: '2023-12-15 23:59'\n  },\n  { \n    id: 4, \n    homework_id: 4,\n    title: 'React组件开发', \n    description: '使用React技术栈开发一个完整的Todo应用，包含增删改查功能',\n    deadline: '2023-12-10 23:59', \n    status: 'submitted', \n    score: null,\n    due_date: '2023-12-10 23:59'\n  },\n  { \n    id: 5, \n    homework_id: 5,\n    title: '数据库设计作业', \n    description: '设计一个学生管理系统的数据库，包含E-R图和SQL建表语句',\n    deadline: '2023-12-05 23:59', \n    status: 'graded', \n    score: 95,\n    grade: 95,\n    due_date: '2023-12-05 23:59'\n  }\n]\n\n// 格式化日期\nconst formatDate = (dateStr) => {\n  if (!dateStr) return '未设置'\n  try {\n    return new Date(dateStr).toLocaleString('zh-CN')\n  } catch {\n    return dateStr\n  }\n}\n\n// 获取状态样式类\nconst getStatusClass = (status) => {\n  const statusMap = {\n    'pending': 'pending',\n    'submitted': 'submitted', \n    'graded': 'graded',\n    'overdue': 'overdue',\n    '未提交': 'pending',\n    '已提交': 'submitted',\n    '已批改': 'graded',\n    '已逾期': 'overdue'\n  }\n  return statusMap[status] || 'pending'\n}\n\n// 获取状态文本\nconst getStatusText = (status) => {\n  const statusMap = {\n    'pending': '未提交',\n    'submitted': '已提交', \n    'graded': '已批改',\n    'overdue': '已逾期',\n    '未提交': '未提交',\n    '已提交': '已提交',\n    '已批改': '已批改',\n    '已逾期': '已逾期'\n  }\n  return statusMap[status] || '未知状态'\n}\n\n// 判断是否已批改\nconst isGraded = (status) => {\n  return status === 'graded' || status === '已批改'\n}\n\n// 查看作业详情\nconst viewHomeworkDetail = (homework) => {\n  const hwId = homework.homework_id || homework.id\n  router.push(`/student/course/${courseId}/homework/detail?id=${hwId}`)\n}\n\n// 生成学情分析\nconst generateAnalysis = async (homework) => {\n  const hwId = homework.homework_id || homework.id\n  \n  // 设置加载状态\n  analysisLoading[hwId] = true\n  \n  try {\n    // 尝试获取作业提交详情\n    console.log('获取作业提交详情，作业ID:', hwId)\n    let submission = null\n    \n    try {\n      const submissionResult = await getHomeworkSubmissionDetail(hwId)\n      if (submissionResult && submissionResult.code === 1) {\n        submission = submissionResult.data\n      }\n    } catch (error) {\n      console.log('无法获取真实提交详情，使用模拟数据:', error.message)\n    }\n    \n    // 如果无法获取真实数据，使用模拟数据\n    if (!submission) {\n      submission = getMockSubmission(homework)\n    }\n    \n    // 准备AI分析请求数据\n    const analysisRequest = {\n      homework_title: homework.title || homework.homework_title || '未命名作业',\n      homework_description: homework.description || homework.homework_description || '暂无描述',\n      student_content: submission.content || submission.submission_content || '模拟学生作业内容：本次作业中，我实现了Vue组件的基本功能，包括数据绑定、事件处理和组件通信。在开发过程中，我遇到了一些技术难点，通过查阅文档和实践最终解决了。整体来说，我对Vue的响应式原理有了更深入的理解。',\n      teacher_feedback: submission.teacher_feedback || submission.feedback || '作业完成质量良好，逻辑清晰，代码规范。建议在异常处理方面进一步完善。',\n      grade: homework.grade || homework.score || 0\n    }\n    \n    console.log('调用AI分析接口，请求数据:', analysisRequest)\n    \n    // 显示分析弹窗\n    analysisModal.show = true\n    analysisModal.loading = true\n    analysisModal.data = null\n    analysisModal.error = null\n    \n    // 调用AI分析接口\n    const analysisResult = await generateStudentAnalysis(analysisRequest)\n    \n    console.log('AI分析结果:', analysisResult)\n    \n    if (analysisResult.success && analysisResult.data) {\n      analysisModal.data = analysisResult.data\n    } else {\n      analysisModal.error = '分析失败，请稍后重试'\n    }\n    \n  } catch (error) {\n    console.error('生成学情分析失败:', error)\n    analysisModal.error = error.message || '分析失败，请稍后重试'\n    analysisModal.show = true\n    analysisModal.loading = false\n  } finally {\n    analysisLoading[hwId] = false\n    analysisModal.loading = false\n  }\n}\n\n// 获取模拟提交数据\nconst getMockSubmission = (homework) => {\n  const mockContents = {\n    1: '本次Vue基础练习中，我学习了组件化开发的核心思想。通过实际编写代码，我掌握了v-model数据绑定、v-for循环渲染、@click事件处理等基础语法。在完成todolist组件时，我遇到了父子组件通信的问题，通过props和emit成功解决。总的来说，我对Vue的响应式原理有了初步理解，但在复杂状态管理方面还需要进一步学习。',\n    2: '算法题集完成情况：共完成8/10题。已完成的题目包括：数组去重、字符串反转、冒泡排序、二分查找等。在解决最长公共子序列问题时，我采用了动态规划的思路，时间复杂度为O(mn)。斐波那契数列使用了备忘录优化，避免了重复计算。还有两道关于图算法的题目由于时间关系未能完成，计划后续补充学习。代码实现注重了可读性和效率平衡。',\n    3: '项目开发总结：本次项目采用前后端分离架构，前端使用Vue3+TypeScript，后端使用Spring Boot。实现了用户登录、数据CRUD、文件上传等核心功能。在开发过程中，我学会了RESTful API设计、JWT身份验证、MyBatis数据访问等技术。项目部署使用Docker容器化，配置了Nginx反向代理。遇到的主要难点是跨域问题和异步数据处理，通过合理的错误处理机制得到解决。',\n    4: 'React Todo应用开发心得：使用函数式组件和Hooks重构了之前的类组件代码。useState管理本地状态，useEffect处理副作用，useContext实现了全局状态共享。组件拆分遵循单一职责原则，提高了代码的可维护性。添加了拖拽排序、本地存储、主题切换等增强功能。在性能优化方面，使用了useMemo和useCallback减少不必要的重渲染。整体架构清晰，用户体验良好。',\n    5: '数据库设计说明：以学生管理系统为例，设计了用户表、学生表、课程表、选课表等核心实体。采用第三范式规范化，避免数据冗余。E-R图清晰展示了实体间的关系：学生与课程是多对多关系，通过选课表实现；学生与宿舍是多对一关系。设置了适当的约束条件，包括主键、外键、唯一性约束等。考虑了查询性能，在常用查询字段上建立了索引。数据库支持事务处理，保证数据一致性。'\n  }\n  \n  const mockFeedbacks = {\n    1: '代码结构清晰，Vue基础概念掌握良好。建议深入学习组件生命周期和watch机制。',\n    2: '算法思路正确，代码实现规范。建议补充图算法相关知识，提升解题完整性。',\n    3: '项目架构设计合理，技术栈运用恰当。文档撰写详细，展现了良好的工程实践能力。',\n    4: 'React Hooks使用熟练，组件设计符合最佳实践。性能优化意识值得肯定。',\n    5: '数据库设计规范，E-R图绘制准确。约束设置合理，体现了扎实的数据库理论基础。'\n  }\n  \n  const hwId = homework.homework_id || homework.id\n  return {\n    content: mockContents[hwId] || mockContents[1],\n    teacher_feedback: mockFeedbacks[hwId] || mockFeedbacks[1]\n  }\n}\n\n// 关闭分析弹窗\nconst closeAnalysisModal = () => {\n  analysisModal.show = false\n  analysisModal.data = null\n  analysisModal.error = null\n}\n\n// 页面加载时获取数据\nonMounted(() => {\n  loadHomeworks()\n})\n</script>\n\n<style scoped>\n.homework-list {\n  padding: 20px;\n}\n\n.loading-state, .empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 60px 20px;\n  color: #666;\n}\n\n.loading-state i, .empty-state i {\n  font-size: 48px;\n  margin-block-end: 15px;\n  color: #999;\n}\n\n.spinner {\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n.homework-items {\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n}\n\n.hw-item {\n  background: white;\n  padding: 20px;\n  border-radius: 12px;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  transition: all 0.3s ease;\n  border: 1px solid #eee;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);\n}\n\n.hw-item:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);\n  border-color: #2A5CAA;\n}\n\n.hw-info {\n  flex: 1;\n  cursor: pointer;\n  padding-inline-end: 20px;\n}\n\n.hw-info h4 {\n  margin: 0 0 8px 0;\n  color: #333;\n  font-size: 16px;\n  font-weight: 600;\n  line-height: 1.4;\n}\n\n.hw-description {\n  margin: 5px 0 10px 0;\n  color: #666;\n  font-size: 14px;\n  line-height: 1.4;\n}\n\n.deadline {\n  font-size: 13px;\n  color: #999;\n  display: flex;\n  align-items: center;\n}\n\n.deadline::before {\n  content: '⏰';\n  margin-inline-end: 5px;\n}\n\n.hw-status {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 10px;\n}\n\n.badge {\n  padding: 6px 12px;\n  border-radius: 6px;\n  font-size: 12px;\n  font-weight: 500;\n  white-space: nowrap;\n}\n\n.badge.pending {\n  background: #fff7e6;\n  color: #fa8c16;\n  border: 1px solid #ffd591;\n}\n\n.badge.submitted {\n  background: #e6f7ff;\n  color: #1890ff;\n  border: 1px solid #91d5ff;\n}\n\n.badge.graded {\n  background: #f6ffed;\n  color: #52c41a;\n  border: 1px solid #b7eb8f;\n}\n\n.badge.overdue {\n  background: #fff2f0;\n  color: #ff4d4f;\n  border: 1px solid #ffccc7;\n}\n\n.score {\n  font-weight: 600;\n  color: #2A5CAA;\n  font-size: 15px;\n}\n\n.analysis-btn {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  padding: 8px 16px;\n  font-size: 12px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.analysis-btn:hover:not(:disabled) {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);\n}\n\n.analysis-btn:disabled {\n  cursor: not-allowed;\n  opacity: 0.7;\n}\n\n.analysis-btn i {\n  font-size: 12px;\n}\n\n/* 学情分析弹窗 */\n.analysis-modal-overlay {\n  position: fixed;\n  inset-block-start: 0;\n  inset-inline-start: 0;\n  inset-inline-end: 0;\n  inset-block-end: 0;\n  background: rgba(0, 0, 0, 0.6);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  padding: 20px;\n}\n\n.analysis-modal {\n  background: white;\n  border-radius: 16px;\n  inline-size: 90%;\n  max-inline-size: 700px;\n  max-block-size: 90vh;\n  overflow: hidden;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n}\n\n.modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 24px 30px;\n  border-block-end: 1px solid #eee;\n  background: #f8f9fa;\n}\n\n.modal-header h3 {\n  margin: 0;\n  color: #333;\n  font-size: 18px;\n  font-weight: 600;\n}\n\n.close-btn {\n  background: none;\n  border: none;\n  font-size: 24px;\n  color: #666;\n  cursor: pointer;\n  padding: 0;\n  inline-size: 32px;\n  block-size: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  transition: all 0.3s ease;\n}\n\n.close-btn:hover {\n  background: #eee;\n  color: #333;\n}\n\n.modal-body {\n  padding: 30px;\n  max-block-size: 60vh;\n  overflow-y: auto;\n}\n\n.analysis-loading {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 40px 20px;\n  color: #666;\n}\n\n.analysis-loading i {\n  font-size: 32px;\n  margin-block-end: 15px;\n  color: #2A5CAA;\n}\n\n.analysis-content {\n  display: flex;\n  flex-direction: column;\n  gap: 25px;\n}\n\n.analysis-section {\n  background: #f8f9fa;\n  border-radius: 12px;\n  padding: 20px;\n  border-inline-start: 4px solid;\n}\n\n.analysis-section:nth-child(1) {\n  border-inline-start-color: #52c41a;\n}\n\n.analysis-section:nth-child(2) {\n  border-inline-start-color: #faad14;\n}\n\n.analysis-section:nth-child(3) {\n  border-inline-start-color: #1890ff;\n}\n\n.analysis-section.score-analysis {\n  border-inline-start-color: #722ed1;\n}\n\n.analysis-section h4 {\n  margin: 0 0 12px 0;\n  color: #333;\n  font-size: 16px;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.analysis-section h4 i {\n  font-size: 18px;\n}\n\n.analysis-section p {\n  margin: 0;\n  color: #666;\n  line-height: 1.6;\n  font-size: 14px;\n}\n\n.analysis-error {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 40px 20px;\n  color: #ff4d4f;\n}\n\n.analysis-error i {\n  font-size: 48px;\n  margin-block-end: 15px;\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .hw-item {\n    flex-direction: column;\n    align-items: stretch;\n    gap: 15px;\n  }\n  \n  .hw-info {\n    padding-inline-end: 0;\n  }\n  \n  .hw-status {\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n  }\n  \n  .analysis-modal {\n    inline-size: 95%;\n    margin: 20px;\n  }\n  \n  .modal-body {\n    padding: 20px;\n  }\n}\n</style>"],"mappings":"AAuFA,SAASA,GAAG,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,KAAI;AAC7C,SAASC,QAAQ,EAAEC,SAAS,QAAQ,YAAW;AAC/C,SAASC,eAAe,EAAEC,2BAA2B,EAAEC,uBAAuB,QAAQ,eAAc;;;;;;;IAEpG,MAAMC,KAAK,GAAGL,QAAQ,CAAC;IACvB,MAAMM,MAAM,GAAGL,SAAS,CAAC;;IAEzB;IACA,MAAMM,OAAO,GAAGV,GAAG,CAAC,KAAK;IACzB,MAAMW,SAAS,GAAGX,GAAG,CAAC,EAAE;IACxB,MAAMY,eAAe,GAAGV,QAAQ,CAAC,CAAC,CAAC;IACnC,MAAMW,aAAa,GAAGX,QAAQ,CAAC;MAC7BY,IAAI,EAAE,KAAK;MACXJ,OAAO,EAAE,KAAK;MACdK,IAAI,EAAE,IAAI;MACVC,KAAK,EAAE;IACT,CAAC;;IAED;IACA,MAAMC,QAAQ,GAAGT,KAAK,CAACU,MAAM,CAACD,QAAO;;IAErC;IACA,MAAME,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI,CAACF,QAAQ,EAAE;QACbG,OAAO,CAACJ,KAAK,CAAC,SAAS;QACvB;MACF;MAEAN,OAAO,CAACW,KAAK,GAAG,IAAG;MACnB,IAAI;QACFD,OAAO,CAACE,GAAG,CAAC,QAAQ,EAAEL,QAAQ,EAAE,OAAO;QACvC,MAAMM,MAAM,GAAG,MAAMlB,eAAe,CAACY,QAAQ;QAC7CG,OAAO,CAACE,GAAG,CAAC,YAAY,EAAEC,MAAM;QAEhC,IAAIA,MAAM,CAACC,IAAI,KAAK,CAAC,IAAID,MAAM,CAACR,IAAI,IAAIQ,MAAM,CAACR,IAAI,CAACU,MAAM,GAAG,CAAC,EAAE;UAC9D;UACAd,SAAS,CAACU,KAAK,GAAGE,MAAM,CAACR,IAAI,CAACW,OAAO,IAAIH,MAAM,CAACR,IAAI,IAAI,EAAC;QAC3D,CAAC,MAAM;UACLK,OAAO,CAACO,IAAI,CAAC,uBAAuB,EAAEJ,MAAM,CAACK,GAAG;UAChDjB,SAAS,CAACU,KAAK,GAAGQ,gBAAgB,CAAC;QACrC;MACF,CAAC,CAAC,OAAOb,KAAK,EAAE;QACdI,OAAO,CAACJ,KAAK,CAAC,WAAW,EAAEA,KAAK;QAChCI,OAAO,CAACE,GAAG,CAAC,cAAc;QAC1B;QACAX,SAAS,CAACU,KAAK,GAAGQ,gBAAgB,CAAC;MACrC,CAAC,SAAS;QACRnB,OAAO,CAACW,KAAK,GAAG,KAAI;MACtB;IACF;;IAEA;IACA,MAAMQ,gBAAgB,GAAGA,CAAA,KAAM,CAC7B;MACEC,EAAE,EAAE,CAAC;MACLC,WAAW,EAAE,CAAC;MACdC,KAAK,EAAE,YAAY;MACnBC,WAAW,EAAE,kCAAkC;MAC/CC,QAAQ,EAAE,kBAAkB;MAC5BC,MAAM,EAAE,SAAS;MACjBC,KAAK,EAAE,IAAI;MACXC,QAAQ,EAAE;IACZ,CAAC,EACD;MACEP,EAAE,EAAE,CAAC;MACLC,WAAW,EAAE,CAAC;MACdC,KAAK,EAAE,gBAAgB;MACvBC,WAAW,EAAE,4BAA4B;MACzCC,QAAQ,EAAE,kBAAkB;MAC5BC,MAAM,EAAE,QAAQ;MAChBC,KAAK,EAAE,EAAE;MACTE,KAAK,EAAE,EAAE;MACTD,QAAQ,EAAE;IACZ,CAAC,EACD;MACEP,EAAE,EAAE,CAAC;MACLC,WAAW,EAAE,CAAC;MACdC,KAAK,EAAE,QAAQ;MACfC,WAAW,EAAE,wBAAwB;MACrCC,QAAQ,EAAE,kBAAkB;MAC5BC,MAAM,EAAE,QAAQ;MAChBC,KAAK,EAAE,EAAE;MACTE,KAAK,EAAE,EAAE;MACTD,QAAQ,EAAE;IACZ,CAAC,EACD;MACEP,EAAE,EAAE,CAAC;MACLC,WAAW,EAAE,CAAC;MACdC,KAAK,EAAE,WAAW;MAClBC,WAAW,EAAE,kCAAkC;MAC/CC,QAAQ,EAAE,kBAAkB;MAC5BC,MAAM,EAAE,WAAW;MACnBC,KAAK,EAAE,IAAI;MACXC,QAAQ,EAAE;IACZ,CAAC,EACD;MACEP,EAAE,EAAE,CAAC;MACLC,WAAW,EAAE,CAAC;MACdC,KAAK,EAAE,SAAS;MAChBC,WAAW,EAAE,+BAA+B;MAC5CC,QAAQ,EAAE,kBAAkB;MAC5BC,MAAM,EAAE,QAAQ;MAChBC,KAAK,EAAE,EAAE;MACTE,KAAK,EAAE,EAAE;MACTD,QAAQ,EAAE;IACZ,EACF;;IAEA;IACA,MAAME,UAAU,GAAIC,OAAO,IAAK;MAC9B,IAAI,CAACA,OAAO,EAAE,OAAO,KAAI;MACzB,IAAI;QACF,OAAO,IAAIC,IAAI,CAACD,OAAO,CAAC,CAACE,cAAc,CAAC,OAAO;MACjD,CAAC,CAAC,MAAM;QACN,OAAOF,OAAM;MACf;IACF;;IAEA;IACA,MAAMG,cAAc,GAAIR,MAAM,IAAK;MACjC,MAAMS,SAAS,GAAG;QAChB,SAAS,EAAE,SAAS;QACpB,WAAW,EAAE,WAAW;QACxB,QAAQ,EAAE,QAAQ;QAClB,SAAS,EAAE,SAAS;QACpB,KAAK,EAAE,SAAS;QAChB,KAAK,EAAE,WAAW;QAClB,KAAK,EAAE,QAAQ;QACf,KAAK,EAAE;MACT;MACA,OAAOA,SAAS,CAACT,MAAM,CAAC,IAAI,SAAQ;IACtC;;IAEA;IACA,MAAMU,aAAa,GAAIV,MAAM,IAAK;MAChC,MAAMS,SAAS,GAAG;QAChB,SAAS,EAAE,KAAK;QAChB,WAAW,EAAE,KAAK;QAClB,QAAQ,EAAE,KAAK;QACf,SAAS,EAAE,KAAK;QAChB,KAAK,EAAE,KAAK;QACZ,KAAK,EAAE,KAAK;QACZ,KAAK,EAAE,KAAK;QACZ,KAAK,EAAE;MACT;MACA,OAAOA,SAAS,CAACT,MAAM,CAAC,IAAI,MAAK;IACnC;;IAEA;IACA,MAAMW,QAAQ,GAAIX,MAAM,IAAK;MAC3B,OAAOA,MAAM,KAAK,QAAQ,IAAIA,MAAM,KAAK,KAAI;IAC/C;;IAEA;IACA,MAAMY,kBAAkB,GAAIC,QAAQ,IAAK;MACvC,MAAMC,IAAI,GAAGD,QAAQ,CAACjB,WAAW,IAAIiB,QAAQ,CAAClB,EAAC;MAC/CrB,MAAM,CAACyC,IAAI,CAAC,mBAAmBjC,QAAQ,uBAAuBgC,IAAI,EAAE;IACtE;;IAEA;IACA,MAAME,gBAAgB,GAAG,MAAOH,QAAQ,IAAK;MAC3C,MAAMC,IAAI,GAAGD,QAAQ,CAACjB,WAAW,IAAIiB,QAAQ,CAAClB,EAAC;;MAE/C;MACAlB,eAAe,CAACqC,IAAI,CAAC,GAAG,IAAG;MAE3B,IAAI;QACF;QACA7B,OAAO,CAACE,GAAG,CAAC,gBAAgB,EAAE2B,IAAI;QAClC,IAAIG,UAAU,GAAG,IAAG;QAEpB,IAAI;UACF,MAAMC,gBAAgB,GAAG,MAAM/C,2BAA2B,CAAC2C,IAAI;UAC/D,IAAII,gBAAgB,IAAIA,gBAAgB,CAAC7B,IAAI,KAAK,CAAC,EAAE;YACnD4B,UAAU,GAAGC,gBAAgB,CAACtC,IAAG;UACnC;QACF,CAAC,CAAC,OAAOC,KAAK,EAAE;UACdI,OAAO,CAACE,GAAG,CAAC,oBAAoB,EAAEN,KAAK,CAACsC,OAAO;QACjD;;QAEA;QACA,IAAI,CAACF,UAAU,EAAE;UACfA,UAAU,GAAGG,iBAAiB,CAACP,QAAQ;QACzC;;QAEA;QACA,MAAMQ,eAAe,GAAG;UACtBC,cAAc,EAAET,QAAQ,CAAChB,KAAK,IAAIgB,QAAQ,CAACS,cAAc,IAAI,OAAO;UACpEC,oBAAoB,EAAEV,QAAQ,CAACf,WAAW,IAAIe,QAAQ,CAACU,oBAAoB,IAAI,MAAM;UACrFC,eAAe,EAAEP,UAAU,CAACQ,OAAO,IAAIR,UAAU,CAACS,kBAAkB,IAAI,2GAA2G;UACnLC,gBAAgB,EAAEV,UAAU,CAACU,gBAAgB,IAAIV,UAAU,CAACW,QAAQ,IAAI,oCAAoC;UAC5GzB,KAAK,EAAEU,QAAQ,CAACV,KAAK,IAAIU,QAAQ,CAACZ,KAAK,IAAI;QAC7C;QAEAhB,OAAO,CAACE,GAAG,CAAC,gBAAgB,EAAEkC,eAAe;;QAE7C;QACA3C,aAAa,CAACC,IAAI,GAAG,IAAG;QACxBD,aAAa,CAACH,OAAO,GAAG,IAAG;QAC3BG,aAAa,CAACE,IAAI,GAAG,IAAG;QACxBF,aAAa,CAACG,KAAK,GAAG,IAAG;;QAEzB;QACA,MAAMgD,cAAc,GAAG,MAAMzD,uBAAuB,CAACiD,eAAe;QAEpEpC,OAAO,CAACE,GAAG,CAAC,SAAS,EAAE0C,cAAc;QAErC,IAAIA,cAAc,CAACC,OAAO,IAAID,cAAc,CAACjD,IAAI,EAAE;UACjDF,aAAa,CAACE,IAAI,GAAGiD,cAAc,CAACjD,IAAG;QACzC,CAAC,MAAM;UACLF,aAAa,CAACG,KAAK,GAAG,YAAW;QACnC;MAEF,CAAC,CAAC,OAAOA,KAAK,EAAE;QACdI,OAAO,CAACJ,KAAK,CAAC,WAAW,EAAEA,KAAK;QAChCH,aAAa,CAACG,KAAK,GAAGA,KAAK,CAACsC,OAAO,IAAI,YAAW;QAClDzC,aAAa,CAACC,IAAI,GAAG,IAAG;QACxBD,aAAa,CAACH,OAAO,GAAG,KAAI;MAC9B,CAAC,SAAS;QACRE,eAAe,CAACqC,IAAI,CAAC,GAAG,KAAI;QAC5BpC,aAAa,CAACH,OAAO,GAAG,KAAI;MAC9B;IACF;;IAEA;IACA,MAAM6C,iBAAiB,GAAIP,QAAQ,IAAK;MACtC,MAAMkB,YAAY,GAAG;QACnB,CAAC,EAAE,uKAAuK;QAC1K,CAAC,EAAE,gKAAgK;QACnK,CAAC,EAAE,qMAAqM;QACxM,CAAC,EAAE,mMAAmM;QACtM,CAAC,EAAE;MACL;MAEA,MAAMC,aAAa,GAAG;QACpB,CAAC,EAAE,0CAA0C;QAC7C,CAAC,EAAE,oCAAoC;QACvC,CAAC,EAAE,uCAAuC;QAC1C,CAAC,EAAE,wCAAwC;QAC3C,CAAC,EAAE;MACL;MAEA,MAAMlB,IAAI,GAAGD,QAAQ,CAACjB,WAAW,IAAIiB,QAAQ,CAAClB,EAAC;MAC/C,OAAO;QACL8B,OAAO,EAAEM,YAAY,CAACjB,IAAI,CAAC,IAAIiB,YAAY,CAAC,CAAC,CAAC;QAC9CJ,gBAAgB,EAAEK,aAAa,CAAClB,IAAI,CAAC,IAAIkB,aAAa,CAAC,CAAC;MAC1D;IACF;;IAEA;IACA,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;MAC/BvD,aAAa,CAACC,IAAI,GAAG,KAAI;MACzBD,aAAa,CAACE,IAAI,GAAG,IAAG;MACxBF,aAAa,CAACG,KAAK,GAAG,IAAG;IAC3B;;IAEA;IACAf,SAAS,CAAC,MAAM;MACdkB,aAAa,CAAC;IAChB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}