{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"leave-approval\"\n};\nconst _hoisted_2 = {\n  class: \"page-header\"\n};\nconst _hoisted_3 = {\n  class: \"card\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"empty\"\n};\nconst _hoisted_5 = {\n  key: 1,\n  class: \"request-list\"\n};\nconst _hoisted_6 = {\n  class: \"req-info\"\n};\nconst _hoisted_7 = {\n  class: \"student\"\n};\nconst _hoisted_8 = {\n  class: \"name\"\n};\nconst _hoisted_9 = {\n  class: \"id\"\n};\nconst _hoisted_10 = {\n  class: \"reason-box\"\n};\nconst _hoisted_11 = {\n  class: \"reason\"\n};\nconst _hoisted_12 = {\n  class: \"time\"\n};\nconst _hoisted_13 = {\n  class: \"req-actions\"\n};\nconst _hoisted_14 = [\"onClick\"];\nconst _hoisted_15 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[0] || (_cache[0] = _createElementVNode(\"h1\", null, \"Leave Approval\", -1 /* CACHED */)), _createElementVNode(\"p\", null, \"Current Course: \" + _toDisplayString($setup.courseName) + \" (Pending: \" + _toDisplayString($setup.requests.length) + \")\", 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_3, [$setup.requests.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, \"üéâ All requests have been processed!\")) : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.requests, req => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: req.id,\n      class: \"req-item\"\n    }, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"span\", _hoisted_8, _toDisplayString(req.studentName), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_9, _toDisplayString(req.studentId), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"span\", {\n      class: _normalizeClass([\"type-tag\", req.type])\n    }, _toDisplayString(req.typeText), 3 /* TEXT, CLASS */), _createElementVNode(\"p\", _hoisted_11, _toDisplayString(req.reason), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_12, \" üïí \" + _toDisplayString(req.startDate) + \" Ëá≥ \" + _toDisplayString(req.endDate) + \" (ÂÖ±\" + _toDisplayString(req.days) + \"Â§©) \", 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"button\", {\n      class: \"btn-approve\",\n      onClick: $event => $setup.handleAction(req.id, 'approve')\n    }, \"Approve\", 8 /* PROPS */, _hoisted_14), _createElementVNode(\"button\", {\n      class: \"btn-reject\",\n      onClick: $event => $setup.handleAction(req.id, 'reject')\n    }, \"Reject\", 8 /* PROPS */, _hoisted_15)])]);\n  }), 128 /* KEYED_FRAGMENT */))]))])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_toDisplayString","$setup","courseName","requests","length","_hoisted_3","_hoisted_4","_hoisted_5","_Fragment","_renderList","req","key","id","_hoisted_6","_hoisted_7","_hoisted_8","studentName","_hoisted_9","studentId","_hoisted_10","_normalizeClass","type","typeText","_hoisted_11","reason","_hoisted_12","startDate","endDate","days","_hoisted_13","onClick","$event","handleAction","_hoisted_14","_hoisted_15"],"sources":["/Users/zhouzhou/Downloads/fronted-fronted_new/883Fronted_Final/src/views/Teacher/Teaching/course/leave/Approval.vue"],"sourcesContent":["<template>\n  <div class=\"leave-approval\">\n    <div class=\"page-header\">\n      <h1>Leave Approval</h1>\n<p>Current Course: {{ courseName }} (Pending: {{ requests.length }})</p>\n    </div>\n\n    <div class=\"card\">\n      <div v-if=\"requests.length === 0\" class=\"empty\">üéâ All requests have been processed!</div>\n\n      <div v-else class=\"request-list\">\n        <div v-for=\"req in requests\" :key=\"req.id\" class=\"req-item\">\n          <div class=\"req-info\">\n            <div class=\"student\">\n              <span class=\"name\">{{ req.studentName }}</span>\n              <span class=\"id\">{{ req.studentId }}</span>\n            </div>\n            <div class=\"reason-box\">\n              <span class=\"type-tag\" :class=\"req.type\">{{ req.typeText }}</span>\n              <p class=\"reason\">{{ req.reason }}</p>\n            </div>\n            <div class=\"time\">\n              üïí {{ req.startDate }} Ëá≥ {{ req.endDate }} (ÂÖ±{{ req.days }}Â§©)\n            </div>\n          </div>\n          <div class=\"req-actions\">\n            <button class=\"btn-approve\" @click=\"handleAction(req.id, 'approve')\">Approve</button>\n        <button class=\"btn-reject\" @click=\"handleAction(req.id, 'reject')\">Reject</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\n\nconst courseName = ref('')\nconst requests = ref([])\n\n// ÂÅáÊï∞ÊçÆ\nconst mockRequests = [\n  { id: 101, studentName: 'Li Ming', studentId: '2023001', type: 'sick', typeText: 'Sick Leave', reason: 'Fever 39¬∞C last night, currently receiving treatment at the school hospital. Attached hospital certificate.', startDate: '2025-11-29', endDate: '2025-11-30', days: 2 },\n      { id: 102, studentName: 'Wang Fang', studentId: '2023003', type: 'event', typeText: 'Personal Leave', reason: 'Elder sister\\'s wedding, need to go home to help.', startDate: '2025-12-01', endDate: '2025-12-03', days: 3 },\n      { id: 103, studentName: 'Zhao Qiang', studentId: '2023004', type: 'sick', typeText: 'Sick Leave', reason: 'Acute gastroenteritis.', startDate: '2025-11-29', endDate: '2025-11-29', days: 1 },\n]\n\nonMounted(async () => {\n  courseName.value = sessionStorage.getItem('selectedCourseName') || 'Modern Cryptography'\n  // ÂêåÊ†∑Â∞ùËØïË∞ÉÊé•Âè£ÔºåÂ§±Ë¥•Áî®ÂÅáÊï∞ÊçÆ\n  try {\n    const res = await fetch('http://127.0.0.1:8081/teacher/leave-requests/pending', {\n      headers: { 'token': localStorage.getItem('token') }\n    })\n    const data = await res.json()\n    if (data.code === 1 && data.data.rows.length > 0) {\n      // ËøôÈáåÂ¶ÇÊûúÁúüÊúâÊï∞ÊçÆÔºåÈúÄË¶ÅÈÄÇÈÖçÂ≠óÊÆµÔºå‰∏∫‰∫Ü‰øùÈô©ÔºåÊºîÁ§∫Êó∂ËøòÊòØÊ∑∑ÂÖ•ÂÅáÊï∞ÊçÆÊØîËæÉÁ®≥\n      // ÁúüÂÆûÊÉÖÂÜµÔºöÂèØ‰ª•ÊääÂêéÁ´ØÊï∞ÊçÆ map ‰∏Ä‰∏ãÂä†ËøõÂéª\n    }\n    requests.value = mockRequests\n  } catch (e) {\n    requests.value = mockRequests\n  }\n})\n\nconst handleAction = (id, type) => {\n  const actionText = type === 'approve' ? 'Approved' : 'Rejected'\n    if (confirm(`Are you sure you want to ${type === 'approve'?'approve':'reject'} this application?`)) {\n    // ËßÜËßâ‰∏äÁßªÈô§ËØ•Êù°ÁõÆ\n    requests.value = requests.value.filter(r => r.id !== id)\n    alert(`${actionText}ÔºÅ`)\n    // ÂèØ‰ª•Âú®ËøôÈáåÂèë‰∏™ÂºÇÊ≠•ËØ∑Ê±ÇÁªôÂêéÁ´ØÔºå‰∏çÁÆ°ÁªìÊûú\n  }\n}\n</script>\n\n<style scoped>\n.leave-approval { padding: 24px; }\n.card { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }\n.empty { text-align: center; color: #999; padding: 40px; }\n\n.req-item { display: flex; justify-content: space-between; align-items: center; padding: 20px; border-bottom: 1px solid #eee; }\n.req-info { flex: 1; }\n\n.student { margin-bottom: 8px; font-weight: bold; }\n.student .id { color: #999; font-weight: normal; margin-left: 8px; font-size: 13px; }\n\n.reason-box { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; }\n.type-tag { padding: 2px 8px; font-size: 12px; border-radius: 4px; }\n.type-tag.sick { background: #fff1f0; color: #ff4d4f; border: 1px solid #ffccc7; }\n.type-tag.event { background: #fff7e6; color: #fa8c16; border: 1px solid #ffd591; }\n.reason { margin: 0; color: #555; }\n\n.time { font-size: 13px; color: #888; }\n\n.req-actions { display: flex; gap: 10px; }\n.btn-approve { background: #2A5CAA; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; }\n.btn-reject { background: white; border: 1px solid #ff4d4f; color: #ff4d4f; padding: 8px 16px; border-radius: 4px; cursor: pointer; }\n.btn-approve:hover { background: #1e4b8b; }\n.btn-reject:hover { background: #fff1f0; }\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAgB;;EACpBA,KAAK,EAAC;AAAa;;EAKnBA,KAAK,EAAC;AAAM;;;EACmBA,KAAK,EAAC;;;;EAE5BA,KAAK,EAAC;;;EAETA,KAAK,EAAC;AAAU;;EACdA,KAAK,EAAC;AAAS;;EACZA,KAAK,EAAC;AAAM;;EACZA,KAAK,EAAC;AAAI;;EAEbA,KAAK,EAAC;AAAY;;EAElBA,KAAK,EAAC;AAAQ;;EAEdA,KAAK,EAAC;AAAM;;EAIdA,KAAK,EAAC;AAAa;;;;uBAxBhCC,mBAAA,CA+BM,OA/BNC,UA+BM,GA9BJC,mBAAA,CAGM,OAHNC,UAGM,G,0BAFJD,mBAAA,CAAuB,YAAnB,gBAAc,qBACxBA,mBAAA,CAAwE,WAArE,kBAAgB,GAAAE,gBAAA,CAAGC,MAAA,CAAAC,UAAU,IAAG,aAAW,GAAAF,gBAAA,CAAGC,MAAA,CAAAE,QAAQ,CAACC,MAAM,IAAG,GAAC,gB,GAGhEN,mBAAA,CAwBM,OAxBNO,UAwBM,GAvBOJ,MAAA,CAAAE,QAAQ,CAACC,MAAM,U,cAA1BR,mBAAA,CAA0F,OAA1FU,UAA0F,EAA1C,sCAAoC,M,cAEpFV,mBAAA,CAoBM,OApBNW,UAoBM,I,kBAnBJX,mBAAA,CAkBMY,SAAA,QAAAC,WAAA,CAlBaR,MAAA,CAAAE,QAAQ,EAAfO,GAAG;yBAAfd,mBAAA,CAkBM;MAlBwBe,GAAG,EAAED,GAAG,CAACE,EAAE;MAAEjB,KAAK,EAAC;QAC/CG,mBAAA,CAYM,OAZNe,UAYM,GAXJf,mBAAA,CAGM,OAHNgB,UAGM,GAFJhB,mBAAA,CAA+C,QAA/CiB,UAA+C,EAAAf,gBAAA,CAAzBU,GAAG,CAACM,WAAW,kBACrClB,mBAAA,CAA2C,QAA3CmB,UAA2C,EAAAjB,gBAAA,CAAvBU,GAAG,CAACQ,SAAS,iB,GAEnCpB,mBAAA,CAGM,OAHNqB,WAGM,GAFJrB,mBAAA,CAAkE;MAA5DH,KAAK,EAAAyB,eAAA,EAAC,UAAU,EAASV,GAAG,CAACW,IAAI;wBAAKX,GAAG,CAACY,QAAQ,yBACxDxB,mBAAA,CAAsC,KAAtCyB,WAAsC,EAAAvB,gBAAA,CAAjBU,GAAG,CAACc,MAAM,iB,GAEjC1B,mBAAA,CAEM,OAFN2B,WAEM,EAFY,MACb,GAAAzB,gBAAA,CAAGU,GAAG,CAACgB,SAAS,IAAG,KAAG,GAAA1B,gBAAA,CAAGU,GAAG,CAACiB,OAAO,IAAG,KAAG,GAAA3B,gBAAA,CAAGU,GAAG,CAACkB,IAAI,IAAG,KAC7D,gB,GAEF9B,mBAAA,CAGM,OAHN+B,WAGM,GAFJ/B,mBAAA,CAAqF;MAA7EH,KAAK,EAAC,aAAa;MAAEmC,OAAK,EAAAC,MAAA,IAAE9B,MAAA,CAAA+B,YAAY,CAACtB,GAAG,CAACE,EAAE;OAAc,SAAO,iBAAAqB,WAAA,GAChFnC,mBAAA,CAAkF;MAA1EH,KAAK,EAAC,YAAY;MAAEmC,OAAK,EAAAC,MAAA,IAAE9B,MAAA,CAAA+B,YAAY,CAACtB,GAAG,CAACE,EAAE;OAAa,QAAM,iBAAAsB,WAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}