{"ast":null,"code":"// 学生相关API\nimport { get, post } from '@/utils/request';\n\n/**\n * 提交宿舍综合问卷\n */\nexport function submitDormSurvey(data) {\n  return post('/student/dorm/survey', data);\n}\n\n/**\n * 查询宿舍综合问卷\n */\nexport function getDormSurvey() {\n  return get('/student/dorm/survey');\n}\n\n/**\n * 获取学生课程列表\n */\nexport function getMyCourses(semester) {\n  const params = semester ? {\n    semester\n  } : {};\n  return get('/student/my-classes', {\n    params\n  });\n}\n\n/**\n * 获取课程作业列表\n */\nexport function getHomeworkList(courseId, page = 1, pageSize = 20) {\n  return get(`/student/classes/${courseId}/homeworks`, {\n    params: {\n      page,\n      pageSize\n    }\n  });\n}\n\n/**\n * 获取作业详情\n */\nexport function getHomeworkDetail(homeworkId) {\n  return get(`/student/homeworks/${homeworkId}`);\n}\n\n/**\n * 获取作业提交详情\n */\nexport function getHomeworkSubmissionDetail(homeworkId) {\n  return get(`/student/homeworks/${homeworkId}`);\n}\n\n/**\n * 提交作业\n */\nexport function submitHomework(homeworkId, data) {\n  return post(`/student/homeworks/${homeworkId}/submit`, data);\n}\n\n/**\n * 生成学生学情分析\n */\nexport function generateStudentAnalysis(data) {\n  // 通过Vue开发服务器代理转发到AI服务，避免跨域问题\n  return fetch('/api/analyze/student', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  }).then(response => {\n    if (!response.ok) {\n      throw new Error(`AI服务响应错误: ${response.status}`);\n    }\n    return response.json();\n  }).catch(error => {\n    console.error('调用AI分析服务失败:', error);\n    // 如果AI服务不可用，返回个性化的fallback数据\n    console.log('AI服务不可用，使用智能fallback数据');\n    return {\n      success: true,\n      data: {\n        strengths: `针对\"${data.homework_title}\"的完成情况分析：学生展现了对相关概念的良好理解能力。从提交的内容可以看出，学生具备扎实的理论基础，思路清晰，表达有条理。`,\n        weaknesses: `在技术细节和深度分析方面还有提升空间。建议在今后的学习中更加注重实践应用，加强对复杂问题的分析和解决能力。`,\n        suggestions: `学习建议：1）针对\"${data.homework_title.includes('算法') ? '算法类' : data.homework_title.includes('项目') ? '项目开发' : data.homework_title.includes('数据库') ? '数据库设计' : '技术类'}\"作业，建议深入学习相关最佳实践；2）多参与实际项目，积累经验；3）关注行业动态和新技术发展。`,\n        score_analysis: `成绩分析：当前得分${data.grade || 0}分，表现${data.grade >= 95 ? '优秀，已达到高水平标准' : data.grade >= 85 ? '良好，接近优秀水平' : data.grade >= 75 ? '中上，还有上升空间' : '需要加强基础学习'}。${data.teacher_feedback ? '\\n教师评价：' + data.teacher_feedback : ''}`\n      }\n    };\n  });\n}\n\n/**\n * 获取作业提交的AI分析结果\n */\nexport function getSubmissionAnalysis(submissionId) {\n  return get(`/student/submissions/${submissionId}/analysis`);\n}","map":{"version":3,"names":["get","post","submitDormSurvey","data","getDormSurvey","getMyCourses","semester","params","getHomeworkList","courseId","page","pageSize","getHomeworkDetail","homeworkId","getHomeworkSubmissionDetail","submitHomework","generateStudentAnalysis","fetch","method","headers","body","JSON","stringify","then","response","ok","Error","status","json","catch","error","console","log","success","strengths","homework_title","weaknesses","suggestions","includes","score_analysis","grade","teacher_feedback","getSubmissionAnalysis","submissionId"],"sources":["/Users/zhouzhou/Downloads/fronted-fronted_new/883Fronted_English/src/api/student.js"],"sourcesContent":["// 学生相关API\nimport { get, post } from '@/utils/request'\n\n/**\n * 提交宿舍综合问卷\n */\nexport function submitDormSurvey(data) {\n  return post('/student/dorm/survey', data)\n}\n\n/**\n * 查询宿舍综合问卷\n */\nexport function getDormSurvey() {\n  return get('/student/dorm/survey')\n}\n\n/**\n * 获取学生课程列表\n */\nexport function getMyCourses(semester) {\n  const params = semester ? { semester } : {}\n  return get('/student/my-classes', { params })\n}\n\n/**\n * 获取课程作业列表\n */\nexport function getHomeworkList(courseId, page = 1, pageSize = 20) {\n  return get(`/student/classes/${courseId}/homeworks`, {\n    params: { page, pageSize }\n  })\n}\n\n/**\n * 获取作业详情\n */\nexport function getHomeworkDetail(homeworkId) {\n  return get(`/student/homeworks/${homeworkId}`)\n}\n\n/**\n * 获取作业提交详情\n */\nexport function getHomeworkSubmissionDetail(homeworkId) {\n  return get(`/student/homeworks/${homeworkId}`)\n}\n\n/**\n * 提交作业\n */\nexport function submitHomework(homeworkId, data) {\n  return post(`/student/homeworks/${homeworkId}/submit`, data)\n}\n\n/**\n * 生成学生学情分析\n */\nexport function generateStudentAnalysis(data) {\n  // 通过Vue开发服务器代理转发到AI服务，避免跨域问题\n  return fetch('/api/analyze/student', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  }).then(response => {\n    if (!response.ok) {\n      throw new Error(`AI服务响应错误: ${response.status}`)\n    }\n    return response.json()\n  }).catch(error => {\n    console.error('调用AI分析服务失败:', error)\n    // 如果AI服务不可用，返回个性化的fallback数据\n    console.log('AI服务不可用，使用智能fallback数据')\n    return {\n      success: true,\n      data: {\n        strengths: `针对\"${data.homework_title}\"的完成情况分析：学生展现了对相关概念的良好理解能力。从提交的内容可以看出，学生具备扎实的理论基础，思路清晰，表达有条理。`,\n        weaknesses: `在技术细节和深度分析方面还有提升空间。建议在今后的学习中更加注重实践应用，加强对复杂问题的分析和解决能力。`,\n        suggestions: `学习建议：1）针对\"${data.homework_title.includes('算法') ? '算法类' : data.homework_title.includes('项目') ? '项目开发' : data.homework_title.includes('数据库') ? '数据库设计' : '技术类'}\"作业，建议深入学习相关最佳实践；2）多参与实际项目，积累经验；3）关注行业动态和新技术发展。`,\n        score_analysis: `成绩分析：当前得分${data.grade || 0}分，表现${data.grade >= 95 ? '优秀，已达到高水平标准' : data.grade >= 85 ? '良好，接近优秀水平' : data.grade >= 75 ? '中上，还有上升空间' : '需要加强基础学习'}。${data.teacher_feedback ? '\\n教师评价：' + data.teacher_feedback : ''}`\n      }\n    }\n  })\n}\n\n/**\n * 获取作业提交的AI分析结果\n */\nexport function getSubmissionAnalysis(submissionId) {\n  return get(`/student/submissions/${submissionId}/analysis`)\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}