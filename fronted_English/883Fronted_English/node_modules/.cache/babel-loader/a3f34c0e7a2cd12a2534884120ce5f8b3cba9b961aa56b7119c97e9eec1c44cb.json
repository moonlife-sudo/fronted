{"ast":null,"code":"import { getCurrentInstance, inject, ref } from 'vue';\nimport { isNull } from 'lodash-unified';\nimport { TABLE_INJECTION_KEY } from '../tokens.mjs';\nimport { isClient } from '@vueuse/core';\nimport { addClass, hasClass, removeClass } from '../../../../utils/dom/style.mjs';\nimport { isElement } from '../../../../utils/types.mjs';\nfunction useEvent(props, emit) {\n  const instance = getCurrentInstance();\n  const parent = inject(TABLE_INJECTION_KEY);\n  const handleFilterClick = event => {\n    event.stopPropagation();\n    return;\n  };\n  const handleHeaderClick = (event, column) => {\n    if (!column.filters && column.sortable) {\n      handleSortClick(event, column, false);\n    } else if (column.filterable && !column.sortable) {\n      handleFilterClick(event);\n    }\n    parent == null ? void 0 : parent.emit(\"header-click\", column, event);\n  };\n  const handleHeaderContextMenu = (event, column) => {\n    parent == null ? void 0 : parent.emit(\"header-contextmenu\", column, event);\n  };\n  const draggingColumn = ref(null);\n  const dragging = ref(false);\n  const dragState = ref();\n  const handleMouseDown = (event, column) => {\n    var _a, _b;\n    if (!isClient) return;\n    if (column.children && column.children.length > 0) return;\n    if (draggingColumn.value && props.border && draggingColumn.value.id === column.id) {\n      dragging.value = true;\n      const table = parent;\n      emit(\"set-drag-visible\", true);\n      const tableEl = table == null ? void 0 : table.vnode.el;\n      const tableLeft = tableEl == null ? void 0 : tableEl.getBoundingClientRect().left;\n      const columnEl = (_b = (_a = instance == null ? void 0 : instance.vnode) == null ? void 0 : _a.el) == null ? void 0 : _b.querySelector(`th.${column.id}`);\n      const columnRect = columnEl.getBoundingClientRect();\n      const minLeft = columnRect.left - tableLeft + 30;\n      addClass(columnEl, \"noclick\");\n      dragState.value = {\n        startMouseLeft: event.clientX,\n        startLeft: columnRect.right - tableLeft,\n        startColumnLeft: columnRect.left - tableLeft,\n        tableLeft\n      };\n      const resizeProxy = table == null ? void 0 : table.refs.resizeProxy;\n      resizeProxy.style.left = `${dragState.value.startLeft}px`;\n      document.onselectstart = function () {\n        return false;\n      };\n      document.ondragstart = function () {\n        return false;\n      };\n      const handleMouseMove2 = event2 => {\n        const deltaLeft = event2.clientX - dragState.value.startMouseLeft;\n        const proxyLeft = dragState.value.startLeft + deltaLeft;\n        resizeProxy.style.left = `${Math.max(minLeft, proxyLeft)}px`;\n      };\n      const handleMouseUp = () => {\n        if (dragging.value) {\n          const {\n            startColumnLeft,\n            startLeft\n          } = dragState.value;\n          const finalLeft = Number.parseInt(resizeProxy.style.left, 10);\n          const columnWidth = finalLeft - startColumnLeft;\n          column.width = column.realWidth = columnWidth;\n          table == null ? void 0 : table.emit(\"header-dragend\", column.width, startLeft - startColumnLeft, column, event);\n          requestAnimationFrame(() => {\n            props.store.scheduleLayout(false, true);\n          });\n          document.body.style.cursor = \"\";\n          dragging.value = false;\n          draggingColumn.value = null;\n          dragState.value = void 0;\n          emit(\"set-drag-visible\", false);\n        }\n        document.removeEventListener(\"mousemove\", handleMouseMove2);\n        document.removeEventListener(\"mouseup\", handleMouseUp);\n        document.onselectstart = null;\n        document.ondragstart = null;\n        setTimeout(() => {\n          removeClass(columnEl, \"noclick\");\n        }, 0);\n      };\n      document.addEventListener(\"mousemove\", handleMouseMove2);\n      document.addEventListener(\"mouseup\", handleMouseUp);\n    }\n  };\n  const handleMouseMove = (event, column) => {\n    var _a;\n    if (!props.border || column.children && column.children.length > 0) return;\n    const el = event.target;\n    const target = isElement(el) ? el.closest(\"th\") : null;\n    if (!target) {\n      return;\n    }\n    const isSortable = hasClass(target, \"is-sortable\");\n    if (isSortable) {\n      const cursor2 = dragging.value ? \"col-resize\" : \"\";\n      target.style.cursor = cursor2;\n      const caret = target.querySelector(\".caret-wrapper\");\n      if (caret) {\n        caret.style.cursor = cursor2;\n      }\n    }\n    if (!column.resizable || dragging.value) {\n      draggingColumn.value = null;\n      return;\n    }\n    const rect = target.getBoundingClientRect();\n    const isLastTh = ((_a = target.parentNode) == null ? void 0 : _a.lastElementChild) === target;\n    const allowDrag = props.allowDragLastColumn || !isLastTh;\n    const isResizeHandleActive = rect.width > 12 && rect.right - event.clientX < 8 && allowDrag;\n    const cursor = isResizeHandleActive ? \"col-resize\" : \"\";\n    document.body.style.cursor = cursor;\n    draggingColumn.value = isResizeHandleActive ? column : null;\n    if (isSortable) {\n      target.style.cursor = cursor;\n    }\n  };\n  const handleMouseOut = () => {\n    if (!isClient || dragging.value) return;\n    document.body.style.cursor = \"\";\n  };\n  const toggleOrder = ({\n    order,\n    sortOrders\n  }) => {\n    if (order === \"\") return sortOrders[0];\n    const index = sortOrders.indexOf(order || null);\n    return sortOrders[index > sortOrders.length - 2 ? 0 : index + 1];\n  };\n  const handleSortClick = (event, column, givenOrder) => {\n    var _a;\n    event.stopPropagation();\n    const order = column.order === givenOrder ? null : givenOrder || toggleOrder(column);\n    const target = (_a = event.target) == null ? void 0 : _a.closest(\"th\");\n    if (target) {\n      if (hasClass(target, \"noclick\")) {\n        removeClass(target, \"noclick\");\n        return;\n      }\n    }\n    if (!column.sortable) return;\n    const clickTarget = event.currentTarget;\n    if ([\"ascending\", \"descending\"].some(str => hasClass(clickTarget, str) && !column.sortOrders.includes(str))) {\n      return;\n    }\n    const states = props.store.states;\n    let sortProp = states.sortProp.value;\n    let sortOrder;\n    const sortingColumn = states.sortingColumn.value;\n    if (sortingColumn !== column || sortingColumn === column && isNull(sortingColumn.order)) {\n      if (sortingColumn) {\n        sortingColumn.order = null;\n      }\n      states.sortingColumn.value = column;\n      sortProp = column.property;\n    }\n    if (!order) {\n      sortOrder = column.order = null;\n    } else {\n      sortOrder = column.order = order;\n    }\n    states.sortProp.value = sortProp;\n    states.sortOrder.value = sortOrder;\n    parent == null ? void 0 : parent.store.commit(\"changeSortCondition\");\n  };\n  return {\n    handleHeaderClick,\n    handleHeaderContextMenu,\n    handleMouseDown,\n    handleMouseMove,\n    handleMouseOut,\n    handleSortClick,\n    handleFilterClick\n  };\n}\nexport { useEvent as default };","map":{"version":3,"names":["useEvent","props","emit","instance","getCurrentInstance","parent","inject","TABLE_INJECTION_KEY","handleFilterClick","event","stopPropagation","handleHeaderClick","column","filters","sortable","handleSortClick","filterable","handleHeaderContextMenu","draggingColumn","ref","dragging","dragState","handleMouseDown","_a","_b","isClient","children","length","value","border","id","table","tableEl","vnode","el","tableLeft","getBoundingClientRect","left","columnEl","querySelector","columnRect","minLeft","addClass","startMouseLeft","clientX","startLeft","right","startColumnLeft","resizeProxy","refs","style","document","onselectstart","ondragstart","handleMouseMove2","event2","deltaLeft","proxyLeft","Math","max","handleMouseUp","finalLeft","Number","parseInt","columnWidth","width","realWidth","requestAnimationFrame","store","scheduleLayout","body","cursor","removeEventListener","setTimeout","removeClass","addEventListener","handleMouseMove","target","isElement","closest","isSortable","hasClass","cursor2","caret","resizable","rect","isLastTh","parentNode","lastElementChild","allowDrag","allowDragLastColumn","isResizeHandleActive","handleMouseOut","toggleOrder","order","sortOrders","index","indexOf","givenOrder","clickTarget","currentTarget","some","str","includes","states","sortProp","sortOrder","sortingColumn","isNull","property","commit"],"sources":["../../../../../../../packages/components/table/src/table-header/event-helper.ts"],"sourcesContent":["import { getCurrentInstance, inject, ref } from 'vue'\nimport { isNull } from 'lodash-unified'\nimport {\n  addClass,\n  hasClass,\n  isClient,\n  isElement,\n  removeClass,\n} from '@element-plus/utils'\nimport { TABLE_INJECTION_KEY } from '../tokens'\n\nimport type { EmitFn } from '@element-plus/utils'\nimport type { TableHeaderProps } from '.'\nimport type { TableColumnCtx } from '../table-column/defaults'\nimport type { DefaultRow, TableSortOrder } from '../table/defaults'\n\nfunction useEvent<T extends DefaultRow>(\n  props: TableHeaderProps<T>,\n  emit: EmitFn<string[]>\n) {\n  const instance = getCurrentInstance()\n  const parent = inject(TABLE_INJECTION_KEY)\n  const handleFilterClick = (event: Event) => {\n    event.stopPropagation()\n    return\n  }\n\n  const handleHeaderClick = (event: Event, column: TableColumnCtx<T>) => {\n    if (!column.filters && column.sortable) {\n      handleSortClick(event, column, false)\n    } else if (column.filterable && !column.sortable) {\n      handleFilterClick(event)\n    }\n    parent?.emit('header-click', column, event)\n  }\n\n  const handleHeaderContextMenu = (event: Event, column: TableColumnCtx<T>) => {\n    parent?.emit('header-contextmenu', column, event)\n  }\n  const draggingColumn = ref<TableColumnCtx<T> | null>(null)\n  const dragging = ref(false)\n  const dragState = ref<{\n    startMouseLeft: number\n    startLeft: number\n    startColumnLeft: number\n    tableLeft: number\n  }>()\n  const handleMouseDown = (event: MouseEvent, column: TableColumnCtx<T>) => {\n    if (!isClient) return\n    if (column.children && column.children.length > 0) return\n    /* istanbul ignore if */\n    if (\n      draggingColumn.value &&\n      props.border &&\n      draggingColumn.value.id === column.id\n    ) {\n      dragging.value = true\n\n      const table = parent\n      emit('set-drag-visible', true)\n      const tableEl = table?.vnode.el\n      const tableLeft = tableEl?.getBoundingClientRect().left\n      const columnEl = instance?.vnode?.el?.querySelector(`th.${column.id}`)\n      const columnRect = columnEl.getBoundingClientRect()\n      const minLeft = columnRect.left - tableLeft + 30\n\n      addClass(columnEl, 'noclick')\n\n      dragState.value = {\n        startMouseLeft: event.clientX,\n        startLeft: columnRect.right - tableLeft,\n        startColumnLeft: columnRect.left - tableLeft,\n        tableLeft,\n      }\n      const resizeProxy = table?.refs.resizeProxy as HTMLElement\n      resizeProxy.style.left = `${(dragState.value as any).startLeft}px`\n\n      document.onselectstart = function () {\n        return false\n      }\n      document.ondragstart = function () {\n        return false\n      }\n\n      const handleMouseMove = (event: MouseEvent) => {\n        const deltaLeft =\n          event.clientX - (dragState.value as any).startMouseLeft\n        const proxyLeft = (dragState.value as any).startLeft + deltaLeft\n\n        resizeProxy.style.left = `${Math.max(minLeft, proxyLeft)}px`\n      }\n\n      const handleMouseUp = () => {\n        if (dragging.value) {\n          const { startColumnLeft, startLeft } = dragState.value as any\n          const finalLeft = Number.parseInt(resizeProxy.style.left, 10)\n          const columnWidth = finalLeft - startColumnLeft\n          column.width = column.realWidth = columnWidth\n          table?.emit(\n            'header-dragend',\n            column.width,\n            startLeft - startColumnLeft,\n            column,\n            event\n          )\n          requestAnimationFrame(() => {\n            props.store.scheduleLayout(false, true)\n          })\n          document.body.style.cursor = ''\n          dragging.value = false\n          draggingColumn.value = null\n          dragState.value = undefined\n          emit('set-drag-visible', false)\n        }\n\n        document.removeEventListener('mousemove', handleMouseMove)\n        document.removeEventListener('mouseup', handleMouseUp)\n        document.onselectstart = null\n        document.ondragstart = null\n\n        setTimeout(() => {\n          removeClass(columnEl, 'noclick')\n        }, 0)\n      }\n\n      document.addEventListener('mousemove', handleMouseMove)\n      document.addEventListener('mouseup', handleMouseUp)\n    }\n  }\n\n  const handleMouseMove = (event: MouseEvent, column: TableColumnCtx<T>) => {\n    if (!props.border || (column.children && column.children.length > 0)) return\n    const el = event.target as HTMLElement\n    const target = isElement(el) ? el.closest('th') : null\n    if (!target) {\n      return\n    }\n\n    const isSortable = hasClass(target, 'is-sortable')\n\n    if (isSortable) {\n      const cursor = dragging.value ? 'col-resize' : ''\n      target.style.cursor = cursor\n\n      const caret = target.querySelector<HTMLElement>('.caret-wrapper')\n      if (caret) {\n        caret.style.cursor = cursor\n      }\n    }\n\n    if (!column.resizable || dragging.value) {\n      draggingColumn.value = null\n      return\n    }\n\n    const rect = target.getBoundingClientRect()\n    const isLastTh = target.parentNode?.lastElementChild === target\n    const allowDrag = props.allowDragLastColumn || !isLastTh\n    const isResizeHandleActive =\n      rect.width > 12 && rect.right - event.clientX < 8 && allowDrag\n    const cursor = isResizeHandleActive ? 'col-resize' : ''\n\n    document.body.style.cursor = cursor\n    draggingColumn.value = isResizeHandleActive ? (column as any) : null\n    if (isSortable) {\n      target.style.cursor = cursor\n    }\n  }\n\n  const handleMouseOut = () => {\n    if (!isClient || dragging.value) return\n    document.body.style.cursor = ''\n  }\n  const toggleOrder = ({ order, sortOrders }: TableColumnCtx<T>) => {\n    if ((order as string) === '') return sortOrders[0]\n    const index = sortOrders.indexOf(order || null)\n    return sortOrders[index > sortOrders.length - 2 ? 0 : index + 1]\n  }\n  const handleSortClick = (\n    event: Event,\n    column: TableColumnCtx<T>,\n    givenOrder?: TableSortOrder | boolean\n  ) => {\n    event.stopPropagation()\n    const order = (\n      column.order === givenOrder ? null : givenOrder || toggleOrder(column)\n    ) as TableSortOrder | null\n    const target = (event.target as HTMLElement)?.closest('th')\n\n    if (target) {\n      if (hasClass(target, 'noclick')) {\n        removeClass(target, 'noclick')\n        return\n      }\n    }\n\n    if (!column.sortable) return\n\n    const clickTarget = event.currentTarget\n\n    if (\n      ['ascending', 'descending'].some(\n        (str) =>\n          hasClass(clickTarget as Element, str) &&\n          !column.sortOrders.includes(str as TableSortOrder)\n      )\n    ) {\n      return\n    }\n\n    const states = props.store.states\n    let sortProp = states.sortProp.value\n    let sortOrder\n    const sortingColumn = states.sortingColumn.value\n\n    if (\n      sortingColumn !== column ||\n      (sortingColumn === column && isNull(sortingColumn.order))\n    ) {\n      if (sortingColumn) {\n        sortingColumn.order = null\n      }\n      states.sortingColumn.value = column\n      sortProp = column.property\n    }\n    if (!order) {\n      sortOrder = column.order = null\n    } else {\n      sortOrder = column.order = order\n    }\n\n    states.sortProp.value = sortProp\n    states.sortOrder.value = sortOrder\n\n    parent?.store.commit('changeSortCondition')\n  }\n\n  return {\n    handleHeaderClick,\n    handleHeaderContextMenu,\n    handleMouseDown,\n    handleMouseMove,\n    handleMouseOut,\n    handleSortClick,\n    handleFilterClick,\n  }\n}\n\nexport default useEvent\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}