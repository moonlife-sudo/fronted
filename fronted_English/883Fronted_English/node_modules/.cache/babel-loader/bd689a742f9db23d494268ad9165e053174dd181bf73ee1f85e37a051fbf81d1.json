{"ast":null,"code":"import { ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { getMyCourses } from '@/api/student';\nexport default /*@__PURE__*/Object.assign({\n  name: 'StudentTeachingIndex'\n}, {\n  __name: 'StuTeaching_Index',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const loading = ref(false);\n    const courses = ref([]);\n    const totalCourses = ref(0);\n    const getCourseColor = id => {\n      const colors = ['#5C6BC0', '#42A5F5', '#66BB6A', '#FFA726', '#EF5350', '#AB47BC'];\n      return colors[id % colors.length];\n    };\n\n    // Load student course list\n    const loadMyCourses = async () => {\n      loading.value = true;\n      try {\n        console.log('Getting student course list...');\n        const result = await getMyCourses();\n        console.log('Course list API response:', result);\n        if (result.code === 1 && result.data) {\n          courses.value = result.data;\n          totalCourses.value = result.data.length;\n        } else {\n          console.warn('Failed to get course list:', result.msg);\n          // Use fallback data\n          courses.value = getFallbackCourses();\n          totalCourses.value = courses.value.length;\n        }\n      } catch (error) {\n        console.error('Failed to get course list:', error);\n        // Use fallback data\n        courses.value = getFallbackCourses();\n        totalCourses.value = courses.value.length;\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    // Ëé∑ÂèñfallbackËØæÁ®ãÊï∞ÊçÆ\n    const getFallbackCourses = () => [{\n      class_id: 1,\n      id: 1,\n      code: 'CS101',\n      course_code: 'CS101',\n      course_name: 'Introduction to Computer Science',\n      name: 'Introduction to Computer Science',\n      teacher_name: 'Professor Zhang',\n      teacher: 'Professor Zhang',\n      semester: '2024 Spring',\n      location: 'Teaching Building A-101',\n      classroom: 'Teaching Building A-101'\n    }, {\n      class_id: 2,\n      id: 2,\n      code: 'CS201',\n      course_code: 'CS201',\n      course_name: 'Data Structures and Algorithms',\n      name: 'Data Structures and Algorithms',\n      teacher_name: 'Dr. Li',\n      teacher: 'Dr. Li',\n      semester: '2024 Spring',\n      location: 'Lab Building B-202',\n      classroom: 'Lab Building B-202'\n    }, {\n      class_id: 3,\n      id: 3,\n      code: 'CS301',\n      course_code: 'CS301',\n      course_name: 'Web Development Technology',\n      name: 'Web Development Technology',\n      teacher_name: 'Mr. Wang',\n      teacher: 'Mr. Wang',\n      semester: '2024 Spring',\n      location: 'Computer Room C-301',\n      classroom: 'Computer Room C-301'\n    }, {\n      class_id: 4,\n      id: 4,\n      code: 'CS401',\n      course_code: 'CS401',\n      course_name: 'Software Engineering',\n      name: 'Software Engineering',\n      teacher_name: 'Associate Professor Zhao',\n      teacher: 'Associate Professor Zhao',\n      semester: '2024 Spring',\n      location: 'Multimedia Classroom D-401',\n      classroom: 'Multimedia Classroom D-401'\n    }];\n    const enterCourse = course => {\n      // ‰øùÂ≠òÂΩìÂâçËØæÁ®ã‰ø°ÊÅØÂà∞localStorageÔºàÂ¶ÇÊûúÈúÄË¶ÅÁöÑËØùÔºâ\n      localStorage.setItem('currentClassId', (course.class_id || course.id).toString());\n      localStorage.setItem('currentCourseName', course.course_name || course.name);\n      localStorage.setItem('currentTeacherName', course.teacher_name || course.teacher);\n\n      // Ë∑≥ËΩ¨Âà∞ËØæÁ®ãËØ¶ÊÉÖÈ°µ\n      router.push(`/student/course/${course.class_id || course.id}/attendance/index`);\n    };\n    onMounted(() => {\n      loadMyCourses();\n    });\n    const __returned__ = {\n      router,\n      loading,\n      courses,\n      totalCourses,\n      getCourseColor,\n      loadMyCourses,\n      getFallbackCourses,\n      enterCourse,\n      ref,\n      onMounted,\n      get useRouter() {\n        return useRouter;\n      },\n      get getMyCourses() {\n        return getMyCourses;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n});","map":{"version":3,"names":["ref","onMounted","useRouter","getMyCourses","router","loading","courses","totalCourses","getCourseColor","id","colors","length","loadMyCourses","value","console","log","result","code","data","warn","msg","getFallbackCourses","error","class_id","course_code","course_name","name","teacher_name","teacher","semester","location","classroom","enterCourse","course","localStorage","setItem","toString","push"],"sources":["/Users/zhouzhou/Downloads/fronted-fronted_new/883Fronted_English/src/views/Student/Teaching/StuTeaching_Index.vue"],"sourcesContent":["<template>\n  <div class=\"student-dashboard\">\n    <div class=\"page-header\">\n      <div class=\"header-content\">\n        <h1>My Courses</h1>\n        <p v-if=\"!loading\">{{ totalCourses }} courses this semester</p>\n        <p v-else>Loading...</p>\n      </div>\n    </div>\n\n    <!-- Loading state -->\n    <div v-if=\"loading\" class=\"loading-state\">\n      <i class=\"bi bi-arrow-clockwise spinner\"></i>\n      <span>Loading course list...</span>\n    </div>\n\n    <!-- ËØæÁ®ãÁΩëÊ†º -->\n    <div v-else-if=\"courses.length > 0\" class=\"course-grid\">\n      <div v-for=\"course in courses\" :key=\"course.class_id || course.id\" class=\"course-card\" @click=\"enterCourse(course)\">\n        <div class=\"card-cover\" :style=\"{ backgroundColor: getCourseColor(course.class_id || course.id) }\">\n          <span class=\"semester-tag\">{{ course.semester || '2025 Fall' }}</span>\n          <span class=\"course-code\">{{ course.code || course.course_code || 'N/A' }}</span>\n        </div>\n        <div class=\"card-content\">\n          <h3 class=\"course-title\">{{ course.course_name || course.name }}</h3>\n          <div class=\"course-meta\">\n            <div class=\"meta-item\">\n              <i class=\"icon\">üë®‚Äçüè´</i> <span>{{ course.teacher_name || course.teacher || 'Unassigned' }}</span>\n            </div>\n            <div class=\"meta-item\">\n              <i class=\"icon\">üìç</i> <span>{{ course.location || course.classroom || 'To be arranged' }}</span>\n            </div>\n          </div>\n          <button class=\"enter-btn\">Enter Course</button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Empty state -->\n    <div v-else class=\"empty-state\">\n      <i class=\"bi bi-book\"></i>\n      <h3>No Courses</h3>\n      <p>You haven't selected any courses this semester</p>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { getMyCourses } from '@/api/student'\n\ndefineOptions({ name: 'StudentTeachingIndex' })\nconst router = useRouter()\n\nconst loading = ref(false)\nconst courses = ref([])\nconst totalCourses = ref(0)\n\nconst getCourseColor = (id) => {\n  const colors = ['#5C6BC0', '#42A5F5', '#66BB6A', '#FFA726', '#EF5350', '#AB47BC']\n  return colors[(id % colors.length)]\n}\n\n// Load student course list\nconst loadMyCourses = async () => {\n  loading.value = true\n  try {\n    console.log('Getting student course list...')\n    const result = await getMyCourses()\n    console.log('Course list API response:', result)\n    \n    if (result.code === 1 && result.data) {\n      courses.value = result.data\n      totalCourses.value = result.data.length\n    } else {\n      console.warn('Failed to get course list:', result.msg)\n      // Use fallback data\n      courses.value = getFallbackCourses()\n      totalCourses.value = courses.value.length\n    }\n  } catch (error) {\n      console.error('Failed to get course list:', error)\n      // Use fallback data\n      courses.value = getFallbackCourses()\n      totalCourses.value = courses.value.length\n    } finally {\n    loading.value = false\n  }\n}\n\n// Ëé∑ÂèñfallbackËØæÁ®ãÊï∞ÊçÆ\nconst getFallbackCourses = () => [\n  {\n    class_id: 1,\n    id: 1,\n    code: 'CS101',\n    course_code: 'CS101',\n    course_name: 'Introduction to Computer Science',\n    name: 'Introduction to Computer Science',\n    teacher_name: 'Professor Zhang',\n    teacher: 'Professor Zhang',\n    semester: '2024 Spring',\n    location: 'Teaching Building A-101',\n    classroom: 'Teaching Building A-101'\n  },\n  {\n    class_id: 2, \n    id: 2,\n    code: 'CS201',\n    course_code: 'CS201',\n    course_name: 'Data Structures and Algorithms',\n    name: 'Data Structures and Algorithms',\n    teacher_name: 'Dr. Li',\n    teacher: 'Dr. Li',\n    semester: '2024 Spring',\n    location: 'Lab Building B-202',\n    classroom: 'Lab Building B-202'\n  },\n  {\n    class_id: 3,\n    id: 3,\n    code: 'CS301',\n    course_code: 'CS301',\n    course_name: 'Web Development Technology',\n    name: 'Web Development Technology',\n    teacher_name: 'Mr. Wang',\n    teacher: 'Mr. Wang',\n    semester: '2024 Spring',\n    location: 'Computer Room C-301',\n    classroom: 'Computer Room C-301'\n  },\n  {\n    class_id: 4,\n    id: 4,\n    code: 'CS401',\n    course_code: 'CS401',\n    course_name: 'Software Engineering',\n    name: 'Software Engineering',\n    teacher_name: 'Associate Professor Zhao',\n    teacher: 'Associate Professor Zhao',\n    semester: '2024 Spring',\n    location: 'Multimedia Classroom D-401',\n    classroom: 'Multimedia Classroom D-401'\n  }\n]\n\nconst enterCourse = (course) => {\n  // ‰øùÂ≠òÂΩìÂâçËØæÁ®ã‰ø°ÊÅØÂà∞localStorageÔºàÂ¶ÇÊûúÈúÄË¶ÅÁöÑËØùÔºâ\n  localStorage.setItem('currentClassId', (course.class_id || course.id).toString())\n  localStorage.setItem('currentCourseName', course.course_name || course.name)\n  localStorage.setItem('currentTeacherName', course.teacher_name || course.teacher)\n  \n  // Ë∑≥ËΩ¨Âà∞ËØæÁ®ãËØ¶ÊÉÖÈ°µ\n  router.push(`/student/course/${course.class_id || course.id}/attendance/index`)\n}\n\nonMounted(() => {\n  loadMyCourses()\n})\n</script>\n\n<style scoped>\n.student-dashboard { padding: 24px; max-inline-size: 1400px; margin: 0 auto; }\n.page-header { margin-block-end: 32px; }\n.page-header h1 { font-size: 28px; color: #333; margin: 0 0 8px 0; }\n.page-header p { color: #666; }\n\n.loading-state, .empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 60px 20px;\n  color: #666;\n}\n\n.loading-state i, .empty-state i {\n  font-size: 48px;\n  margin-block-end: 15px;\n  color: #999;\n}\n\n.empty-state h3 {\n  margin: 10px 0;\n  color: #333;\n  font-size: 18px;\n}\n\n.spinner {\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n.course-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 24px; }\n\n.course-card {\n  background: #fff; border-radius: 12px; overflow: hidden;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05); cursor: pointer;\n  transition: transform 0.2s, box-shadow 0.2s; border: 1px solid #eee;\n}\n.course-card:hover { transform: translateY(-4px); box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1); }\n\n.card-cover {\n  block-size: 120px; padding: 16px; display: flex; flex-direction: column; justify-content: space-between; align-items: flex-start;\n}\n.semester-tag {\n  background: rgba(0, 0, 0, 0.2); color: #fff; padding: 4px 8px;\n  border-radius: 4px; font-size: 12px; backdrop-filter: blur(4px);\n}\n.course-code { color: rgba(255,255,255,0.9); font-size: 14px; font-weight: 500; }\n\n.card-content { padding: 20px; }\n.course-title { font-size: 18px; font-weight: 600; color: #333; margin: 0 0 16px 0; line-height: 1.4; }\n\n.course-meta { display: flex; justify-content: space-between; margin-block-end: 20px; color: #666; font-size: 14px; }\n.meta-item { display: flex; align-items: center; gap: 6px; }\n.icon { font-style: normal; }\n\n.enter-btn {\n  inline-size: 100%; padding: 10px; background: transparent; border: 1px solid #2A5CAA;\n  color: #2A5CAA; border-radius: 6px; font-weight: 500; transition: all 0.2s;\n}\n.course-card:hover .enter-btn { background: #2A5CAA; color: #fff; }\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}