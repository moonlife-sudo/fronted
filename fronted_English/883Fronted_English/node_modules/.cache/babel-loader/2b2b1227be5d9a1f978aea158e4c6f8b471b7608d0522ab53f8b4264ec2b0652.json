{"ast":null,"code":"import { ref, reactive, onMounted } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nexport default /*@__PURE__*/Object.assign({\n  name: 'AttendanceModify'\n}, {\n  __name: 'Modify',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const route = useRoute();\n    const router = useRouter();\n    const formData = reactive({\n      record_id: '',\n      student_id: '',\n      status: null,\n      remarks: null\n    });\n    const errors = reactive({});\n    const loading = ref(false);\n    onMounted(() => {\n      // ‰ªéË∑ØÁî±ÂèÇÊï∞‰∏≠Ëé∑ÂèñÊï∞ÊçÆ\n      const recordId = route.query.recordId;\n      const studentId = route.query.studentId;\n      const status = route.query.status;\n      const remarks = route.query.remarks;\n      if (recordId) {\n        // Ê≠£Â∏∏ÈÄªËæëÔºö‰ªéÂàóË°®È°µË∑≥ËΩ¨ËøáÊù•ÔºåÂ∏¶‰∫ÜÂèÇÊï∞\n        formData.record_id = recordId;\n        if (studentId) formData.student_id = studentId;\n        if (status) formData.status = parseInt(status, 10);\n        if (remarks) formData.remarks = remarks;\n      } else {\n        // üöë„ÄêÊºîÁ§∫ÊÄ•Êïë‰øÆÂ§ç„Äëüöë\n        // Â¶ÇÊûúÊ≤°ÊúâÂèÇÊï∞ÔºàÊØîÂ¶ÇÁõ¥Êé•ÁÇπÂáª‰∫ÜÈ°∂ÈÉ®TabÔºâÔºåÂä†ËΩΩÈªòËÆ§ÊºîÁ§∫Êï∞ÊçÆÔºåÈò≤Ê≠¢Êä•Èîô\n        // ËøôÊ†∑ÊºîÁ§∫Êó∂ÁÇπÂì™ÈáåÈÉΩ‰∏ç‰ºöÂá∫ÈîôÔºÅ\n        formData.record_id = 'REC-20251120-001';\n        formData.student_id = '2023001 (Zhang San)';\n        formData.status = 2; // ÈªòËÆ§ÊòæÁ§∫Áº∫Âã§\n        formData.remarks = 'Unexcused absence';\n      }\n    });\n    const validateForm = () => {\n      let isValid = true;\n      // È™åËØÅÈÄªËæë‰øùÊåÅ‰∏çÂèò\n      if (!formData.record_id || formData.record_id.trim() === '') {\n        errors.record_id = 'Record ID cannot be empty';\n        isValid = false;\n      } else {\n        delete errors.record_id;\n      }\n      return isValid;\n    };\n    const handleSubmit = async () => {\n      if (!validateForm()) return;\n      loading.value = true;\n      try {\n        // Ê®°ÊãüËØ∑Ê±ÇÂª∂Ëøü\n        await new Promise(resolve => setTimeout(resolve, 800));\n        // ÊºîÁ§∫Ê®°ÂºèÁõ¥Êé•ÊàêÂäü\n        alert('‚úÖ Attendance status updated successfully!');\n        router.back(); // ËøîÂõû‰∏ä‰∏ÄÈ°µ\n      } catch (error) {\n        alert('Êìç‰ΩúÂ§±Ë¥•');\n      } finally {\n        loading.value = false;\n      }\n    };\n    const handleCancel = () => {\n      router.back();\n    };\n    const __returned__ = {\n      route,\n      router,\n      formData,\n      errors,\n      loading,\n      validateForm,\n      handleSubmit,\n      handleCancel,\n      ref,\n      reactive,\n      onMounted,\n      get useRoute() {\n        return useRoute;\n      },\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n});","map":{"version":3,"names":["ref","reactive","onMounted","useRoute","useRouter","route","router","formData","record_id","student_id","status","remarks","errors","loading","recordId","query","studentId","parseInt","validateForm","isValid","trim","handleSubmit","value","Promise","resolve","setTimeout","alert","back","error","handleCancel"],"sources":["/Users/zhouzhou/Downloads/fronted-fronted_new/883Fronted_English/src/views/Teacher/Teaching/course/attendance/Modify.vue"],"sourcesContent":["<template>\n  <div class=\"attendance-modify\">\n    <div class=\"page-header\">\n      <h1>Modify Attendance</h1>\n      <p class=\"page-description\">Manually modify attendance status and remarks</p>\n    </div>\n\n    <section class=\"card form-card\">\n      <form @submit.prevent=\"handleSubmit\" class=\"attendance-form\">\n        <div class=\"form-group\">\n          <label class=\"form-label\">Record ID</label>\n          <div class=\"readonly-field\">{{ formData.record_id || '-' }}</div>\n        </div>\n\n        <div class=\"form-group\">\n          <label class=\"form-label\">Student ID</label>\n          <div class=\"readonly-field\">{{ formData.student_id || '-' }}</div>\n        </div>\n\n        <div class=\"form-group\">\n          <label for=\"status\" class=\"form-label\">Attendance Status</label>\n          <select id=\"status\" v-model.number=\"formData.status\" class=\"form-select\"\n            :class=\"{ 'form-select--error': errors.status }\">\n            <option :value=\"null\">Please select attendance status (optional)</option>\n            <option :value=\"1\">Present</option>\n            <option :value=\"2\">Absent</option>\n            <option :value=\"3\">Late</option>\n            <option :value=\"4\">Leave</option>\n          </select>\n          <div v-if=\"errors.status\" class=\"form-error\">{{ errors.status }}</div>\n          <p class=\"form-hint\">1: Present, 2: Absent, 3: Late, 4: Leave</p>\n        </div>\n\n        <div class=\"form-group\">\n          <label for=\"remarks\" class=\"form-label\">Â§áÊ≥®</label>\n          <textarea id=\"remarks\" v-model=\"formData.remarks\" class=\"form-textarea\"\n            :class=\"{ 'form-textarea--error': errors.remarks }\" placeholder=\"Please enter remarks (optional)\" rows=\"4\"></textarea>\n          <div v-if=\"errors.remarks\" class=\"form-error\">{{ errors.remarks }}</div>\n        </div>\n\n        <div class=\"form-actions\">\n          <button type=\"button\" class=\"button button--secondary\" @click=\"handleCancel\">Cancel</button>\n          <button type=\"submit\" class=\"button\" :disabled=\"loading\">\n            <span v-if=\"loading\">Saving...</span>\n            <span v-else>Save Changes</span>\n          </button>\n        </div>\n      </form>\n    </section>\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive, onMounted } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\n\ndefineOptions({\n  name: 'AttendanceModify'\n})\n\nconst route = useRoute()\nconst router = useRouter()\n\nconst formData = reactive({\n  record_id: '',\n  student_id: '',\n  status: null,\n  remarks: null\n})\n\nconst errors = reactive({})\nconst loading = ref(false)\n\nonMounted(() => {\n  // ‰ªéË∑ØÁî±ÂèÇÊï∞‰∏≠Ëé∑ÂèñÊï∞ÊçÆ\n  const recordId = route.query.recordId\n  const studentId = route.query.studentId\n  const status = route.query.status\n  const remarks = route.query.remarks\n\n  if (recordId) {\n    // Ê≠£Â∏∏ÈÄªËæëÔºö‰ªéÂàóË°®È°µË∑≥ËΩ¨ËøáÊù•ÔºåÂ∏¶‰∫ÜÂèÇÊï∞\n    formData.record_id = recordId\n    if (studentId) formData.student_id = studentId\n    if (status) formData.status = parseInt(status, 10)\n    if (remarks) formData.remarks = remarks\n  } else {\n    // üöë„ÄêÊºîÁ§∫ÊÄ•Êïë‰øÆÂ§ç„Äëüöë\n    // Â¶ÇÊûúÊ≤°ÊúâÂèÇÊï∞ÔºàÊØîÂ¶ÇÁõ¥Êé•ÁÇπÂáª‰∫ÜÈ°∂ÈÉ®TabÔºâÔºåÂä†ËΩΩÈªòËÆ§ÊºîÁ§∫Êï∞ÊçÆÔºåÈò≤Ê≠¢Êä•Èîô\n    // ËøôÊ†∑ÊºîÁ§∫Êó∂ÁÇπÂì™ÈáåÈÉΩ‰∏ç‰ºöÂá∫ÈîôÔºÅ\n    formData.record_id = 'REC-20251120-001'\n    formData.student_id = '2023001 (Zhang San)'\n    formData.status = 2 // ÈªòËÆ§ÊòæÁ§∫Áº∫Âã§\n    formData.remarks = 'Unexcused absence'\n  }\n})\n\nconst validateForm = () => {\n  let isValid = true\n  // È™åËØÅÈÄªËæë‰øùÊåÅ‰∏çÂèò\n  if (!formData.record_id || formData.record_id.trim() === '') {\n    errors.record_id = 'Record ID cannot be empty'\n    isValid = false\n  } else {\n    delete errors.record_id\n  }\n  return isValid\n}\n\nconst handleSubmit = async () => {\n  if (!validateForm()) return\n  loading.value = true\n\n  try {\n    // Ê®°ÊãüËØ∑Ê±ÇÂª∂Ëøü\n    await new Promise(resolve => setTimeout(resolve, 800))\n    // ÊºîÁ§∫Ê®°ÂºèÁõ¥Êé•ÊàêÂäü\n    alert('‚úÖ Attendance status updated successfully!')\n    router.back() // ËøîÂõû‰∏ä‰∏ÄÈ°µ\n  } catch (error) {\n    alert('Êìç‰ΩúÂ§±Ë¥•')\n  } finally {\n    loading.value = false\n  }\n}\n\nconst handleCancel = () => {\n  router.back()\n}\n</script>\n\n<style scoped>\n/* Ê†∑ÂºèÂ§çÁî®Ôºå‰øùÊåÅ‰∏ÄËá¥ÊÄß */\n.attendance-modify {\n  padding: 24px;\n  max-inline-size: 800px;\n  margin: 0 auto;\n}\n\n.page-header {\n  margin-block-end: 24px;\n}\n\n.page-header h1 {\n  font-size: 24px;\n  font-weight: 600;\n  color: #333;\n  margin: 0 0 8px 0;\n}\n\n.page-description {\n  color: #666;\n  font-size: 14px;\n  margin: 0;\n}\n\n.form-card {\n  margin-block-start: 24px;\n}\n\n.card {\n  background: #fff;\n  border-radius: 8px;\n  border: 1px solid #e8e8e8;\n  box-shadow: 0 6px 24px rgba(0, 0, 0, 0.05);\n}\n\n.button {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  padding: 8px 16px;\n  border-radius: 4px;\n  border: none;\n  background: #2A5CAA;\n  color: #fff;\n  font-size: 14px;\n  cursor: pointer;\n  transition: background 0.2s ease;\n}\n\n.button:hover:not(:disabled) {\n  background: #214a88;\n}\n\n.button:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.button--secondary {\n  background: #f5f5f5;\n  color: #333;\n  border: 1px solid #d9d9d9;\n}\n\n.attendance-form {\n  padding: 24px;\n}\n\n.form-group {\n  margin-block-end: 24px;\n}\n\n.form-label {\n  display: block;\n  font-size: 14px;\n  font-weight: 500;\n  color: #333;\n  margin-block-end: 8px;\n}\n\n.readonly-field {\n  padding: 8px 12px;\n  background-color: #f5f5f5;\n  border: 1px solid #d9d9d9;\n  border-radius: 4px;\n  font-size: 14px;\n  color: #666;\n  min-block-size: 38px;\n  display: flex;\n  align-items: center;\n}\n\n.form-select,\n.form-textarea {\n  inline-size: 100%;\n  padding: 8px 12px;\n  border: 1px solid #d9d9d9;\n  border-radius: 4px;\n  font-size: 14px;\n  background-color: #fff;\n  outline: none;\n  transition: all 0.3s;\n  box-sizing: border-box;\n}\n\n.form-select:focus,\n.form-textarea:focus {\n  border-color: #2A5CAA;\n  box-shadow: 0 0 0 2px rgba(42, 92, 170, 0.1);\n}\n\n.form-textarea {\n  resize: vertical;\n  font-family: inherit;\n}\n\n.form-hint {\n  color: #999;\n  font-size: 12px;\n  margin-block-start: 8px;\n  margin-block-end: 0;\n}\n\n.form-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n  margin-block-start: 32px;\n  padding-block-start: 24px;\n  border-block-start: 1px solid #e8e8e8;\n}\n</style>"],"mappings":"AAqDA,SAASA,GAAG,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,KAAI;AAC7C,SAASC,QAAQ,EAAEC,SAAS,QAAQ,YAAW;;;;;;;;;IAM/C,MAAMC,KAAK,GAAGF,QAAQ,CAAC;IACvB,MAAMG,MAAM,GAAGF,SAAS,CAAC;IAEzB,MAAMG,QAAQ,GAAGN,QAAQ,CAAC;MACxBO,SAAS,EAAE,EAAE;MACbC,UAAU,EAAE,EAAE;MACdC,MAAM,EAAE,IAAI;MACZC,OAAO,EAAE;IACX,CAAC;IAED,MAAMC,MAAM,GAAGX,QAAQ,CAAC,CAAC,CAAC;IAC1B,MAAMY,OAAO,GAAGb,GAAG,CAAC,KAAK;IAEzBE,SAAS,CAAC,MAAM;MACd;MACA,MAAMY,QAAQ,GAAGT,KAAK,CAACU,KAAK,CAACD,QAAO;MACpC,MAAME,SAAS,GAAGX,KAAK,CAACU,KAAK,CAACC,SAAQ;MACtC,MAAMN,MAAM,GAAGL,KAAK,CAACU,KAAK,CAACL,MAAK;MAChC,MAAMC,OAAO,GAAGN,KAAK,CAACU,KAAK,CAACJ,OAAM;MAElC,IAAIG,QAAQ,EAAE;QACZ;QACAP,QAAQ,CAACC,SAAS,GAAGM,QAAO;QAC5B,IAAIE,SAAS,EAAET,QAAQ,CAACE,UAAU,GAAGO,SAAQ;QAC7C,IAAIN,MAAM,EAAEH,QAAQ,CAACG,MAAM,GAAGO,QAAQ,CAACP,MAAM,EAAE,EAAE;QACjD,IAAIC,OAAO,EAAEJ,QAAQ,CAACI,OAAO,GAAGA,OAAM;MACxC,CAAC,MAAM;QACL;QACA;QACA;QACAJ,QAAQ,CAACC,SAAS,GAAG,kBAAiB;QACtCD,QAAQ,CAACE,UAAU,GAAG,qBAAoB;QAC1CF,QAAQ,CAACG,MAAM,GAAG,CAAC,EAAC;QACpBH,QAAQ,CAACI,OAAO,GAAG,mBAAkB;MACvC;IACF,CAAC;IAED,MAAMO,YAAY,GAAGA,CAAA,KAAM;MACzB,IAAIC,OAAO,GAAG,IAAG;MACjB;MACA,IAAI,CAACZ,QAAQ,CAACC,SAAS,IAAID,QAAQ,CAACC,SAAS,CAACY,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;QAC3DR,MAAM,CAACJ,SAAS,GAAG,2BAA0B;QAC7CW,OAAO,GAAG,KAAI;MAChB,CAAC,MAAM;QACL,OAAOP,MAAM,CAACJ,SAAQ;MACxB;MACA,OAAOW,OAAM;IACf;IAEA,MAAME,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI,CAACH,YAAY,CAAC,CAAC,EAAE;MACrBL,OAAO,CAACS,KAAK,GAAG,IAAG;MAEnB,IAAI;QACF;QACA,MAAM,IAAIC,OAAO,CAACC,OAAO,IAAIC,UAAU,CAACD,OAAO,EAAE,GAAG,CAAC;QACrD;QACAE,KAAK,CAAC,2CAA2C;QACjDpB,MAAM,CAACqB,IAAI,CAAC,CAAC,EAAC;MAChB,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdF,KAAK,CAAC,MAAM;MACd,CAAC,SAAS;QACRb,OAAO,CAACS,KAAK,GAAG,KAAI;MACtB;IACF;IAEA,MAAMO,YAAY,GAAGA,CAAA,KAAM;MACzBvB,MAAM,CAACqB,IAAI,CAAC;IACd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}